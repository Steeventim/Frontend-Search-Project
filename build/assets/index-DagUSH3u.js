var hd=Object.defineProperty;var pd=(e,t,s)=>t in e?hd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ta=(e,t,s)=>pd(e,typeof t!="symbol"?t+"":t,s);import{r as Cl,g as Pl,a as Rl,c as Es}from"./vendor-CWc6w16D.js";function gd(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();var yr={exports:{}},zt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa;function xd(){if(sa)return zt;sa=1;var e=Cl(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,d){var u,m={},g=null,x=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(x=c.ref);for(u in c)r.call(c,u)&&!o.hasOwnProperty(u)&&(m[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)m[u]===void 0&&(m[u]=c[u]);return{$$typeof:t,type:l,key:g,ref:x,props:m,_owner:i.current}}return zt.Fragment=s,zt.jsx=a,zt.jsxs=a,zt}var ra;function yd(){return ra||(ra=1,yr.exports=xd()),yr.exports}var n=yd(),p=Cl();const ue=Pl(p),ln=gd({__proto__:null,default:ue},[p]);var Cs={},na;function vd(){if(na)return Cs;na=1;var e=Rl();return Cs.createRoot=e.createRoot,Cs.hydrateRoot=e.hydrateRoot,Cs}var bd=vd();Rl();/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},rs.apply(this,arguments)}var Ze;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ze||(Ze={}));const ia="popstate";function jd(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:l}=r.location;return cn("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:$s(i)}return Nd(t,s,null,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wd(){return Math.random().toString(36).substr(2,8)}function aa(e,t){return{usr:e.state,key:e.key,idx:t}}function cn(e,t,s,r){return s===void 0&&(s=null),rs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_t(t):t,{state:s,key:t&&t.key||r||wd()})}function $s(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _t(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Nd(e,t,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Ze.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(rs({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function m(){l=Ze.Pop;let h=u(),v=h==null?null:h-d;d=h,c&&c({action:l,location:f.location,delta:v})}function g(h,v){l=Ze.Push;let b=cn(f.location,h,v);d=u()+1;let j=aa(b,d),P=f.createHref(b);try{a.pushState(j,"",P)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(P)}o&&c&&c({action:l,location:f.location,delta:1})}function x(h,v){l=Ze.Replace;let b=cn(f.location,h,v);d=u();let j=aa(b,d),P=f.createHref(b);a.replaceState(j,"",P),o&&c&&c({action:l,location:f.location,delta:0})}function y(h){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof h=="string"?h:$s(h);return b=b.replace(/ $/,"%20"),ce(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let f={get action(){return l},get location(){return e(i,a)},listen(h){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ia,m),c=h,()=>{i.removeEventListener(ia,m),c=null}},createHref(h){return t(i,h)},createURL:y,encodeLocation(h){let v=y(h);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:x,go(h){return a.go(h)}};return f}var oa;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(oa||(oa={}));function Sd(e,t,s){return s===void 0&&(s="/"),Td(e,t,s)}function Td(e,t,s,r){let i=typeof t=="string"?_t(t):t,o=Jn(i.pathname||"/",s);if(o==null)return null;let a=Al(e);Ed(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=Ud(o);l=_d(a[c],d)}return l}function Al(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(ce(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=tt([r,c.relativePath]),u=s.concat(c);o.children&&o.children.length>0&&(ce(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Al(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:Md(d,o.index),routesMeta:u})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of Dl(o.path))i(o,a,c)}),t}function Dl(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,i=s.endsWith("?"),o=s.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Dl(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ed(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Id(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const Cd=/^:[\w-]+$/,Pd=3,Rd=2,kd=1,Ad=10,Dd=-2,la=e=>e==="*";function Md(e,t){let s=e.split("/"),r=s.length;return s.some(la)&&(r+=Dd),t&&(r+=Rd),s.filter(i=>!la(i)).reduce((i,o)=>i+(Cd.test(o)?Pd:o===""?kd:Ad),r)}function Id(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function _d(e,t,s){let{routesMeta:r}=e,i={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",m=Od({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),g=c.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:tt([o,m.pathname]),pathnameBase:Bd(tt([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=tt([o,m.pathnameBase]))}return a}function Od(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=Ld(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,u,m)=>{let{paramName:g,isOptional:x}=u;if(g==="*"){let f=l[m]||"";a=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}const y=l[m];return x&&!y?d[g]=void 0:d[g]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:e}}function Ld(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),kl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Ud(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function Fd(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:i=""}=typeof e=="string"?_t(e):e;return{pathname:s?s.startsWith("/")?s:Vd(s,t):t,search:zd(r),hash:qd(i)}}function Vd(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function vr(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $d(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Yn(e,t){let s=$d(e);return t?s.map((r,i)=>i===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Zn(e,t,s,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=_t(e):(i=rs({},e),ce(!i.pathname||!i.pathname.includes("?"),vr("?","pathname","search",i)),ce(!i.pathname||!i.pathname.includes("#"),vr("#","pathname","hash",i)),ce(!i.search||!i.search.includes("#"),vr("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=s;else{let m=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?t[m]:"/"}let c=Fd(i,l),d=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const tt=e=>e.join("/").replace(/\/\/+/g,"/"),Bd=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zd=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qd=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hd(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ml=["post","put","patch","delete"];new Set(Ml);const Wd=["get",...Ml];new Set(Wd);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ns.apply(this,arguments)}const Qn=p.createContext(null),Kd=p.createContext(null),ot=p.createContext(null),Ys=p.createContext(null),$e=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Il=p.createContext(null);function Gd(e,t){let{relative:s}=t===void 0?{}:t;Ot()||ce(!1);let{basename:r,navigator:i}=p.useContext(ot),{hash:o,pathname:a,search:l}=Ol(e,{relative:s}),c=a;return r!=="/"&&(c=a==="/"?r:tt([r,a])),i.createHref({pathname:c,search:l,hash:o})}function Ot(){return p.useContext(Ys)!=null}function gs(){return Ot()||ce(!1),p.useContext(Ys).location}function _l(e){p.useContext(ot).static||p.useLayoutEffect(e)}function ke(){let{isDataRoute:e}=p.useContext($e);return e?um():Xd()}function Xd(){Ot()||ce(!1);let e=p.useContext(Qn),{basename:t,future:s,navigator:r}=p.useContext(ot),{matches:i}=p.useContext($e),{pathname:o}=gs(),a=JSON.stringify(Yn(i,s.v7_relativeSplatPath)),l=p.useRef(!1);return _l(()=>{l.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Zn(d,JSON.parse(a),o,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:tt([t,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[t,r,a,o,e])}const Jd=p.createContext(null);function Yd(e){let t=p.useContext($e).outlet;return t&&p.createElement(Jd.Provider,{value:e},t)}function Zd(){let{matches:e}=p.useContext($e),t=e[e.length-1];return t?t.params:{}}function Ol(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=p.useContext(ot),{matches:i}=p.useContext($e),{pathname:o}=gs(),a=JSON.stringify(Yn(i,r.v7_relativeSplatPath));return p.useMemo(()=>Zn(e,JSON.parse(a),o,s==="path"),[e,a,o,s])}function Qd(e,t){return em(e,t)}function em(e,t,s,r){Ot()||ce(!1);let{navigator:i}=p.useContext(ot),{matches:o}=p.useContext($e),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=gs(),u;if(t){var m;let h=typeof t=="string"?_t(t):t;c==="/"||(m=h.pathname)!=null&&m.startsWith(c)||ce(!1),u=h}else u=d;let g=u.pathname||"/",x=g;if(c!=="/"){let h=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let y=Sd(e,{pathname:x}),f=im(y&&y.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:tt([c,i.encodeLocation?i.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:tt([c,i.encodeLocation?i.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),o,s,r);return t&&f?p.createElement(Ys.Provider,{value:{location:ns({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ze.Pop}},f):f}function tm(){let e=cm(),t=Hd(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),s?p.createElement("pre",{style:i},s):null,null)}const sm=p.createElement(tm,null);class rm extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?p.createElement($e.Provider,{value:this.props.routeContext},p.createElement(Il.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nm(e){let{routeContext:t,match:s,children:r}=e,i=p.useContext(Qn);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),p.createElement($e.Provider,{value:t},r)}function im(e,t,s,r){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let a=e,l=(i=s)==null?void 0:i.errors;if(l!=null){let u=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||ce(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let m=a[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:g,errors:x}=s,y=m.route.loader&&g[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||y){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,m,g)=>{let x,y=!1,f=null,h=null;s&&(x=l&&m.route.id?l[m.route.id]:void 0,f=m.route.errorElement||sm,c&&(d<0&&g===0?(dm("route-fallback"),y=!0,h=null):d===g&&(y=!0,h=m.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,g+1)),b=()=>{let j;return x?j=f:y?j=h:m.route.Component?j=p.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,p.createElement(nm,{match:m,routeContext:{outlet:u,matches:v,isDataRoute:s!=null},children:j})};return s&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?p.createElement(rm,{location:s.location,revalidation:s.revalidation,component:f,error:x,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var Ll=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ll||{}),Ul=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ul||{});function am(e){let t=p.useContext(Qn);return t||ce(!1),t}function om(e){let t=p.useContext(Kd);return t||ce(!1),t}function lm(e){let t=p.useContext($e);return t||ce(!1),t}function Fl(e){let t=lm(),s=t.matches[t.matches.length-1];return s.route.id||ce(!1),s.route.id}function cm(){var e;let t=p.useContext(Il),s=om(),r=Fl();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function um(){let{router:e}=am(Ll.UseNavigateStable),t=Fl(Ul.UseNavigateStable),s=p.useRef(!1);return _l(()=>{s.current=!0}),p.useCallback(function(i,o){o===void 0&&(o={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ns({fromRouteId:t},o)))},[e,t])}const ca={};function dm(e,t,s){ca[e]||(ca[e]=!0)}const ua={};function mm(e,t){ua[t]||(ua[t]=!0,console.warn(t))}const da=(e,t,s)=>mm(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+s+"."));function fm(e,t){e!=null&&e.v7_startTransition||da("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||da("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function un(e){let{to:t,replace:s,state:r,relative:i}=e;Ot()||ce(!1);let{future:o,static:a}=p.useContext(ot),{matches:l}=p.useContext($e),{pathname:c}=gs(),d=ke(),u=Zn(t,Yn(l,o.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(u);return p.useEffect(()=>d(JSON.parse(m),{replace:s,state:r,relative:i}),[d,m,i,s,r]),null}function ei(e){return Yd(e.context)}function J(e){ce(!1)}function hm(e){let{basename:t="/",children:s=null,location:r,navigationType:i=Ze.Pop,navigator:o,static:a=!1,future:l}=e;Ot()&&ce(!1);let c=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:o,static:a,future:ns({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=_t(r));let{pathname:u="/",search:m="",hash:g="",state:x=null,key:y="default"}=r,f=p.useMemo(()=>{let h=Jn(u,c);return h==null?null:{location:{pathname:h,search:m,hash:g,state:x,key:y},navigationType:i}},[c,u,m,g,x,y,i]);return f==null?null:p.createElement(ot.Provider,{value:d},p.createElement(Ys.Provider,{children:s,value:f}))}function pm(e){let{children:t,location:s}=e;return Qd(dn(t),s)}new Promise(()=>{});function dn(e,t){t===void 0&&(t=[]);let s=[];return p.Children.forEach(e,(r,i)=>{if(!p.isValidElement(r))return;let o=[...t,i];if(r.type===p.Fragment){s.push.apply(s,dn(r.props.children,o));return}r.type!==J&&ce(!1),!r.props.index||!r.props.children||ce(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=dn(r.props.children,o)),s.push(a)}),s}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},mn.apply(this,arguments)}function gm(e,t){if(e==null)return{};var s={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function xm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ym(e,t){return e.button===0&&(!t||t==="_self")&&!xm(e)}const vm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bm="6";try{window.__reactRouterVersion=bm}catch{}const jm="startTransition",ma=ln[jm];function wm(e){let{basename:t,children:s,future:r,window:i}=e,o=p.useRef();o.current==null&&(o.current=jd({window:i,v5Compat:!0}));let a=o.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},u=p.useCallback(m=>{d&&ma?ma(()=>c(m)):c(m)},[c,d]);return p.useLayoutEffect(()=>a.listen(u),[a,u]),p.useEffect(()=>fm(r),[r]),p.createElement(hm,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:a,future:r})}const Nm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=p.forwardRef(function(t,s){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,g=gm(t,vm),{basename:x}=p.useContext(ot),y,f=!1;if(typeof d=="string"&&Sm.test(d)&&(y=d,Nm))try{let j=new URL(window.location.href),P=d.startsWith("//")?new URL(j.protocol+d):new URL(d),w=Jn(P.pathname,x);P.origin===j.origin&&w!=null?d=w+P.search+P.hash:f=!0}catch{}let h=Gd(d,{relative:i}),v=Tm(d,{replace:a,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:m});function b(j){r&&r(j),j.defaultPrevented||v(j)}return p.createElement("a",mn({},g,{href:y||h,onClick:f||o?r:b,ref:s,target:c}))});var fa;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fa||(fa={}));var ha;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ha||(ha={}));function Tm(e,t){let{target:s,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=ke(),d=gs(),u=Ol(e,{relative:a});return p.useCallback(m=>{if(ym(m,s)){m.preventDefault();let g=r!==void 0?r:$s(d)===$s(u);c(e,{replace:g,state:i,preventScrollReset:o,relative:a,viewTransition:l})}},[d,c,u,r,i,s,e,o,a,l])}const W={AUTH:{LOGIN:"/login",REGISTER:"/register",SETUP:"/setup"},ADMIN:{ROOT:"/admin",DASHBOARD:"/admin/dashboard",COMPANY:"/admin/company",PROJECTS:"/admin/projects",PROCESS_STEPS:"/admin/process-steps",ROLES:"/admin/roles",USERS:"/admin/users",SETTINGS:"/admin/settings",CREATE_ADMIN:"/admin/create-admin"},USER:{ROOT:"/",DASHBOARD:"/dashboard",PROCESSES:"/processes",NEW_PROCESS:"/processes/new",PROCESS_DETAILS:"/processes/:id",PROFILE:"/profile",SETTINGS:"/settings"},SEARCH:{ROOT:"/search",INTERFACE:"/search/interface"},ERROR:"/error"};/*! js-cookie v3.0.5 | MIT */function Ps(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)e[r]=s[r]}return e}var Em={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function fn(e,t){function s(i,o,a){if(!(typeof document>"u")){a=Ps({},t,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var c in a)a[c]&&(l+="; "+c,a[c]!==!0&&(l+="="+a[c].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+l}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},l=0;l<o.length;l++){var c=o[l].split("="),d=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(a[u]=e.read(d,u),i===u)break}catch{}}return i?a[i]:a}}return Object.create({set:s,get:r,remove:function(i,o){s(i,"",Ps({},o,{expires:-1}))},withAttributes:function(i){return fn(this.converter,Ps({},this.attributes,i))},withConverter:function(i){return fn(Ps({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var ne=fn(Em,{path:"/"});function Vl(e,t){return function(){return e.apply(t,arguments)}}const{toString:Cm}=Object.prototype,{getPrototypeOf:ti}=Object,Zs=(e=>t=>{const s=Cm.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),_e=e=>(e=e.toLowerCase(),t=>Zs(t)===e),Qs=e=>t=>typeof t===e,{isArray:Lt}=Array,is=Qs("undefined");function Pm(e){return e!==null&&!is(e)&&e.constructor!==null&&!is(e.constructor)&&Te(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $l=_e("ArrayBuffer");function Rm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$l(e.buffer),t}const km=Qs("string"),Te=Qs("function"),Bl=Qs("number"),er=e=>e!==null&&typeof e=="object",Am=e=>e===!0||e===!1,_s=e=>{if(Zs(e)!=="object")return!1;const t=ti(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dm=_e("Date"),Mm=_e("File"),Im=_e("Blob"),_m=_e("FileList"),Om=e=>er(e)&&Te(e.pipe),Lm=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Te(e.append)&&((t=Zs(e))==="formdata"||t==="object"&&Te(e.toString)&&e.toString()==="[object FormData]"))},Um=_e("URLSearchParams"),[Fm,Vm,$m,Bm]=["ReadableStream","Request","Response","Headers"].map(_e),zm=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xs(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Lt(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=s?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(r=0;r<a;r++)l=o[r],t.call(null,e[l],l,e)}}function zl(e,t){t=t.toLowerCase();const s=Object.keys(e);let r=s.length,i;for(;r-- >0;)if(i=s[r],t===i.toLowerCase())return i;return null}const ft=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ql=e=>!is(e)&&e!==ft;function hn(){const{caseless:e}=ql(this)&&this||{},t={},s=(r,i)=>{const o=e&&zl(t,i)||i;_s(t[o])&&_s(r)?t[o]=hn(t[o],r):_s(r)?t[o]=hn({},r):Lt(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&xs(arguments[r],s);return t}const qm=(e,t,s,{allOwnKeys:r}={})=>(xs(t,(i,o)=>{s&&Te(i)?e[o]=Vl(i,s):e[o]=i},{allOwnKeys:r}),e),Hm=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Wm=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Km=(e,t,s,r)=>{let i,o,a;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=s!==!1&&ti(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Gm=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},Xm=e=>{if(!e)return null;if(Lt(e))return e;let t=e.length;if(!Bl(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Jm=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ti(Uint8Array)),Ym=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},Zm=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},Qm=_e("HTMLFormElement"),ef=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,i){return r.toUpperCase()+i}),pa=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),tf=_e("RegExp"),Hl=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};xs(s,(i,o)=>{let a;(a=t(i,o,e))!==!1&&(r[o]=a||i)}),Object.defineProperties(e,r)},sf=e=>{Hl(e,(t,s)=>{if(Te(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(Te(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},rf=(e,t)=>{const s={},r=i=>{i.forEach(o=>{s[o]=!0})};return Lt(e)?r(e):r(String(e).split(t)),s},nf=()=>{},af=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function of(e){return!!(e&&Te(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const lf=e=>{const t=new Array(10),s=(r,i)=>{if(er(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Lt(r)?[]:{};return xs(r,(a,l)=>{const c=s(a,i+1);!is(c)&&(o[l]=c)}),t[i]=void 0,o}}return r};return s(e,0)},cf=_e("AsyncFunction"),uf=e=>e&&(er(e)||Te(e))&&Te(e.then)&&Te(e.catch),Wl=((e,t)=>e?setImmediate:t?((s,r)=>(ft.addEventListener("message",({source:i,data:o})=>{i===ft&&o===s&&r.length&&r.shift()()},!1),i=>{r.push(i),ft.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Te(ft.postMessage)),df=typeof queueMicrotask<"u"?queueMicrotask.bind(ft):typeof process<"u"&&process.nextTick||Wl,E={isArray:Lt,isArrayBuffer:$l,isBuffer:Pm,isFormData:Lm,isArrayBufferView:Rm,isString:km,isNumber:Bl,isBoolean:Am,isObject:er,isPlainObject:_s,isReadableStream:Fm,isRequest:Vm,isResponse:$m,isHeaders:Bm,isUndefined:is,isDate:Dm,isFile:Mm,isBlob:Im,isRegExp:tf,isFunction:Te,isStream:Om,isURLSearchParams:Um,isTypedArray:Jm,isFileList:_m,forEach:xs,merge:hn,extend:qm,trim:zm,stripBOM:Hm,inherits:Wm,toFlatObject:Km,kindOf:Zs,kindOfTest:_e,endsWith:Gm,toArray:Xm,forEachEntry:Ym,matchAll:Zm,isHTMLForm:Qm,hasOwnProperty:pa,hasOwnProp:pa,reduceDescriptors:Hl,freezeMethods:sf,toObjectSet:rf,toCamelCase:ef,noop:nf,toFiniteNumber:af,findKey:zl,global:ft,isContextDefined:ql,isSpecCompliantForm:of,toJSONObject:lf,isAsyncFn:cf,isThenable:uf,setImmediate:Wl,asap:df};function V(e,t,s,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}E.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Kl=V.prototype,Gl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Gl[e]={value:e}});Object.defineProperties(V,Gl);Object.defineProperty(Kl,"isAxiosError",{value:!0});V.from=(e,t,s,r,i,o)=>{const a=Object.create(Kl);return E.toFlatObject(e,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),V.call(a,e.message,t,s,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const mf=null;function pn(e){return E.isPlainObject(e)||E.isArray(e)}function Xl(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function ga(e,t,s){return e?e.concat(t).map(function(i,o){return i=Xl(i),!s&&o?"["+i+"]":i}).join(s?".":""):t}function ff(e){return E.isArray(e)&&!e.some(pn)}const hf=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function tr(e,t,s){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=E.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,h){return!E.isUndefined(h[f])});const r=s.metaTokens,i=s.visitor||u,o=s.dots,a=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(i))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(E.isDate(y))return y.toISOString();if(!c&&E.isBlob(y))throw new V("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(y)||E.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,f,h){let v=y;if(y&&!h&&typeof y=="object"){if(E.endsWith(f,"{}"))f=r?f:f.slice(0,-2),y=JSON.stringify(y);else if(E.isArray(y)&&ff(y)||(E.isFileList(y)||E.endsWith(f,"[]"))&&(v=E.toArray(y)))return f=Xl(f),v.forEach(function(j,P){!(E.isUndefined(j)||j===null)&&t.append(a===!0?ga([f],P,o):a===null?f:f+"[]",d(j))}),!1}return pn(y)?!0:(t.append(ga(h,f,o),d(y)),!1)}const m=[],g=Object.assign(hf,{defaultVisitor:u,convertValue:d,isVisitable:pn});function x(y,f){if(!E.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(y),E.forEach(y,function(v,b){(!(E.isUndefined(v)||v===null)&&i.call(t,v,E.isString(b)?b.trim():b,f,g))===!0&&x(v,f?f.concat(b):[b])}),m.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return x(e),t}function xa(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function si(e,t){this._pairs=[],e&&tr(e,this,t)}const Jl=si.prototype;Jl.append=function(t,s){this._pairs.push([t,s])};Jl.toString=function(t){const s=t?function(r){return t.call(this,r,xa)}:xa;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function pf(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Yl(e,t,s){if(!t)return e;const r=s&&s.encode||pf;E.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let o;if(i?o=i(t,s):o=E.isURLSearchParams(t)?t.toString():new si(t,s).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class ya{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Zl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gf=typeof URLSearchParams<"u"?URLSearchParams:si,xf=typeof FormData<"u"?FormData:null,yf=typeof Blob<"u"?Blob:null,vf={isBrowser:!0,classes:{URLSearchParams:gf,FormData:xf,Blob:yf},protocols:["http","https","file","blob","url","data"]},ri=typeof window<"u"&&typeof document<"u",gn=typeof navigator=="object"&&navigator||void 0,bf=ri&&(!gn||["ReactNative","NativeScript","NS"].indexOf(gn.product)<0),jf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wf=ri&&window.location.href||"http://localhost",Nf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ri,hasStandardBrowserEnv:bf,hasStandardBrowserWebWorkerEnv:jf,navigator:gn,origin:wf},Symbol.toStringTag,{value:"Module"})),ye={...Nf,...vf};function Sf(e,t){return tr(e,new ye.classes.URLSearchParams,Object.assign({visitor:function(s,r,i,o){return ye.isNode&&E.isBuffer(s)?(this.append(r,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Tf(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ef(e){const t={},s=Object.keys(e);let r;const i=s.length;let o;for(r=0;r<i;r++)o=s[r],t[o]=e[o];return t}function Ql(e){function t(s,r,i,o){let a=s[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=o>=s.length;return a=!a&&E.isArray(i)?i.length:a,c?(E.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!E.isObject(i[a]))&&(i[a]=[]),t(s,r,i[a],o)&&E.isArray(i[a])&&(i[a]=Ef(i[a])),!l)}if(E.isFormData(e)&&E.isFunction(e.entries)){const s={};return E.forEachEntry(e,(r,i)=>{t(Tf(r),i,s,0)}),s}return null}function Cf(e,t,s){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const ys={transitional:Zl,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",i=r.indexOf("application/json")>-1,o=E.isObject(t);if(o&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return i?JSON.stringify(Ql(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Sf(t,this.formSerializer).toString();if((l=E.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return tr(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||i?(s.setContentType("application/json",!1),Cf(t)):t}],transformResponse:[function(t){const s=this.transitional||ys.transitional,r=s&&s.forcedJSONParsing,i=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(r&&!this.responseType||i)){const a=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?V.from(l,V.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ye.classes.FormData,Blob:ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{ys.headers[e]={}});const Pf=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rf=e=>{const t={};let s,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),s=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!s||t[s]&&Pf[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},va=Symbol("internals");function qt(e){return e&&String(e).trim().toLowerCase()}function Os(e){return e===!1||e==null?e:E.isArray(e)?e.map(Os):String(e)}function kf(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const Af=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function br(e,t,s,r,i){if(E.isFunction(r))return r.call(this,t,s);if(i&&(t=s),!!E.isString(t)){if(E.isString(r))return t.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(t)}}function Df(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function Mf(e,t){const s=E.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(i,o,a){return this[r].call(this,t,i,o,a)},configurable:!0})})}let we=class{constructor(t){t&&this.set(t)}set(t,s,r){const i=this;function o(l,c,d){const u=qt(c);if(!u)throw new Error("header name must be a non-empty string");const m=E.findKey(i,u);(!m||i[m]===void 0||d===!0||d===void 0&&i[m]!==!1)&&(i[m||c]=Os(l))}const a=(l,c)=>E.forEach(l,(d,u)=>o(d,u,c));if(E.isPlainObject(t)||t instanceof this.constructor)a(t,s);else if(E.isString(t)&&(t=t.trim())&&!Af(t))a(Rf(t),s);else if(E.isHeaders(t))for(const[l,c]of t.entries())o(c,l,r);else t!=null&&o(s,t,r);return this}get(t,s){if(t=qt(t),t){const r=E.findKey(this,t);if(r){const i=this[r];if(!s)return i;if(s===!0)return kf(i);if(E.isFunction(s))return s.call(this,i,r);if(E.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=qt(t),t){const r=E.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||br(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let i=!1;function o(a){if(a=qt(a),a){const l=E.findKey(r,a);l&&(!s||br(r,r[l],l,s))&&(delete r[l],i=!0)}}return E.isArray(t)?t.forEach(o):o(t),i}clear(t){const s=Object.keys(this);let r=s.length,i=!1;for(;r--;){const o=s[r];(!t||br(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const s=this,r={};return E.forEach(this,(i,o)=>{const a=E.findKey(r,o);if(a){s[a]=Os(i),delete s[o];return}const l=t?Df(o):String(o).trim();l!==o&&delete s[o],s[l]=Os(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return E.forEach(this,(r,i)=>{r!=null&&r!==!1&&(s[i]=t&&E.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[va]=this[va]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=qt(a);r[l]||(Mf(i,a),r[l]=!0)}return E.isArray(t)?t.forEach(o):o(t),this}};we.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(we.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});E.freezeMethods(we);function jr(e,t){const s=this||ys,r=t||s,i=we.from(r.headers);let o=r.data;return E.forEach(e,function(l){o=l.call(s,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function ec(e){return!!(e&&e.__CANCEL__)}function Ut(e,t,s){V.call(this,e??"canceled",V.ERR_CANCELED,t,s),this.name="CanceledError"}E.inherits(Ut,V,{__CANCEL__:!0});function tc(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new V("Request failed with status code "+s.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function If(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _f(e,t){e=e||10;const s=new Array(e),r=new Array(e);let i=0,o=0,a;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[o];a||(a=d),s[i]=c,r[i]=d;let m=o,g=0;for(;m!==i;)g+=s[m++],m=m%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),d-a<t)return;const x=u&&d-u;return x?Math.round(g*1e3/x):void 0}}function Of(e,t){let s=0,r=1e3/t,i,o;const a=(d,u=Date.now())=>{s=u,i=null,o&&(clearTimeout(o),o=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),m=u-s;m>=r?a(d,u):(i=d,o||(o=setTimeout(()=>{o=null,a(i)},r-m)))},()=>i&&a(i)]}const Bs=(e,t,s=3)=>{let r=0;const i=_f(50,250);return Of(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,c=a-r,d=i(c),u=a<=l;r=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-a)/d:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},s)},ba=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},ja=e=>(...t)=>E.asap(()=>e(...t)),Lf=ye.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,ye.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(ye.origin),ye.navigator&&/(msie|trident)/i.test(ye.navigator.userAgent)):()=>!0,Uf=ye.hasStandardBrowserEnv?{write(e,t,s,r,i,o){const a=[e+"="+encodeURIComponent(t)];E.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),E.isString(r)&&a.push("path="+r),E.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ff(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Vf(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function sc(e,t,s){let r=!Ff(t);return e&&(r||s==!1)?Vf(e,t):t}const wa=e=>e instanceof we?{...e}:e;function jt(e,t){t=t||{};const s={};function r(d,u,m,g){return E.isPlainObject(d)&&E.isPlainObject(u)?E.merge.call({caseless:g},d,u):E.isPlainObject(u)?E.merge({},u):E.isArray(u)?u.slice():u}function i(d,u,m,g){if(E.isUndefined(u)){if(!E.isUndefined(d))return r(void 0,d,m,g)}else return r(d,u,m,g)}function o(d,u){if(!E.isUndefined(u))return r(void 0,u)}function a(d,u){if(E.isUndefined(u)){if(!E.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,m){if(m in t)return r(d,u);if(m in e)return r(void 0,d)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,u,m)=>i(wa(d),wa(u),m,!0)};return E.forEach(Object.keys(Object.assign({},e,t)),function(u){const m=c[u]||i,g=m(e[u],t[u],u);E.isUndefined(g)&&m!==l||(s[u]=g)}),s}const rc=e=>{const t=jt({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=t;t.headers=a=we.from(a),t.url=Yl(sc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(E.isFormData(s)){if(ye.hasStandardBrowserEnv||ye.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[d,...u]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ye.hasStandardBrowserEnv&&(r&&E.isFunction(r)&&(r=r(t)),r||r!==!1&&Lf(t.url))){const d=i&&o&&Uf.read(o);d&&a.set(i,d)}return t},$f=typeof XMLHttpRequest<"u",Bf=$f&&function(e){return new Promise(function(s,r){const i=rc(e);let o=i.data;const a=we.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,m,g,x,y;function f(){x&&x(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let h=new XMLHttpRequest;h.open(i.method.toUpperCase(),i.url,!0),h.timeout=i.timeout;function v(){if(!h)return;const j=we.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:j,config:e,request:h};tc(function(R){s(R),f()},function(R){r(R),f()},w),h=null}"onloadend"in h?h.onloadend=v:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(v)},h.onabort=function(){h&&(r(new V("Request aborted",V.ECONNABORTED,e,h)),h=null)},h.onerror=function(){r(new V("Network Error",V.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||Zl;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new V(P,w.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,h)),h=null},o===void 0&&a.setContentType(null),"setRequestHeader"in h&&E.forEach(a.toJSON(),function(P,w){h.setRequestHeader(w,P)}),E.isUndefined(i.withCredentials)||(h.withCredentials=!!i.withCredentials),l&&l!=="json"&&(h.responseType=i.responseType),d&&([g,y]=Bs(d,!0),h.addEventListener("progress",g)),c&&h.upload&&([m,x]=Bs(c),h.upload.addEventListener("progress",m),h.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(u=j=>{h&&(r(!j||j.type?new Ut(null,e,h):j),h.abort(),h=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=If(i.url);if(b&&ye.protocols.indexOf(b)===-1){r(new V("Unsupported protocol "+b+":",V.ERR_BAD_REQUEST,e));return}h.send(o||null)})},zf=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,i;const o=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof V?u:new Ut(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,o(new V(`timeout ${t} of ms exceeded`,V.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>E.asap(l),c}},qf=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,i;for(;r<s;)i=r+t,yield e.slice(r,i),r=i},Hf=async function*(e,t){for await(const s of Wf(e))yield*qf(s,t)},Wf=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Na=(e,t,s,r)=>{const i=Hf(e,t);let o=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let m=u.byteLength;if(s){let g=o+=m;s(g)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},sr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nc=sr&&typeof ReadableStream=="function",Kf=sr&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ic=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Gf=nc&&ic(()=>{let e=!1;const t=new Request(ye.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Sa=64*1024,xn=nc&&ic(()=>E.isReadableStream(new Response("").body)),zs={stream:xn&&(e=>e.body)};sr&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!zs[t]&&(zs[t]=E.isFunction(e[t])?s=>s[t]():(s,r)=>{throw new V(`Response type '${t}' is not supported`,V.ERR_NOT_SUPPORT,r)})})})(new Response);const Xf=async e=>{if(e==null)return 0;if(E.isBlob(e))return e.size;if(E.isSpecCompliantForm(e))return(await new Request(ye.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(E.isArrayBufferView(e)||E.isArrayBuffer(e))return e.byteLength;if(E.isURLSearchParams(e)&&(e=e+""),E.isString(e))return(await Kf(e)).byteLength},Jf=async(e,t)=>{const s=E.toFiniteNumber(e.getContentLength());return s??Xf(t)},Yf=sr&&(async e=>{let{url:t,method:s,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:m="same-origin",fetchOptions:g}=rc(e);d=d?(d+"").toLowerCase():"text";let x=zf([i,o&&o.toAbortSignal()],a),y;const f=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let h;try{if(c&&Gf&&s!=="get"&&s!=="head"&&(h=await Jf(u,r))!==0){let w=new Request(t,{method:"POST",body:r,duplex:"half"}),T;if(E.isFormData(r)&&(T=w.headers.get("content-type"))&&u.setContentType(T),w.body){const[R,N]=ba(h,Bs(ja(c)));r=Na(w.body,Sa,R,N)}}E.isString(m)||(m=m?"include":"omit");const v="credentials"in Request.prototype;y=new Request(t,{...g,signal:x,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?m:void 0});let b=await fetch(y);const j=xn&&(d==="stream"||d==="response");if(xn&&(l||j&&f)){const w={};["status","statusText","headers"].forEach(A=>{w[A]=b[A]});const T=E.toFiniteNumber(b.headers.get("content-length")),[R,N]=l&&ba(T,Bs(ja(l),!0))||[];b=new Response(Na(b.body,Sa,R,()=>{N&&N(),f&&f()}),w)}d=d||"text";let P=await zs[E.findKey(zs,d)||"text"](b,e);return!j&&f&&f(),await new Promise((w,T)=>{tc(w,T,{data:P,headers:we.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:y})})}catch(v){throw f&&f(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,e,y),{cause:v.cause||v}):V.from(v,v&&v.code,e,y)}}),yn={http:mf,xhr:Bf,fetch:Yf};E.forEach(yn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ta=e=>`- ${e}`,Zf=e=>E.isFunction(e)||e===null||e===!1,ac={getAdapter:e=>{e=E.isArray(e)?e:[e];const{length:t}=e;let s,r;const i={};for(let o=0;o<t;o++){s=e[o];let a;if(r=s,!Zf(s)&&(r=yn[(a=String(s)).toLowerCase()],r===void 0))throw new V(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(Ta).join(`
`):" "+Ta(o[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:yn};function wr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ut(null,e)}function Ea(e){return wr(e),e.headers=we.from(e.headers),e.data=jr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ac.getAdapter(e.adapter||ys.adapter)(e).then(function(r){return wr(e),r.data=jr.call(e,e.transformResponse,r),r.headers=we.from(r.headers),r},function(r){return ec(r)||(wr(e),r&&r.response&&(r.response.data=jr.call(e,e.transformResponse,r.response),r.response.headers=we.from(r.response.headers))),Promise.reject(r)})}const oc="1.8.4",rr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Ca={};rr.transitional=function(t,s,r){function i(o,a){return"[Axios v"+oc+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,l)=>{if(t===!1)throw new V(i(a," has been removed"+(s?" in "+s:"")),V.ERR_DEPRECATED);return s&&!Ca[a]&&(Ca[a]=!0,console.warn(i(a," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,a,l):!0}};rr.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Qf(e,t,s){if(typeof e!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const l=e[o],c=l===void 0||a(l,o,e);if(c!==!0)throw new V("option "+o+" must be "+c,V.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new V("Unknown option "+o,V.ERR_BAD_OPTION)}}const Ls={assertOptions:Qf,validators:rr},Oe=Ls.validators;let xt=class{constructor(t){this.defaults=t,this.interceptors={request:new ya,response:new ya}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=jt(this.defaults,s);const{transitional:r,paramsSerializer:i,headers:o}=s;r!==void 0&&Ls.assertOptions(r,{silentJSONParsing:Oe.transitional(Oe.boolean),forcedJSONParsing:Oe.transitional(Oe.boolean),clarifyTimeoutError:Oe.transitional(Oe.boolean)},!1),i!=null&&(E.isFunction(i)?s.paramsSerializer={serialize:i}:Ls.assertOptions(i,{encode:Oe.function,serialize:Oe.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ls.assertOptions(s,{baseUrl:Oe.spelling("baseURL"),withXsrfToken:Oe.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let a=o&&E.merge(o.common,o[s.method]);o&&E.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),s.headers=we.concat(a,o);const l=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(s)===!1||(c=c&&f.synchronous,l.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let u,m=0,g;if(!c){const y=[Ea.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,d),g=y.length,u=Promise.resolve(s);m<g;)u=u.then(y[m++],y[m++]);return u}g=l.length;let x=s;for(m=0;m<g;){const y=l[m++],f=l[m++];try{x=y(x)}catch(h){f.call(this,h);break}}try{u=Ea.call(this,x)}catch(y){return Promise.reject(y)}for(m=0,g=d.length;m<g;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=jt(this.defaults,t);const s=sc(t.baseURL,t.url,t.allowAbsoluteUrls);return Yl(s,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){xt.prototype[t]=function(s,r){return this.request(jt(r||{},{method:t,url:s,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(t){function s(r){return function(o,a,l){return this.request(jt(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}xt.prototype[t]=s(),xt.prototype[t+"Form"]=s(!0)});let eh=class lc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{r.subscribe(l),o=l}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},t(function(o,a,l){r.reason||(r.reason=new Ut(o,a,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new lc(function(i){t=i}),cancel:t}}};function th(e){return function(s){return e.apply(null,s)}}function sh(e){return E.isObject(e)&&e.isAxiosError===!0}const vn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vn).forEach(([e,t])=>{vn[t]=e});function cc(e){const t=new xt(e),s=Vl(xt.prototype.request,t);return E.extend(s,xt.prototype,t,{allOwnKeys:!0}),E.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return cc(jt(e,i))},s}const Z=cc(ys);Z.Axios=xt;Z.CanceledError=Ut;Z.CancelToken=eh;Z.isCancel=ec;Z.VERSION=oc;Z.toFormData=tr;Z.AxiosError=V;Z.Cancel=Z.CanceledError;Z.all=function(t){return Promise.all(t)};Z.spread=th;Z.isAxiosError=sh;Z.mergeConfig=jt;Z.AxiosHeaders=we;Z.formToJSON=e=>Ql(E.isHTMLForm(e)?new FormData(e):e);Z.getAdapter=ac.getAdapter;Z.HttpStatusCode=vn;Z.default=Z;const{Axios:Hb,AxiosError:rt,CanceledError:Wb,isCancel:Kb,CancelToken:Gb,VERSION:Xb,all:Jb,Cancel:Yb,isAxiosError:Zb,spread:Qb,toFormData:ej,AxiosHeaders:tj,HttpStatusCode:sj,formToJSON:rj,getAdapter:nj,mergeConfig:ij}=Z;function rh(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}rh(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ni=e=>typeof e=="number"&&!isNaN(e),as=e=>typeof e=="string",uc=e=>typeof e=="function",nh=e=>as(e)||ni(e),ih=e=>p.isValidElement(e)||as(e)||uc(e)||ni(e),ah=1,dc=()=>`${ah++}`,Le=new Map,bn=[],Pa=new Set,mc=()=>Le.size>0,oh=(e,{containerId:t})=>{var s;return(s=Le.get(t||1))==null?void 0:s.toasts.get(e)};function lh(e,t){var s;if(t)return!!((s=Le.get(t))!=null&&s.isToastActive(e));let r=!1;return Le.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function ch(e){if(!mc()){bn=bn.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||nh(e))Le.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Le.get(e.containerId);t?t.removeToast(e.id):Le.forEach(s=>{s.removeToast(e.id)})}}var uh=(e={})=>{Le.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function dh(e,t){ih(e)&&(mc()||bn.push({content:e,options:t}),Le.forEach(s=>{s.buildToast(e,t)}))}function fc(e,t){Le.forEach(s=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===s.id)&&s.toggle(e,t==null?void 0:t.id)})}function mh(e){return Pa.add(e),()=>{Pa.delete(e)}}function fh(e){return e&&(as(e.toastId)||ni(e.toastId))?e.toastId:dc()}function vs(e,t){return dh(e,t),t.toastId}function nr(e,t){return{...t,type:t&&t.type||e,toastId:fh(t)}}function ir(e){return(t,s)=>vs(t,nr(e,s))}function Y(e,t){return vs(e,nr("default",t))}Y.loading=(e,t)=>vs(e,nr("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function hh(e,{pending:t,error:s,success:r},i){let o;t&&(o=as(t)?Y.loading(t,i):Y.loading(t.render,{...i,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,m)=>{if(u==null){Y.dismiss(o);return}let g={type:d,...a,...i,data:m},x=as(u)?{render:u}:u;return o?Y.update(o,{...g,...x}):Y(x.render,{...g,...x}),m},c=uc(e)?e():e;return c.then(d=>l("success",r,d)).catch(d=>l("error",s,d)),c}Y.promise=hh;Y.success=ir("success");Y.info=ir("info");Y.error=ir("error");Y.warning=ir("warning");Y.warn=Y.warning;Y.dark=(e,t)=>vs(e,nr("default",{theme:"dark",...t}));function ph(e){ch(e)}Y.dismiss=ph;Y.clearWaitingQueue=uh;Y.isActive=lh;Y.update=(e,t={})=>{let s=oh(e,t);if(s){let{props:r,content:i}=s,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:dc()};o.toastId!==e&&(o.staleId=e);let a=o.render||i;delete o.render,vs(a,o)}};Y.done=e=>{Y.update(e,{progress:1})};Y.onChange=mh;Y.play=e=>fc(!0,e);Y.pause=e=>fc(!1,e);const gh=3/24,xh=7,hc={baseURL:"http://localhost:3003",headers:{"Content-Type":"application/json"},timeout:1e4},yh=["/refresh-token","/login","/register","/logout","/init/admin"],F=Z.create(hc),Et={isRefreshing:!1,failedQueue:[]},Ra=(e,t=null)=>{Et.failedQueue.forEach(s=>{e?s.reject(e):s.resolve(t)}),Et.failedQueue=[]},vh=async()=>{try{const e=ne.get("refreshToken");if(!e)throw new Error("Pas de refresh token disponible");const t=await Z.post(`${hc.baseURL}/refresh-token`,{refreshToken:e}),{token:s,refreshToken:r}=t.data;return ne.set("token",s,{expires:gh}),ne.set("refreshToken",r,{expires:xh}),s}catch(e){return console.error("Erreur lors du rafraîchissement du token:",e),bh(),null}},bh=()=>{ne.remove("token"),ne.remove("refreshToken"),window.location.href="/login"},jh=e=>{const s={400:"Requête invalide. Veuillez vérifier vos données.",401:"Session expirée. Veuillez vous reconnecter.",403:"Accès interdit. Vous n'avez pas les autorisations nécessaires.",404:"Ressource non trouvée. Veuillez vérifier l'URL.",408:"Délai d'attente dépassé. Veuillez réessayer.",500:"Erreur serveur. Veuillez réessayer plus tard.",502:"Service temporairement indisponible.",503:"Service indisponible. Veuillez réessayer plus tard."}[e]||"Erreur inconnue. Veuillez réessayer plus tard.";Y.error(s)};F.interceptors.request.use(e=>{const t=ne.get("token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));F.interceptors.response.use(e=>e,async e=>{var r,i;const t=e.config;if(!t)return Promise.reject(e);const s=t.url;if(yh.some(o=>s==null?void 0:s.includes(o)))return Promise.reject(e);if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(Et.isRefreshing)return new Promise((o,a)=>{Et.failedQueue.push({resolve:o,reject:a})}).then(o=>t.headers&&typeof o=="string"?(t.headers.Authorization=`Bearer ${o}`,Z(t)):Promise.reject(new Error("Token invalide"))).catch(o=>Promise.reject(o));t._retry=!0,Et.isRefreshing=!0;try{const o=await vh();if(o&&t.headers)return t.headers.Authorization=`Bearer ${o}`,Ra(null,o),Z(t);throw new Error("Échec du rafraîchissement du token")}catch(o){const a=o instanceof Error?o:new Error("Erreur inconnue");return Ra(a,null),Promise.reject(a)}finally{Et.isRefreshing=!1}}return(i=e.response)!=null&&i.status?jh(e.response.status):Y.error("Erreur réseau. Veuillez vérifier votre connexion."),Promise.reject(e)});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$=(e,t)=>{const s=p.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,...d},u)=>p.createElement("svg",{ref:u,...wh,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Nh(e)}`,l].join(" "),...d},[...t.map(([m,g])=>p.createElement(m,g)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=$("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=$("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=$("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=$("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=$("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=$("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=$("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=$("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=$("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=$("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=$("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=$("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=$("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=$("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=$("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=$("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=$("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=$("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=$("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=$("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=$("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=$("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=$("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=$("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=$("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=$("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=$("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=$("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_h=()=>{const[e,t]=p.useState({email:"",password:"",rememberMe:!1}),[s,r]=p.useState(!1),[i,o]=p.useState(null),[a,l]=p.useState(!1),[c,d]=p.useState(1),[u,m]=p.useState(!1),g=ke();p.useEffect(()=>{const v=localStorage.getItem("userEmail");v&&t(b=>({...b,email:v}))},[]);const x=v=>{const{name:b,value:j,type:P}=v.target,w=P==="checkbox"?v.target.checked:void 0;t(T=>({...T,[b]:P==="checkbox"?w:j}))},y=p.useCallback(()=>{e.email.trim()!==""&&d(2)},[e.email]),f=()=>{d(1),o(null)},h=p.useCallback(async v=>{if(v.preventDefault(),c===1){y();return}r(!0),o(null);try{const b=await F.post("/users/login",{Email:e.email,Password:e.password}),{token:j,user:P}=b.data;if(ne.set("token",j,{expires:e.rememberMe?7:3/24}),e.rememberMe?localStorage.setItem("userEmail",e.email):localStorage.removeItem("userEmail"),!P.roles||P.roles.length===0){g(W.ERROR);return}const w=P.roles[0].name;ne.set("roleUser",w,{expires:e.rememberMe?7:3/24}),console.log("Login: setting roleUser=",w);const N=(await F.get(`/etapes/role/${w}`)).data.data.find(A=>A.sequenceNumber===1);m(!0),setTimeout(()=>{g(w==="superadmin"?W.ADMIN.CREATE_ADMIN:w==="admin"?W.AUTH.SETUP:N?W.SEARCH.INTERFACE:W.USER.DASHBOARD)},500)}catch(b){if(m(!1),Z.isAxiosError(b)&&b.response)switch(b.response.status){case 400:o("Requête invalide. Vérifiez vos informations.");break;case 401:o("Email ou mot de passe incorrect.");break;default:o("Une erreur est survenue lors de la connexion.")}else o("Erreur réseau ou serveur.");console.error("Erreur lors de la connexion:",b)}finally{r(!1)}},[e,c,y,g]);return n.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row bg-gradient-to-br from-blue-50 to-white",children:[n.jsxs("div",{className:"lg:w-1/2 bg-gradient-to-r from-blue-700 to-indigo-600 p-8 hidden lg:flex flex-col justify-center relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute w-96 h-96 rounded-full bg-white/20 -top-20 -left-20 animate-pulse",style:{animationDuration:"8s"}}),n.jsx("div",{className:"absolute w-72 h-72 rounded-full bg-white/20 bottom-40 right-10 animate-pulse",style:{animationDuration:"6s"}}),n.jsx("div",{className:"absolute w-60 h-60 rounded-full bg-white/20 bottom-10 left-40 animate-pulse",style:{animationDuration:"10s"}})]}),n.jsxs("div",{className:"max-w-md mx-auto text-white relative z-10",children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6",children:n.jsx(Nn,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Bienvenue sur notre plateforme"}),n.jsx("p",{className:"text-lg mb-8 text-blue-100",children:"Sécurisée et intuitive, notre solution vous permet de gérer efficacement vos processus métiers."}),n.jsxs("div",{className:"space-y-6 mt-12",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mr-4",children:n.jsx(kh,{className:"w-5 h-5 text-white"})}),n.jsx("p",{className:"text-blue-100",children:"Authentification sécurisée"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mr-4",children:n.jsx(We,{className:"w-5 h-5 text-white"})}),n.jsx("p",{className:"text-blue-100",children:"Gestion des rôles et permissions"})]})]})]})]}),n.jsx("div",{className:"lg:w-1/2 flex flex-col justify-center p-8",children:n.jsx("div",{className:"max-w-md mx-auto w-full",children:u?n.jsxs("div",{className:"text-center py-16 flex flex-col items-center justify-center",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mb-6",children:n.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),n.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-2",children:"Connexion réussie!"}),n.jsx("p",{className:"text-gray-500",children:"Redirection en cours..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-3xl font-bold mb-2 text-gray-800",children:c===1?"Bonjour 👋":"Entrez votre mot de passe"}),n.jsx("p",{className:"text-gray-500 mb-8",children:c===1?"Connectez-vous pour accéder à votre espace":`Connexion avec ${e.email}`}),n.jsx("form",{onSubmit:h,className:"space-y-4",children:c===1?n.jsxs("div",{className:"transition-all duration-500 transform",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:n.jsx(vc,{className:"w-5 h-5 text-gray-400"})}),n.jsx("input",{type:"email",name:"email",value:e.email,onChange:x,required:!0,placeholder:"votre@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 flex items-center justify-center",children:"Continuer"})]}):n.jsxs("div",{className:"transition-all duration-500 transform",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("label",{className:"block text-gray-700 text-sm font-medium",children:"Mot de passe"}),n.jsx("button",{type:"button",onClick:f,className:"text-sm text-blue-600 hover:text-blue-800",children:"Changer d'email"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:n.jsx(Nn,{className:"w-5 h-5 text-gray-400"})}),n.jsx("input",{type:a?"text":"password",name:"password",value:e.password,onChange:x,required:!0,placeholder:"••••••••",className:"w-full pl-10 pr-14 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500",children:a?n.jsx(Ch,{className:"w-5 h-5"}):n.jsx(Ph,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",checked:e.rememberMe,onChange:x,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-gray-700",children:"Se souvenir de moi"}),n.jsx("a",{href:"#",className:"ml-auto text-sm text-blue-600 hover:text-blue-800",children:"Mot de passe oublié ?"})]}),i&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(pc,{className:"w-5 h-5 text-red-500 mr-2"}),n.jsx("p",{className:"text-red-700 text-sm",children:i})]})}),n.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 flex items-center justify-center",children:s?n.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Se connecter"})]})})]})})})]})},di=p.createContext({});function mi(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const fi=typeof window<"u",Nc=fi?p.useLayoutEffect:p.useEffect,ar=p.createContext(null),hi=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Oh extends p.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Lh({children:e,isPresent:t,anchorX:s}){const r=p.useId(),i=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=p.useContext(hi);return p.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:m}=o.current;if(t||!i.current||!l||!c)return;const g=s==="left"?`left: ${u}`:`right: ${m}`;i.current.dataset.motionPopId=r;const x=document.createElement("style");return a&&(x.nonce=a),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[t]),n.jsx(Oh,{isPresent:t,childRef:i,sizeRef:o,children:p.cloneElement(e,{ref:i})})}const Uh=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a,anchorX:l})=>{const c=mi(Fh),d=p.useId();let u=!0,m=p.useMemo(()=>(u=!1,{id:d,initial:t,isPresent:s,custom:i,onExitComplete:g=>{c.set(g,!0);for(const x of c.values())if(!x)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[s,c,r]);return o&&u&&(m={...m}),p.useMemo(()=>{c.forEach((g,x)=>c.set(x,!1))},[s]),p.useEffect(()=>{!s&&!c.size&&r&&r()},[s]),a==="popLayout"&&(e=n.jsx(Lh,{isPresent:s,anchorX:l,children:e})),n.jsx(ar.Provider,{value:m,children:e})};function Fh(){return new Map}function Sc(e=!0){const t=p.useContext(ar);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=t,o=p.useId();p.useEffect(()=>{if(e)return i(o)},[e]);const a=p.useCallback(()=>e&&r&&r(o),[o,r,e]);return!s&&r?[!1,a]:[!0]}const Rs=e=>e.key||"";function Aa(e){const t=[];return p.Children.forEach(e,s=>{p.isValidElement(s)&&t.push(s)}),t}const Sn=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:l="left"})=>{const[c,d]=Sc(a),u=p.useMemo(()=>Aa(e),[e]),m=a&&!c?[]:u.map(Rs),g=p.useRef(!0),x=p.useRef(u),y=mi(()=>new Map),[f,h]=p.useState(u),[v,b]=p.useState(u);Nc(()=>{g.current=!1,x.current=u;for(let w=0;w<v.length;w++){const T=Rs(v[w]);m.includes(T)?y.delete(T):y.get(T)!==!0&&y.set(T,!1)}},[v,m.length,m.join("-")]);const j=[];if(u!==f){let w=[...u];for(let T=0;T<v.length;T++){const R=v[T],N=Rs(R);m.includes(N)||(w.splice(T,0,R),j.push(R))}return o==="wait"&&j.length&&(w=j),b(Aa(w)),h(u),null}const{forceRender:P}=p.useContext(di);return n.jsx(n.Fragment,{children:v.map(w=>{const T=Rs(w),R=a&&!c?!1:u===v||m.includes(T),N=()=>{if(y.has(T))y.set(T,!0);else return;let A=!0;y.forEach(B=>{B||(A=!1)}),A&&(P==null||P(),b(x.current),a&&(d==null||d()),r&&r())};return n.jsx(Uh,{isPresent:R,initial:!g.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,onExitComplete:R?void 0:N,anchorX:l,children:w},T)})})};function pi(e,t){e.indexOf(t)===-1&&e.push(t)}function gi(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Ke=(e,t,s)=>s>t?t:s<e?e:s;let xi=()=>{};const Ge={},Tc=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Ec=e=>/^0[^.\s]+$/u.test(e);function yi(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pe=e=>e,Vh=(e,t)=>s=>t(e(s)),bs=(...e)=>e.reduce(Vh),ls=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class vi{constructor(){this.subscriptions=[]}add(t){return pi(this.subscriptions,t),()=>gi(this.subscriptions,t)}notify(t,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ue=e=>e*1e3,Fe=e=>e/1e3;function Cc(e,t){return t?e*(1e3/t):0}const Pc=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,$h=1e-7,Bh=12;function zh(e,t,s,r,i){let o,a,l=0;do a=t+(s-t)/2,o=Pc(a,r,i)-e,o>0?s=a:t=a;while(Math.abs(o)>$h&&++l<Bh);return a}function js(e,t,s,r){if(e===t&&s===r)return Pe;const i=o=>zh(o,0,1,e,s);return o=>o===0||o===1?o:Pc(i(o),t,r)}const Rc=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kc=e=>t=>1-e(1-t),Ac=js(.33,1.53,.69,.99),bi=kc(Ac),Dc=Rc(bi),Mc=e=>(e*=2)<1?.5*bi(e):.5*(2-Math.pow(2,-10*(e-1))),ji=e=>1-Math.sin(Math.acos(e)),Ic=kc(ji),_c=Rc(ji),qh=js(.42,0,1,1),Hh=js(0,0,.58,1),Oc=js(.42,0,.58,1),Wh=e=>Array.isArray(e)&&typeof e[0]!="number",Lc=e=>Array.isArray(e)&&typeof e[0]=="number",Kh={linear:Pe,easeIn:qh,easeInOut:Oc,easeOut:Hh,circIn:ji,circInOut:_c,circOut:Ic,backIn:bi,backInOut:Dc,backOut:Ac,anticipate:Mc},Gh=e=>typeof e=="string",Da=e=>{if(Lc(e)){xi(e.length===4);const[t,s,r,i]=e;return js(t,s,r,i)}else if(Gh(e))return Kh[e];return e},ks=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ma={value:null};function Xh(e,t){let s=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){a.has(m)&&(u.schedule(m),e()),c++,m(l)}const u={schedule:(m,g=!1,x=!1)=>{const f=x&&i?s:r;return g&&a.add(m),f.has(m)||f.add(m),m},cancel:m=>{r.delete(m),a.delete(m)},process:m=>{if(l=m,i){o=!0;return}i=!0,[s,r]=[r,s],s.forEach(d),t&&Ma.value&&Ma.value.frameloop[t].push(c),c=0,s.clear(),i=!1,o&&(o=!1,u.process(m))}};return u}const Jh=40;function Uc(e,t){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,a=ks.reduce((j,P)=>(j[P]=Xh(o,t?P:void 0),j),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:g,render:x,postRender:y}=a,f=()=>{const j=Ge.useManualTiming?i.timestamp:performance.now();s=!1,Ge.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(j-i.timestamp,Jh),1)),i.timestamp=j,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),m.process(i),g.process(i),x.process(i),y.process(i),i.isProcessing=!1,s&&t&&(r=!1,e(f))},h=()=>{s=!0,r=!0,i.isProcessing||e(f)};return{schedule:ks.reduce((j,P)=>{const w=a[P];return j[P]=(T,R=!1,N=!1)=>(s||h(),w.schedule(T,R,N)),j},{}),cancel:j=>{for(let P=0;P<ks.length;P++)a[ks[P]].cancel(j)},state:i,steps:a}}const{schedule:X,cancel:it,state:fe,steps:Tr}=Uc(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pe,!0);let Us;function Yh(){Us=void 0}const je={now:()=>(Us===void 0&&je.set(fe.isProcessing||Ge.useManualTiming?fe.timestamp:performance.now()),Us),set:e=>{Us=e,queueMicrotask(Yh)}},Fc=e=>t=>typeof t=="string"&&t.startsWith(e),wi=Fc("--"),Zh=Fc("var(--"),Ni=e=>Zh(e)?Qh.test(e.split("/*")[0].trim()):!1,Qh=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ft={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},cs={...Ft,transform:e=>Ke(0,1,e)},As={...Ft,default:1},Yt=e=>Math.round(e*1e5)/1e5,Si=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ep(e){return e==null}const tp=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ti=(e,t)=>s=>!!(typeof s=="string"&&tp.test(s)&&s.startsWith(e)||t&&!ep(s)&&Object.prototype.hasOwnProperty.call(s,t)),Vc=(e,t,s)=>r=>{if(typeof r!="string")return r;const[i,o,a,l]=r.match(Si);return{[e]:parseFloat(i),[t]:parseFloat(o),[s]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},sp=e=>Ke(0,255,e),Er={...Ft,transform:e=>Math.round(sp(e))},ht={test:Ti("rgb","red"),parse:Vc("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Er.transform(e)+", "+Er.transform(t)+", "+Er.transform(s)+", "+Yt(cs.transform(r))+")"};function rp(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Tn={test:Ti("#"),parse:rp,transform:ht.transform},ws=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ye=ws("deg"),Ve=ws("%"),_=ws("px"),np=ws("vh"),ip=ws("vw"),Ia={...Ve,parse:e=>Ve.parse(e)/100,transform:e=>Ve.transform(e*100)},Ct={test:Ti("hsl","hue"),parse:Vc("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ve.transform(Yt(t))+", "+Ve.transform(Yt(s))+", "+Yt(cs.transform(r))+")"},ge={test:e=>ht.test(e)||Tn.test(e)||Ct.test(e),parse:e=>ht.test(e)?ht.parse(e):Ct.test(e)?Ct.parse(e):Tn.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ht.transform(e):Ct.transform(e)},ap=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function op(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Si))==null?void 0:t.length)||0)+(((s=e.match(ap))==null?void 0:s.length)||0)>0}const $c="number",Bc="color",lp="var",cp="var(",_a="${}",up=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function us(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=t.replace(up,c=>(ge.test(c)?(r.color.push(o),i.push(Bc),s.push(ge.parse(c))):c.startsWith(cp)?(r.var.push(o),i.push(lp),s.push(c)):(r.number.push(o),i.push($c),s.push(parseFloat(c))),++o,_a)).split(_a);return{values:s,split:l,indexes:r,types:i}}function zc(e){return us(e).values}function qc(e){const{split:t,types:s}=us(e),r=t.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],i[a]!==void 0){const l=s[a];l===$c?o+=Yt(i[a]):l===Bc?o+=ge.transform(i[a]):o+=i[a]}return o}}const dp=e=>typeof e=="number"?0:e;function mp(e){const t=zc(e);return qc(e)(t.map(dp))}const at={test:op,parse:zc,createTransformer:qc,getAnimatableNone:mp};function Cr(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function fp({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let i=0,o=0,a=0;if(!t)i=o=a=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=Cr(c,l,e+1/3),o=Cr(c,l,e),a=Cr(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function qs(e,t){return s=>s>0?t:e}const re=(e,t,s)=>e+(t-e)*s,Pr=(e,t,s)=>{const r=e*e,i=s*(t*t-r)+r;return i<0?0:Math.sqrt(i)},hp=[Tn,ht,Ct],pp=e=>hp.find(t=>t.test(e));function Oa(e){const t=pp(e);if(!t)return!1;let s=t.parse(e);return t===Ct&&(s=fp(s)),s}const La=(e,t)=>{const s=Oa(e),r=Oa(t);if(!s||!r)return qs(e,t);const i={...s};return o=>(i.red=Pr(s.red,r.red,o),i.green=Pr(s.green,r.green,o),i.blue=Pr(s.blue,r.blue,o),i.alpha=re(s.alpha,r.alpha,o),ht.transform(i))},En=new Set(["none","hidden"]);function gp(e,t){return En.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function xp(e,t){return s=>re(e,t,s)}function Ei(e){return typeof e=="number"?xp:typeof e=="string"?Ni(e)?qs:ge.test(e)?La:bp:Array.isArray(e)?Hc:typeof e=="object"?ge.test(e)?La:yp:qs}function Hc(e,t){const s=[...e],r=s.length,i=e.map((o,a)=>Ei(o)(o,t[a]));return o=>{for(let a=0;a<r;a++)s[a]=i[a](o);return s}}function yp(e,t){const s={...e,...t},r={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Ei(e[i])(e[i],t[i]));return i=>{for(const o in r)s[o]=r[o](i);return s}}function vp(e,t){const s=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][r[o]],l=e.values[a]??0;s[i]=l,r[o]++}return s}const bp=(e,t)=>{const s=at.createTransformer(t),r=us(e),i=us(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?En.has(e)&&!i.values.length||En.has(t)&&!r.values.length?gp(e,t):bs(Hc(vp(r,i),i.values),s):qs(e,t)};function Wc(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?re(e,t,s):Ei(e)(e,t)}const jp=e=>{const t=({timestamp:s})=>e(s);return{start:()=>X.update(t,!0),stop:()=>it(t),now:()=>fe.isProcessing?fe.timestamp:je.now()}},Kc=(e,t,s=10)=>{let r="";const i=Math.max(Math.round(t/s),2);for(let o=0;o<i;o++)r+=e(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Hs=2e4;function Ci(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<Hs;)t+=s,r=e.next(t);return t>=Hs?1/0:t}function wp(e,t=100,s){const r=s({...e,keyframes:[0,t]}),i=Math.min(Ci(r),Hs);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:Fe(i)}}const Np=5;function Gc(e,t,s){const r=Math.max(t-Np,0);return Cc(s-e(r),t-r)}const ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ua=.001;function Sp({duration:e=ie.duration,bounce:t=ie.bounce,velocity:s=ie.velocity,mass:r=ie.mass}){let i,o,a=1-t;a=Ke(ie.minDamping,ie.maxDamping,a),e=Ke(ie.minDuration,ie.maxDuration,Fe(e)),a<1?(i=d=>{const u=d*a,m=u*e,g=u-s,x=Cn(d,a),y=Math.exp(-m);return Ua-g/x*y},o=d=>{const m=d*a*e,g=m*s+s,x=Math.pow(a,2)*Math.pow(d,2)*e,y=Math.exp(-m),f=Cn(Math.pow(d,2),a);return(-i(d)+Ua>0?-1:1)*((g-x)*y)/f}):(i=d=>{const u=Math.exp(-d*e),m=(d-s)*e+1;return-.001+u*m},o=d=>{const u=Math.exp(-d*e),m=(s-d)*(e*e);return u*m});const l=5/e,c=Ep(i,o,l);if(e=Ue(e),isNaN(c))return{stiffness:ie.stiffness,damping:ie.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:e}}}const Tp=12;function Ep(e,t,s){let r=s;for(let i=1;i<Tp;i++)r=r-e(r)/t(r);return r}function Cn(e,t){return e*Math.sqrt(1-t*t)}const Cp=["duration","bounce"],Pp=["stiffness","damping","mass"];function Fa(e,t){return t.some(s=>e[s]!==void 0)}function Rp(e){let t={velocity:ie.velocity,stiffness:ie.stiffness,damping:ie.damping,mass:ie.mass,isResolvedFromDuration:!1,...e};if(!Fa(e,Pp)&&Fa(e,Cp))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,o=2*Ke(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ie.mass,stiffness:i,damping:o}}else{const s=Sp(e);t={...t,...s,mass:ie.mass},t.isResolvedFromDuration=!0}return t}function Ws(e=ie.visualDuration,t=ie.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=s;const o=s.keyframes[0],a=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:u,duration:m,velocity:g,isResolvedFromDuration:x}=Rp({...s,velocity:-Fe(s.velocity||0)}),y=g||0,f=d/(2*Math.sqrt(c*u)),h=a-o,v=Fe(Math.sqrt(c/u)),b=Math.abs(h)<5;r||(r=b?ie.restSpeed.granular:ie.restSpeed.default),i||(i=b?ie.restDelta.granular:ie.restDelta.default);let j;if(f<1){const w=Cn(v,f);j=T=>{const R=Math.exp(-f*v*T);return a-R*((y+f*v*h)/w*Math.sin(w*T)+h*Math.cos(w*T))}}else if(f===1)j=w=>a-Math.exp(-v*w)*(h+(y+v*h)*w);else{const w=v*Math.sqrt(f*f-1);j=T=>{const R=Math.exp(-f*v*T),N=Math.min(w*T,300);return a-R*((y+f*v*h)*Math.sinh(N)+w*h*Math.cosh(N))/w}}const P={calculatedDuration:x&&m||null,next:w=>{const T=j(w);if(x)l.done=w>=m;else{let R=w===0?y:0;f<1&&(R=w===0?Ue(y):Gc(j,w,T));const N=Math.abs(R)<=r,A=Math.abs(a-T)<=i;l.done=N&&A}return l.value=l.done?a:T,l},toString:()=>{const w=Math.min(Ci(P),Hs),T=Kc(R=>P.next(w*R).value,w,30);return w+"ms "+T},toTransition:()=>{}};return P}Ws.applyToOptions=e=>{const t=wp(e,100,Ws);return e.ease=t.ease,e.duration=Ue(t.duration),e.type="keyframes",e};function Pn({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],g={done:!1,value:m},x=N=>l!==void 0&&N<l||c!==void 0&&N>c,y=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let f=s*t;const h=m+f,v=a===void 0?h:a(h);v!==h&&(f=v-m);const b=N=>-f*Math.exp(-N/r),j=N=>v+b(N),P=N=>{const A=b(N),B=j(N);g.done=Math.abs(A)<=d,g.value=g.done?v:B};let w,T;const R=N=>{x(g.value)&&(w=N,T=Ws({keyframes:[g.value,y(g.value)],velocity:Gc(j,N,g.value),damping:i,stiffness:o,restDelta:d,restSpeed:u}))};return R(0),{calculatedDuration:null,next:N=>{let A=!1;return!T&&w===void 0&&(A=!0,P(N),R(N)),w!==void 0&&N>=w?T.next(N-w):(!A&&P(N),g)}}}function kp(e,t,s){const r=[],i=s||Ge.mix||Wc,o=e.length-1;for(let a=0;a<o;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Pe:t;l=bs(c,l)}r.push(l)}return r}function Ap(e,t,{clamp:s=!0,ease:r,mixer:i}={}){const o=e.length;if(xi(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=kp(t,r,i),c=l.length,d=u=>{if(a&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const g=ls(e[m],e[m+1],u);return l[m](g)};return s?u=>d(Ke(e[0],e[o-1],u)):d}function Dp(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const i=ls(0,t,r);e.push(re(s,1,i))}}function Mp(e){const t=[0];return Dp(t,e.length-1),t}function Ip(e,t){return e.map(s=>s*t)}function _p(e,t){return e.map(()=>t||Oc).splice(0,e.length-1)}function Zt({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const i=Wh(r)?r.map(Da):Da(r),o={done:!1,value:t[0]},a=Ip(s&&s.length===t.length?s:Mp(t),e),l=Ap(a,t,{ease:Array.isArray(i)?i:_p(t,i)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const Op=e=>e!==null;function Pi(e,{repeat:t,repeatType:s="loop"},r,i=1){const o=e.filter(Op),l=i<0||t&&s!=="loop"&&t%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const Lp={decay:Pn,inertia:Pn,tween:Zt,keyframes:Zt,spring:Ws};function Xc(e){typeof e.type=="string"&&(e.type=Lp[e.type])}class Ri{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Up=e=>e/100;class Jc extends Ri{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;if(s&&s.updatedAt!==je.now()&&this.tick(je.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Xc(t);const{type:s=Zt,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=t;let{keyframes:l}=t;const c=s||Zt;c!==Zt&&typeof l[0]!="number"&&(this.mixKeyframes=bs(Up,Wc(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Ci(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:g,repeatDelay:x,type:y,onUpdate:f,finalKeyframe:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let j=this.currentTime,P=r;if(m){const N=Math.min(this.currentTime,i)/l;let A=Math.floor(N),B=N%1;!B&&N>=1&&(B=1),B===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(g==="reverse"?(B=1-B,x&&(B-=x/l)):g==="mirror"&&(P=a)),j=Ke(0,1,B)*l}const w=b?{done:!1,value:u[0]}:P.next(j);o&&(w.value=o(w.value));let{done:T}=w;!b&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return R&&y!==Pn&&(w.value=Pi(u,this.options,h,this.speed)),f&&f(w.value),R&&this.finish(),w}then(t,s){return this.finished.then(t,s)}get duration(){return Fe(this.calculatedDuration)}get time(){return Fe(this.currentTime)}set time(t){t=Ue(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(je.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Fe(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=jp,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.state==="finished"?(this.updateFinished(),this.startTime=i):this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(je.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function Fp(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const pt=e=>e*180/Math.PI,Rn=e=>{const t=pt(Math.atan2(e[1],e[0]));return kn(t)},Vp={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Rn,rotateZ:Rn,skewX:e=>pt(Math.atan(e[1])),skewY:e=>pt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},kn=e=>(e=e%360,e<0&&(e+=360),e),Va=Rn,$a=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ba=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$p={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$a,scaleY:Ba,scale:e=>($a(e)+Ba(e))/2,rotateX:e=>kn(pt(Math.atan2(e[6],e[5]))),rotateY:e=>kn(pt(Math.atan2(-e[2],e[0]))),rotateZ:Va,rotate:Va,skewX:e=>pt(Math.atan(e[4])),skewY:e=>pt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function za(e){return e.includes("scale")?1:0}function An(e,t){if(!e||e==="none")return za(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=$p,i=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Vp,i=l}if(!i)return za(t);const o=r[t],a=i[1].split(",").map(zp);return typeof o=="function"?o(a):a[o]}const Bp=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return An(s,t)};function zp(e){return parseFloat(e.trim())}const Vt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wt=new Set(Vt),qa=e=>e===Ft||e===_,qp=new Set(["x","y","z"]),Hp=Vt.filter(e=>!qp.has(e));function Wp(e){const t=[];return Hp.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Mt={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>An(t,"x"),y:(e,{transform:t})=>An(t,"y")};Mt.translateX=Mt.x;Mt.translateY=Mt.y;const vt=new Set;let Dn=!1,Mn=!1,In=!1;function Yc(){if(Mn){const e=Array.from(vt).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const i=Wp(r);i.length&&(s.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([o,a])=>{var l;(l=r.getValue(o))==null||l.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Mn=!1,Dn=!1,vt.forEach(e=>e.complete(In)),vt.clear()}function Zc(){vt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mn=!0)})}function Kp(){In=!0,Zc(),Yc(),In=!1}class ki{constructor(t,s,r,i,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vt.add(this),Dn||(Dn=!0,X.read(Zc),X.resolveKeyframes(Yc))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&s){const l=r.readValue(s,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}Fp(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),vt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Gp=e=>e.startsWith("--");function Xp(e,t,s){Gp(t)?e.style.setProperty(t,s):e.style[t]=s}const Jp=yi(()=>window.ScrollTimeline!==void 0),Yp={};function Zp(e,t){const s=yi(e);return()=>Yp[t]??s()}const Qc=Zp(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gt=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,Ha={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gt([0,.65,.55,1]),circOut:Gt([.55,0,1,.45]),backIn:Gt([.31,.01,.66,-.59]),backOut:Gt([.33,1.53,.69,.99])};function eu(e,t){if(e)return typeof e=="function"?Qc()?Kc(e,t):"ease-out":Lc(e)?Gt(e):Array.isArray(e)?e.map(s=>eu(s,t)||Ha.easeOut):Ha[e]}function Qp(e,t,s,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const m=eu(l,i);Array.isArray(m)&&(u.easing=m);const g={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),e.animate(u,g)}function tu(e){return typeof e=="function"&&"applyToOptions"in e}function eg({type:e,...t}){return tu(e)&&Qc()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tg extends Ri{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l}=t;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=t,xi(typeof t.type!="string");const c=eg(t);this.animation=Qp(s,r,i,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=Pi(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Xp(s,r,d),this.animation.cancel()}this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return Fe(Number(t))}get time(){return Fe(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ue(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Jp()?(this.animation.timeline=t,Pe):s(this)}}const su={anticipate:Mc,backInOut:Dc,circInOut:_c};function sg(e){return e in su}function rg(e){typeof e.ease=="string"&&sg(e.ease)&&(e.ease=su[e.ease])}const Wa=10;class ng extends tg{constructor(t){rg(t),Xc(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new Jc({...a,autoplay:!1}),c=Ue(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-Wa).value,l.sample(c).value,Wa),l.stop()}}const Ka=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(at.test(e)||e==="0")&&!e.startsWith("url("));function ig(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function ag(e,t,s,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=Ka(i,t),l=Ka(o,t);return!a||!l?!1:ig(e)||(s==="spring"||tu(s))&&r}const og=new Set(["opacity","clipPath","filter","transform"]),lg=yi(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cg(e){const{motionValue:t,name:s,repeatDelay:r,repeatType:i,damping:o,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return lg()&&s&&og.has(s)&&(s!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const ug=40;class dg extends Ri{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:c,motionValue:d,element:u,...m}){var y;super(),this.stop=()=>{var f,h;this._animation?(this._animation.stop(),(f=this.stopTimeline)==null||f.call(this)):(h=this.keyframeResolver)==null||h.cancel()},this.createdAt=je.now();const g={autoplay:t,delay:s,type:r,repeat:i,repeatDelay:o,repeatType:a,name:c,motionValue:d,element:u,...m},x=(u==null?void 0:u.KeyframeResolver)||ki;this.keyframeResolver=new x(l,(f,h,v)=>this.onKeyframesResolved(f,h,g,!v),c,d,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,s,r,i){this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:c,isHandoff:d,onUpdate:u,onComplete:m}=r;this.resolvedAt=je.now(),ag(t,o,a,l)||((Ge.instantAnimations||!c)&&(u==null||u(Pi(t,r,s))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ug?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},y=!d&&cg(x)?new ng({...x,element:x.motionValue.owner.current}):new Jc(x);y.finished.then(()=>{m==null||m(),this.notifyFinished()}).catch(Pe),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||Kp(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const mg=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fg(e){const t=mg.exec(e);if(!t)return[,];const[,s,r,i]=t;return[`--${s??r}`,i]}function ru(e,t,s=1){const[r,i]=fg(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return Tc(a)?parseFloat(a):a}return Ni(i)?ru(i,t,s+1):i}function Ai(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const nu=new Set(["width","height","top","left","right","bottom",...Vt]),hg={test:e=>e==="auto",parse:e=>e},iu=e=>t=>t.test(e),au=[Ft,_,Ve,Ye,ip,np,hg],Ga=e=>au.find(iu(e));function pg(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ec(e):!0}const gg=new Set(["brightness","contrast","saturate","opacity"]);function xg(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Si)||[];if(!r)return e;const i=s.replace(r,"");let o=gg.has(t)?1:0;return r!==s&&(o*=100),t+"("+o+i+")"}const yg=/\b([a-z-]*)\(.*?\)/gu,_n={...at,getAnimatableNone:e=>{const t=e.match(yg);return t?t.map(xg).join(" "):e}},Xa={...Ft,transform:Math.round},vg={rotate:Ye,rotateX:Ye,rotateY:Ye,rotateZ:Ye,scale:As,scaleX:As,scaleY:As,scaleZ:As,skew:Ye,skewX:Ye,skewY:Ye,distance:_,translateX:_,translateY:_,translateZ:_,x:_,y:_,z:_,perspective:_,transformPerspective:_,opacity:cs,originX:Ia,originY:Ia,originZ:_},Di={borderWidth:_,borderTopWidth:_,borderRightWidth:_,borderBottomWidth:_,borderLeftWidth:_,borderRadius:_,radius:_,borderTopLeftRadius:_,borderTopRightRadius:_,borderBottomRightRadius:_,borderBottomLeftRadius:_,width:_,maxWidth:_,height:_,maxHeight:_,top:_,right:_,bottom:_,left:_,padding:_,paddingTop:_,paddingRight:_,paddingBottom:_,paddingLeft:_,margin:_,marginTop:_,marginRight:_,marginBottom:_,marginLeft:_,backgroundPositionX:_,backgroundPositionY:_,...vg,zIndex:Xa,fillOpacity:cs,strokeOpacity:cs,numOctaves:Xa},bg={...Di,color:ge,backgroundColor:ge,outlineColor:ge,fill:ge,stroke:ge,borderColor:ge,borderTopColor:ge,borderRightColor:ge,borderBottomColor:ge,borderLeftColor:ge,filter:_n,WebkitFilter:_n},ou=e=>bg[e];function lu(e,t){let s=ou(e);return s!==_n&&(s=at),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const jg=new Set(["auto","none","0"]);function wg(e,t,s){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!jg.has(o)&&us(o).values.length&&(i=e[r]),r++}if(i&&s)for(const o of t)e[o]=lu(s,i)}class Ng extends ki{constructor(t,s,r,i,o){super(t,s,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Ni(d))){const u=ru(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!nu.has(r)||t.length!==2)return;const[i,o]=t,a=Ga(i),l=Ga(o);if(a!==l)if(qa(a)&&qa(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||pg(t[i]))&&r.push(i);r.length&&wg(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mt[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Mt[s](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const{schedule:Mi}=Uc(queueMicrotask,!1),Ae={x:!1,y:!1};function cu(){return Ae.x||Ae.y}function Sg(e){return e==="x"||e==="y"?Ae[e]?null:(Ae[e]=!0,()=>{Ae[e]=!1}):Ae.x||Ae.y?null:(Ae.x=Ae.y=!0,()=>{Ae.x=Ae.y=!1})}function Tg(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(s==null?void 0:s[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function uu(e,t){const s=Tg(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[s,i,()=>r.abort()]}function Ja(e){return!(e.pointerType==="touch"||cu())}function Eg(e,t,s={}){const[r,i,o]=uu(e,s),a=l=>{if(!Ja(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=m=>{Ja(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),o}const du=(e,t)=>t?e===t?!0:du(e,t.parentElement):!1,Ii=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Cg=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pg(e){return Cg.has(e.tagName)||e.tabIndex!==-1}const Xt=new WeakSet;function Ya(e){return t=>{t.key==="Enter"&&e(t)}}function Rr(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Rg=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=Ya(()=>{if(Xt.has(s))return;Rr(s,"down");const i=Ya(()=>{Rr(s,"up")}),o=()=>Rr(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function Za(e){return Ii(e)&&!cu()}function kg(e,t,s={}){const[r,i,o]=uu(e,s),a=l=>{const c=l.currentTarget;if(!Za(l)||Xt.has(c))return;Xt.add(c);const d=t(c,l),u=(x,y)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),!(!Za(x)||!Xt.has(c))&&(Xt.delete(c),typeof d=="function"&&d(x,{success:y}))},m=x=>{u(x,c===window||c===document||s.useGlobalTarget||du(c,x.target))},g=x=>{u(x,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),l instanceof HTMLElement&&(l.addEventListener("focus",d=>Rg(d,i)),!Pg(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}const Qa=30,Ag=e=>!isNaN(parseFloat(e));class Dg{constructor(t,s={}){this.version="12.8.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=je.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=je.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ag(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new vi);const r=this.events[t].add(s);return t==="change"?()=>{r(),X.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){t==="none"&&console.trace(),!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=je.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Qa)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Qa);return Cc(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ds(e,t){return new Dg(e,t)}const Mg=[...au,ge,at],Ig=e=>Mg.find(iu(e)),mu=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fu=p.createContext({strict:!1}),eo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},It={};for(const e in eo)It[e]={isEnabled:t=>eo[e].some(s=>!!t[s])};function _g(e){for(const t in e)It[t]={...It[t],...e[t]}}const Og=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ks(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Og.has(e)}let hu=e=>!Ks(e);function Lg(e){e&&(hu=t=>t.startsWith("on")?!Ks(t):e(t))}try{Lg(require("@emotion/is-prop-valid").default)}catch{}function Ug(e,t,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(hu(i)||s===!0&&Ks(i)||!t&&!Ks(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Fg(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...r)=>e(...r);return new Proxy(s,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const or=p.createContext({});function lr(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ms(e){return typeof e=="string"||Array.isArray(e)}const _i=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Oi=["initial",..._i];function cr(e){return lr(e.animate)||Oi.some(t=>ms(e[t]))}function pu(e){return!!(cr(e)||e.variants)}function Vg(e,t){if(cr(e)){const{initial:s,animate:r}=e;return{initial:s===!1||ms(s)?s:void 0,animate:ms(r)?r:void 0}}return e.inherit!==!1?t:{}}function $g(e){const{initial:t,animate:s}=Vg(e,p.useContext(or));return p.useMemo(()=>({initial:t,animate:s}),[to(t),to(s)])}function to(e){return Array.isArray(e)?e.join(" "):e}const Bg=Symbol.for("motionComponentSymbol");function Pt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zg(e,t,s){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Pt(s)&&(s.current=r))},[t])}const Li=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qg="framerAppearId",gu="data-"+Li(qg),xu=p.createContext({});function Hg(e,t,s,r,i){var f,h;const{visualElement:o}=p.useContext(or),a=p.useContext(fu),l=p.useContext(ar),c=p.useContext(hi).reducedMotion,d=p.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,m=p.useContext(xu);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&Wg(d.current,s,i,m);const g=p.useRef(!1);p.useInsertionEffect(()=>{u&&g.current&&u.update(s,l)});const x=s[gu],y=p.useRef(!!x&&!((f=window.MotionHandoffIsComplete)!=null&&f.call(window,x))&&((h=window.MotionHasOptimisedAnimation)==null?void 0:h.call(window,x)));return Nc(()=>{u&&(g.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Mi.render(u.render),y.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,x)}),y.current=!1))}),u}function Wg(e,t,s,r){const{layoutId:i,layout:o,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:yu(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||l&&Pt(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function yu(e){if(e)return e.options.allowProjection!==!1?e.projection:yu(e.parent)}function Kg({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:i}){e&&_g(e);function o(l,c){let d;const u={...p.useContext(hi),...l,layoutId:Gg(l)},{isStatic:m}=u,g=$g(l),x=r(l,m);if(!m&&fi){Xg();const y=Jg(u);d=y.MeasureLayout,g.visualElement=Hg(i,x,u,t,y.ProjectionNode)}return n.jsxs(or.Provider,{value:g,children:[d&&g.visualElement?n.jsx(d,{visualElement:g.visualElement,...u}):null,s(i,l,zg(x,g.visualElement,c),x,m,g.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=p.forwardRef(o);return a[Bg]=i,a}function Gg({layoutId:e}){const t=p.useContext(di).id;return t&&e!==void 0?t+"-"+e:e}function Xg(e,t){p.useContext(fu).strict}function Jg(e){const{drag:t,layout:s}=It;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const fs={};function Yg(e){for(const t in e)fs[t]=e[t],wi(t)&&(fs[t].isCSSVariable=!0)}function vu(e,{layout:t,layoutId:s}){return wt.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!fs[e]||e==="opacity")}const ve=e=>!!(e&&e.getVelocity),Zg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qg=Vt.length;function ex(e,t,s){let r="",i=!0;for(let o=0;o<Qg;o++){const a=Vt[o],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=mu(l,Di[a]);if(!c){i=!1;const u=Zg[a]||a;r+=`${u}(${d}) `}s&&(t[a]=d)}}return r=r.trim(),s?r=s(t,i?"":r):i&&(r="none"),r}function Ui(e,t,s){const{style:r,vars:i,transformOrigin:o}=e;let a=!1,l=!1;for(const c in t){const d=t[c];if(wt.has(c)){a=!0;continue}else if(wi(c)){i[c]=d;continue}else{const u=mu(d,Di[c]);c.startsWith("origin")?(l=!0,o[c]=u):r[c]=u}}if(t.transform||(a||s?r.transform=ex(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=o;r.transformOrigin=`${c} ${d} ${u}`}}const Fi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bu(e,t,s){for(const r in t)!ve(t[r])&&!vu(r,s)&&(e[r]=t[r])}function tx({transformTemplate:e},t){return p.useMemo(()=>{const s=Fi();return Ui(s,t,e),Object.assign({},s.vars,s.style)},[t])}function sx(e,t){const s=e.style||{},r={};return bu(r,s,e),Object.assign(r,tx(e,t)),r}function rx(e,t){const s={},r=sx(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const nx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vi(e){return typeof e!="string"||e.includes("-")?!1:!!(nx.indexOf(e)>-1||/[A-Z]/u.test(e))}const ix={offset:"stroke-dashoffset",array:"stroke-dasharray"},ax={offset:"strokeDashoffset",array:"strokeDasharray"};function ox(e,t,s=1,r=0,i=!0){e.pathLength=1;const o=i?ix:ax;e[o.offset]=_.transform(-r);const a=_.transform(t),l=_.transform(s);e[o.array]=`${a} ${l}`}function so(e,t,s){return typeof e=="string"?e:_.transform(t+s*e)}function lx(e,t,s){const r=so(t,e.x,e.width),i=so(s,e.y,e.height);return`${r} ${i}`}function $i(e,{attrX:t,attrY:s,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},u,m){if(Ui(e,d,m),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x,dimensions:y}=e;g.transform&&(y&&(x.transform=g.transform),delete g.transform),y&&(i!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=lx(y,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(g.x=t),s!==void 0&&(g.y=s),r!==void 0&&(g.scale=r),a!==void 0&&ox(g,a,l,c,!1)}const ju=()=>({...Fi(),attrs:{}}),Bi=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cx(e,t,s,r){const i=p.useMemo(()=>{const o=ju();return $i(o,t,Bi(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};bu(o,e.style,e),i.style={...o,...i.style}}return i}function ux(e=!1){return(s,r,i,{latestValues:o},a)=>{const c=(Vi(s)?cx:rx)(r,o,a,s),d=Ug(r,typeof s=="string",e),u=s!==p.Fragment?{...d,...c,ref:i}:{},{children:m}=r,g=p.useMemo(()=>ve(m)?m.get():m,[m]);return p.createElement(s,{...u,children:g})}}function ro(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function zi(e,t,s,r){if(typeof t=="function"){const[i,o]=ro(r);t=t(s!==void 0?s:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=ro(r);t=t(s!==void 0?s:e.custom,i,o)}return t}function Fs(e){return ve(e)?e.get():e}function dx({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},r,i,o){const a={latestValues:mx(r,i,o,e),renderState:t()};return s&&(a.onMount=l=>s({props:r,current:l,...a}),a.onUpdate=l=>s(l)),a}const wu=e=>(t,s)=>{const r=p.useContext(or),i=p.useContext(ar),o=()=>dx(e,t,r,i);return s?o():mi(o)};function mx(e,t,s,r){const i={},o=r(e,{});for(const g in o)i[g]=Fs(o[g]);let{initial:a,animate:l}=e;const c=cr(e),d=pu(e);t&&d&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||a===!1;const m=u?l:a;if(m&&typeof m!="boolean"&&!lr(m)){const g=Array.isArray(m)?m:[m];for(let x=0;x<g.length;x++){const y=zi(e,g[x]);if(y){const{transitionEnd:f,transition:h,...v}=y;for(const b in v){let j=v[b];if(Array.isArray(j)){const P=u?j.length-1:0;j=j[P]}j!==null&&(i[b]=j)}for(const b in f)i[b]=f[b]}}}return i}function qi(e,t,s){var o;const{style:r}=e,i={};for(const a in r)(ve(r[a])||t.style&&ve(t.style[a])||vu(a,e)||((o=s==null?void 0:s.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const fx={useVisualState:wu({scrapeMotionValuesFromProps:qi,createRenderState:Fi})};function Nu(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function Su(e,{style:t,vars:s},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in s)e.style.setProperty(o,s[o])}const Tu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Eu(e,t,s,r){Su(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Tu.has(i)?i:Li(i),t.attrs[i])}function Cu(e,t,s){const r=qi(e,t,s);for(const i in e)if(ve(e[i])||ve(t[i])){const o=Vt.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}const no=["x","y","width","height","cx","cy","r"],hx={useVisualState:wu({scrapeMotionValuesFromProps:Cu,createRenderState:ju,onUpdate:({props:e,prevProps:t,current:s,renderState:r,latestValues:i})=>{if(!s)return;let o=!!e.drag;if(!o){for(const l in i)if(wt.has(l)){o=!0;break}}if(!o)return;let a=!t;if(t)for(let l=0;l<no.length;l++){const c=no[l];e[c]!==t[c]&&(a=!0)}a&&X.read(()=>{Nu(s,r),X.render(()=>{$i(r,i,Bi(s.tagName),e.transformTemplate),Eu(s,r)})})}})};function px(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...Vi(r)?hx:fx,preloadedFeatures:e,useRender:ux(i),createVisualElement:t,Component:r};return Kg(a)}}function hs(e,t,s){const r=e.getProps();return zi(r,t,s!==void 0?s:r.custom,e)}const On=e=>Array.isArray(e);function gx(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,ds(s))}function xx(e){return On(e)?e[e.length-1]||0:e}function yx(e,t){const s=hs(e,t);let{transitionEnd:r={},transition:i={},...o}=s||{};o={...o,...r};for(const a in o){const l=xx(o[a]);gx(e,a,l)}}function vx(e){return!!(ve(e)&&e.add)}function Ln(e,t){const s=e.getValue("willChange");if(vx(s))return s.add(t);if(!s&&Ge.WillChange){const r=new Ge.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Pu(e){return e.props[gu]}const bx=e=>e!==null;function jx(e,{repeat:t,repeatType:s="loop"},r){const i=e.filter(bx),o=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[o]}const wx={type:"spring",stiffness:500,damping:25,restSpeed:10},Nx=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Sx={type:"keyframes",duration:.8},Tx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ex=(e,{keyframes:t})=>t.length>2?Sx:wt.has(e)?e.startsWith("scale")?Nx(t[1]):wx:Tx;function Cx({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Hi=(e,t,s,r={},i,o)=>a=>{const l=Ai(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ue(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i};Cx(l)||Object.assign(u,Ex(e,u)),u.duration&&(u.duration=Ue(u.duration)),u.repeatDelay&&(u.repeatDelay=Ue(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),(Ge.instantAnimations||Ge.skipAnimations)&&(m=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,m&&!o&&t.get()!==void 0){const g=jx(u.keyframes,l);if(g!==void 0){X.update(()=>{u.onUpdate(g),u.onComplete()});return}}return new dg(u)};function Px({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function Ru(e,t,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const m=e.getValue(u,e.latestValues[u]??null),g=l[u];if(g===void 0||d&&Px(d,u))continue;const x={delay:s,...Ai(o||{},u)};let y=!1;if(window.MotionHandoffAnimation){const h=Pu(e);if(h){const v=window.MotionHandoffAnimation(h,u,X);v!==null&&(x.startTime=v,y=!0)}}Ln(e,u),m.start(Hi(u,m,g,e.shouldReduceMotion&&nu.has(u)?{type:!1}:x,e,y));const f=m.animation;f&&c.push(f)}return a&&Promise.all(c).then(()=>{X.update(()=>{a&&yx(e,a)})}),c}function Un(e,t,s={}){var c;const r=hs(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const o=r?()=>Promise.all(Ru(e,r,s)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:g}=i;return Rx(e,t,u+d,m,g,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[o,a]:[a,o];return d().then(()=>u())}else return Promise.all([o(),a(s.delay)])}function Rx(e,t,s=0,r=0,i=1,o){const a=[],l=(e.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(kx).forEach((d,u)=>{d.notify("AnimationStart",t),a.push(Un(d,t,{...o,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(a)}function kx(e,t){return e.sortNodePosition(t)}function Ax(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>Un(e,o,s));r=Promise.all(i)}else if(typeof t=="string")r=Un(e,t,s);else{const i=typeof t=="function"?hs(e,t,s.custom):t;r=Promise.all(Ru(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function ku(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const Dx=Oi.length;function Au(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Au(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Dx;s++){const r=Oi[s],i=e.props[r];(ms(i)||i===!1)&&(t[r]=i)}return t}const Mx=[..._i].reverse(),Ix=_i.length;function _x(e){return t=>Promise.all(t.map(({animation:s,options:r})=>Ax(e,s,r)))}function Ox(e){let t=_x(e),s=io(),r=!0;const i=c=>(d,u)=>{var g;const m=hs(e,u,c==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:x,transitionEnd:y,...f}=m;d={...d,...f,...y}}return d};function o(c){t=c(e)}function a(c){const{props:d}=e,u=Au(e.parent)||{},m=[],g=new Set;let x={},y=1/0;for(let h=0;h<Ix;h++){const v=Mx[h],b=s[v],j=d[v]!==void 0?d[v]:u[v],P=ms(j),w=v===c?b.isActive:null;w===!1&&(y=h);let T=j===u[v]&&j!==d[v]&&P;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),b.protectedKeys={...x},!b.isActive&&w===null||!j&&!b.prevProp||lr(j)||typeof j=="boolean")continue;const R=Lx(b.prevProp,j);let N=R||v===c&&b.isActive&&!T&&P||h>y&&P,A=!1;const B=Array.isArray(j)?j:[j];let U=B.reduce(i(v),{});w===!1&&(U={});const{prevResolvedValues:S={}}=b,C={...S,...U},k=q=>{N=!0,g.has(q)&&(A=!0,g.delete(q)),b.needsAnimating[q]=!0;const M=e.getValue(q);M&&(M.liveStyle=!1)};for(const q in C){const M=U[q],O=S[q];if(x.hasOwnProperty(q))continue;let K=!1;On(M)&&On(O)?K=!ku(M,O):K=M!==O,K?M!=null?k(q):g.add(q):M!==void 0&&g.has(q)?k(q):b.protectedKeys[q]=!0}b.prevProp=j,b.prevResolvedValues=U,b.isActive&&(x={...x,...U}),r&&e.blockInitialAnimation&&(N=!1),N&&(!(T&&R)||A)&&m.push(...B.map(q=>({animation:q,options:{type:v}})))}if(g.size){const h={};if(typeof d.initial!="boolean"){const v=hs(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(h.transition=v.transition)}g.forEach(v=>{const b=e.getBaseTarget(v),j=e.getValue(v);j&&(j.liveStyle=!0),h[v]=b??null}),m.push({animation:h})}let f=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(m):Promise.resolve()}function l(c,d){var m;if(s[c].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(c,d)}),s[c].isActive=d;const u=a(c);for(const g in s)s[g].protectedKeys={};return u}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=io(),r=!0}}}function Lx(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ku(t,e):!1}function ut(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function io(){return{animate:ut(!0),whileInView:ut(),whileHover:ut(),whileTap:ut(),whileDrag:ut(),whileFocus:ut(),exit:ut()}}class lt{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Ux extends lt{constructor(t){super(t),t.animationState||(t.animationState=Ox(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lr(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Fx=0;class Vx extends lt{constructor(){super(...arguments),this.id=Fx++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $x={animation:{Feature:Ux},exit:{Feature:Vx}};function ps(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Ns(e){return{point:{x:e.pageX,y:e.pageY}}}const Bx=e=>t=>Ii(t)&&e(t,Ns(t));function Qt(e,t,s,r){return ps(e,t,Bx(s),r)}function Du({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function zx({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qx(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}const Mu=1e-4,Hx=1-Mu,Wx=1+Mu,Iu=.01,Kx=0-Iu,Gx=0+Iu;function be(e){return e.max-e.min}function Xx(e,t,s){return Math.abs(e-t)<=s}function ao(e,t,s,r=.5){e.origin=r,e.originPoint=re(t.min,t.max,e.origin),e.scale=be(s)/be(t),e.translate=re(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Hx&&e.scale<=Wx||isNaN(e.scale))&&(e.scale=1),(e.translate>=Kx&&e.translate<=Gx||isNaN(e.translate))&&(e.translate=0)}function es(e,t,s,r){ao(e.x,t.x,s.x,r?r.originX:void 0),ao(e.y,t.y,s.y,r?r.originY:void 0)}function oo(e,t,s){e.min=s.min+t.min,e.max=e.min+be(t)}function Jx(e,t,s){oo(e.x,t.x,s.x),oo(e.y,t.y,s.y)}function lo(e,t,s){e.min=t.min-s.min,e.max=e.min+be(t)}function ts(e,t,s){lo(e.x,t.x,s.x),lo(e.y,t.y,s.y)}const co=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rt=()=>({x:co(),y:co()}),uo=()=>({min:0,max:0}),oe=()=>({x:uo(),y:uo()});function Ce(e){return[e("x"),e("y")]}function kr(e){return e===void 0||e===1}function Fn({scale:e,scaleX:t,scaleY:s}){return!kr(e)||!kr(t)||!kr(s)}function mt(e){return Fn(e)||_u(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _u(e){return mo(e.x)||mo(e.y)}function mo(e){return e&&e!=="0%"}function Gs(e,t,s){const r=e-s,i=t*r;return s+i}function fo(e,t,s,r,i){return i!==void 0&&(e=Gs(e,i,r)),Gs(e,s,r)+t}function Vn(e,t=0,s=1,r,i){e.min=fo(e.min,t,s,r,i),e.max=fo(e.max,t,s,r,i)}function Ou(e,{x:t,y:s}){Vn(e.x,t.translate,t.scale,t.originPoint),Vn(e.y,s.translate,s.scale,s.originPoint)}const ho=.999999999999,po=1.0000000000001;function Yx(e,t,s,r=!1){const i=s.length;if(!i)return;t.x=t.y=1;let o,a;for(let l=0;l<i;l++){o=s[l],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&At(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Ou(e,a)),r&&mt(o.latestValues)&&At(e,o.latestValues))}t.x<po&&t.x>ho&&(t.x=1),t.y<po&&t.y>ho&&(t.y=1)}function kt(e,t){e.min=e.min+t,e.max=e.max+t}function go(e,t,s,r,i=.5){const o=re(e.min,e.max,i);Vn(e,t,s,o,r)}function At(e,t){go(e.x,t.x,t.scaleX,t.scale,t.originX),go(e.y,t.y,t.scaleY,t.scale,t.originY)}function Lu(e,t){return Du(qx(e.getBoundingClientRect(),t))}function Zx(e,t,s){const r=Lu(e,s),{scroll:i}=t;return i&&(kt(r.x,i.offset.x),kt(r.y,i.offset.y)),r}const Uu=({current:e})=>e?e.ownerDocument.defaultView:null,xo=(e,t)=>Math.abs(e-t);function Qx(e,t){const s=xo(e.x,t.x),r=xo(e.y,t.y);return Math.sqrt(s**2+r**2)}class Fu{constructor(t,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Dr(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=Qx(m.offset,{x:0,y:0})>=3;if(!g&&!x)return;const{point:y}=m,{timestamp:f}=fe;this.history.push({...y,timestamp:f});const{onStart:h,onMove:v}=this.handlers;g||(h&&h(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ar(g,this.transformPagePoint),X.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Dr(m.type==="pointercancel"?this.lastMoveEventInfo:Ar(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,h),y&&y(m,h)},!Ii(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const a=Ns(t),l=Ar(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=fe;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,Dr(l,this.history)),this.removeListeners=bs(Qt(this.contextWindow,"pointermove",this.handlePointerMove),Qt(this.contextWindow,"pointerup",this.handlePointerUp),Qt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),it(this.updatePoint)}}function Ar(e,t){return t?{point:t(e.point)}:e}function yo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dr({point:e},t){return{point:e,delta:yo(e,Vu(t)),offset:yo(e,e0(t)),velocity:t0(t,.1)}}function e0(e){return e[0]}function Vu(e){return e[e.length-1]}function t0(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=Vu(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>Ue(t)));)s--;if(!r)return{x:0,y:0};const o=Fe(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function s0(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?re(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?re(s,e,r.max):Math.min(e,s)),e}function vo(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function r0(e,{top:t,left:s,bottom:r,right:i}){return{x:vo(e.x,s,i),y:vo(e.y,t,r)}}function bo(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function n0(e,t){return{x:bo(e.x,t.x),y:bo(e.y,t.y)}}function i0(e,t){let s=.5;const r=be(e),i=be(t);return i>r?s=ls(t.min,t.max-r,e.min):r>i&&(s=ls(e.min,e.max-i,t.min)),Ke(0,1,s)}function a0(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const $n=.35;function o0(e=$n){return e===!1?e=0:e===!0&&(e=$n),{x:jo(e,"left","right"),y:jo(e,"top","bottom")}}function jo(e,t,s){return{min:wo(e,t),max:wo(e,s)}}function wo(e,t){return typeof e=="number"?e:e[t]||0}const l0=new WeakMap;class c0{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=oe(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ns(u).point)},o=(u,m)=>{const{drag:g,dragPropagation:x,onDragStart:y}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Sg(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ce(h=>{let v=this.getAxisMotionValue(h).get()||0;if(Ve.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[h];j&&(v=be(j)*(parseFloat(v)/100))}}this.originPoint[h]=v}),y&&X.postRender(()=>y(u,m)),Ln(this.visualElement,"transform");const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},a=(u,m)=>{const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:y,onDrag:f}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:h}=m;if(x&&this.currentDirection===null){this.currentDirection=u0(h),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,h),this.updateAxis("y",m.point,h),this.visualElement.render(),f&&f(u,m)},l=(u,m)=>this.stop(u,m),c=()=>Ce(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Fu(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Uu(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&X.postRender(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:i}=this.getProps();if(!r||!Ds(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=s0(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&Pt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=r0(r.layoutBox,t):this.constraints=!1,this.elastic=o0(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ce(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=a0(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Pt(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Zx(r,i.root,this.visualElement.getTransformPagePoint());let a=n0(i.layout.layoutBox,o);if(s){const l=s(zx(a));this.hasMutatedConstraints=!!l,l&&(a=Du(l))}return a}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ce(u=>{if(!Ds(u,s,this.currentDirection))return;let m=c&&c[u]||{};a&&(m={min:0,max:0});const g=i?200:1e6,x=i?40:1e7,y={type:"inertia",velocity:r?t[u]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return Ln(this.visualElement,t),r.start(Hi(t,r,0,s,this.visualElement,!1))}stopAnimation(){Ce(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ce(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ce(s=>{const{drag:r}=this.getProps();if(!Ds(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(s);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[s];o.set(t[s]-re(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Pt(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ce(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=i0({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ce(a=>{if(!Ds(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(re(c,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;l0.set(this.visualElement,this);const t=this.visualElement.current,s=Qt(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Pt(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),X.read(r);const a=ps(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ce(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=$n,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Ds(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function u0(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class d0 extends lt{constructor(t){super(t),this.removeGroupControls=Pe,this.removeListeners=Pe,this.controls=new c0(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pe}unmount(){this.removeGroupControls(),this.removeListeners()}}const No=e=>(t,s)=>{e&&X.postRender(()=>e(t,s))};class m0 extends lt{constructor(){super(...arguments),this.removePointerDownListener=Pe}onPointerDown(t){this.session=new Fu(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Uu(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:No(t),onStart:No(s),onMove:r,onEnd:(o,a)=>{delete this.session,i&&X.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Qt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function So(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ht={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(_.test(e))e=parseFloat(e);else return e;const s=So(e,t.target.x),r=So(e,t.target.y);return`${s}% ${r}%`}},f0={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,i=at.parse(e);if(i.length>5)return r;const o=at.createTransformer(e),a=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const d=re(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),o(i)}};class h0 extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Yg(p0),o&&(s.group&&s.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Vs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:i,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,i||t.layoutDependency!==s||s===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||X.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Mi.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $u(e){const[t,s]=Sc(),r=p.useContext(di);return n.jsx(h0,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(xu),isPresent:t,safeToRemove:s})}const p0={borderRadius:{...Ht,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ht,borderTopRightRadius:Ht,borderBottomLeftRadius:Ht,borderBottomRightRadius:Ht,boxShadow:f0};function g0(e,t,s){const r=ve(e)?e:ds(e);return r.start(Hi("",r,t,s)),r.animation}function x0(e){return e instanceof SVGElement&&e.tagName!=="svg"}const y0=(e,t)=>e.depth-t.depth;class v0{constructor(){this.children=[],this.isDirty=!1}add(t){pi(this.children,t),this.isDirty=!0}remove(t){gi(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(y0),this.isDirty=!1,this.children.forEach(t)}}function b0(e,t){const s=je.now(),r=({timestamp:i})=>{const o=i-s;o>=t&&(it(r),e(o-t))};return X.setup(r,!0),()=>it(r)}const Bu=["TopLeft","TopRight","BottomLeft","BottomRight"],j0=Bu.length,To=e=>typeof e=="string"?parseFloat(e):e,Eo=e=>typeof e=="number"||_.test(e);function w0(e,t,s,r,i,o){i?(e.opacity=re(0,s.opacity??1,N0(r)),e.opacityExit=re(t.opacity??1,0,S0(r))):o&&(e.opacity=re(t.opacity??1,s.opacity??1,r));for(let a=0;a<j0;a++){const l=`border${Bu[a]}Radius`;let c=Co(t,l),d=Co(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Eo(c)===Eo(d)?(e[l]=Math.max(re(To(c),To(d),r),0),(Ve.test(d)||Ve.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=re(t.rotate||0,s.rotate||0,r))}function Co(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const N0=zu(0,.5,Ic),S0=zu(.5,.95,Pe);function zu(e,t,s){return r=>r<e?0:r>t?1:s(ls(e,t,r))}function Po(e,t){e.min=t.min,e.max=t.max}function Ee(e,t){Po(e.x,t.x),Po(e.y,t.y)}function Ro(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ko(e,t,s,r,i){return e-=t,e=Gs(e,1/s,r),i!==void 0&&(e=Gs(e,1/i,r)),e}function T0(e,t=0,s=1,r=.5,i,o=e,a=e){if(Ve.test(t)&&(t=parseFloat(t),t=re(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=re(o.min,o.max,r);e===o&&(l-=t),e.min=ko(e.min,t,s,l,i),e.max=ko(e.max,t,s,l,i)}function Ao(e,t,[s,r,i],o,a){T0(e,t[s],t[r],t[i],t.scale,o,a)}const E0=["x","scaleX","originX"],C0=["y","scaleY","originY"];function Do(e,t,s,r){Ao(e.x,t,E0,s?s.x:void 0,r?r.x:void 0),Ao(e.y,t,C0,s?s.y:void 0,r?r.y:void 0)}function Mo(e){return e.translate===0&&e.scale===1}function qu(e){return Mo(e.x)&&Mo(e.y)}function Io(e,t){return e.min===t.min&&e.max===t.max}function P0(e,t){return Io(e.x,t.x)&&Io(e.y,t.y)}function _o(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Hu(e,t){return _o(e.x,t.x)&&_o(e.y,t.y)}function Oo(e){return be(e.x)/be(e.y)}function Lo(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class R0{constructor(){this.members=[]}add(t){pi(this.members,t),t.scheduleRender()}remove(t){if(gi(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function k0(e,t,s){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,a=(s==null?void 0:s.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:g,skewX:x,skewY:y}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Mr=["","X","Y","Z"],A0={visibility:"hidden"},Uo=1e3;let D0=0;function Ir(e,t,s,r){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Wu(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Pu(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",X,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Wu(r)}function Ku({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=D0++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_0),this.nodes.forEach(V0),this.nodes.forEach($0),this.nodes.forEach(O0)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new v0)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new vi),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=x0(a),this.instance=a;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const g=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=b0(g,250),Vs.hasAnimatedSinceResize&&(Vs.hasAnimatedSinceResize=!1,this.nodes.forEach(Vo))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||u.getDefaultTransition()||W0,{onLayoutAnimationStart:h,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!Hu(this.targetLayout,y),j=!g&&x;if(this.options.layoutRoot||this.resumeFrom||j||g&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,j);const P={...Ai(f,"layout"),onPlay:h,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else g||Vo(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,it(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B0),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fo);return}this.isUpdating||this.nodes.forEach(U0),this.isUpdating=!1,this.nodes.forEach(F0),this.nodes.forEach(M0),this.nodes.forEach(I0),this.clearAllSnapshots();const l=je.now();fe.delta=Ke(0,1e3/60,l-fe.timestamp),fe.timestamp=l,fe.isProcessing=!0,Tr.update.process(fe),Tr.preRender.process(fe),Tr.render.process(fe),fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L0),this.sharedNodes.forEach(z0)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,X.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){X.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!be(this.snapshot.measuredBox.x)&&!be(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!qu(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;a&&(l||mt(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),K0(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:a}=this.options;if(!a)return oe();const l=a.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(G0))){const{scroll:u}=this.root;u&&(kt(l.x,u.offset.x),kt(l.y,u.offset.y))}return l}removeElementScroll(a){var c;const l=oe();if(Ee(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:g}=u;u!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Ee(l,a),kt(l.x,m.offset.x),kt(l.y,m.offset.y))}return l}applyTransform(a,l=!1){const c=oe();Ee(c,a);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&At(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),mt(u.latestValues)&&At(c,u.latestValues)}return mt(this.latestValues)&&At(c,this.latestValues),c}removeTransform(a){const l=oe();Ee(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!mt(d.latestValues))continue;Fn(d.latestValues)&&d.updateSnapshot();const u=oe(),m=d.measurePageBox();Ee(u,m),Do(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return mt(this.latestValues)&&Do(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=fe.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oe(),this.relativeTargetOrigin=oe(),ts(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ee(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=oe(),this.targetWithTransforms=oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ee(this.target,this.layout.layoutBox),Ou(this.target,this.targetDelta)):Ee(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oe(),this.relativeTargetOrigin=oe(),ts(this.relativeTargetOrigin,this.target,x.target),Ee(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fn(this.parent.latestValues)||_u(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===fe.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Ee(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;Yx(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=oe());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ro(this.prevProjectionDelta.x,this.projectionDelta.x),Ro(this.prevProjectionDelta.y,this.projectionDelta.y)),es(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!Lo(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lo(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rt(),this.projectionDelta=Rt(),this.projectionDeltaWithTransform=Rt()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Rt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=oe(),x=c?c.source:void 0,y=this.layout?this.layout.source:void 0,f=x!==y,h=this.getStack(),v=!h||h.members.length<=1,b=!!(f&&!v&&this.options.crossfade===!0&&!this.path.some(H0));this.animationProgress=0;let j;this.mixTargetDelta=P=>{const w=P/1e3;$o(m.x,a.x,w),$o(m.y,a.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ts(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q0(this.relativeTarget,this.relativeTargetOrigin,g,w),j&&P0(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=oe()),Ee(j,this.relativeTarget)),f&&(this.animationValues=u,w0(u,d,this.latestValues,w,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(it(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=X.update(()=>{Vs.hasAnimatedSinceResize=!0,this.currentAnimation=g0(0,Uo,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Uo),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&Gu(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||oe();const m=be(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+m;const g=be(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}Ee(l,c),At(l,u),es(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new R0),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Ir("z",a,d,this.animationValues);for(let u=0;u<Mr.length;u++)Ir(`rotate${Mr[u]}`,a,d,this.animationValues),Ir(`skew${Mr[u]}`,a,d,this.animationValues);a.render();for(const u in d)a.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return A0;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Fs(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Fs(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!mt(this.latestValues)&&(x.transform=c?c({},""):"none",this.hasProjected=!1),x}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=k0(this.projectionDeltaWithTransform,this.treeScale,u),c&&(l.transform=c(u,l.transform));const{x:m,y:g}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in fs){if(u[x]===void 0)continue;const{correct:y,applyTo:f,isCSSVariable:h}=fs[x],v=l.transform==="none"?u[x]:y(u[x],d);if(f){const b=f.length;for(let j=0;j<b;j++)l[f[j]]=v}else h?this.options.visualElement.renderState.vars[x]=v:l[x]=v}return this.options.layoutId&&(l.pointerEvents=d===this?Fs(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Fo),this.root.sharedNodes.clear()}}}function M0(e){e.updateLayout()}function I0(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,a=t.source!==e.layout.source;o==="size"?Ce(m=>{const g=a?t.measuredBox[m]:t.layoutBox[m],x=be(g);g.min=r[m].min,g.max=g.min+x}):Gu(o,t.layoutBox,r)&&Ce(m=>{const g=a?t.measuredBox[m]:t.layoutBox[m],x=be(r[m]);g.max=g.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+x)});const l=Rt();es(l,r,t.layoutBox);const c=Rt();a?es(c,e.applyTransform(i,!0),t.measuredBox):es(c,r,t.layoutBox);const d=!qu(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:x}=m;if(g&&x){const y=oe();ts(y,t.layoutBox,g.layoutBox);const f=oe();ts(f,r,x.layoutBox),Hu(y,f)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function _0(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function O0(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function L0(e){e.clearSnapshot()}function Fo(e){e.clearMeasurements()}function U0(e){e.isLayoutDirty=!1}function F0(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Vo(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function V0(e){e.resolveTargetDelta()}function $0(e){e.calcProjection()}function B0(e){e.resetSkewAndRotation()}function z0(e){e.removeLeadSnapshot()}function $o(e,t,s){e.translate=re(t.translate,0,s),e.scale=re(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Bo(e,t,s,r){e.min=re(t.min,s.min,r),e.max=re(t.max,s.max,r)}function q0(e,t,s,r){Bo(e.x,t.x,s.x,r),Bo(e.y,t.y,s.y,r)}function H0(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const W0={duration:.45,ease:[.4,0,.1,1]},zo=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qo=zo("applewebkit/")&&!zo("chrome/")?Math.round:Pe;function Ho(e){e.min=qo(e.min),e.max=qo(e.max)}function K0(e){Ho(e.x),Ho(e.y)}function Gu(e,t,s){return e==="position"||e==="preserve-aspect"&&!Xx(Oo(t),Oo(s),.2)}function G0(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const X0=Ku({attachResizeListener:(e,t)=>ps(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_r={current:void 0},Xu=Ku({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_r.current){const e=new X0({});e.mount(window),e.setOptions({layoutScroll:!0}),_r.current=e}return _r.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),J0={pan:{Feature:m0},drag:{Feature:d0,ProjectionNode:Xu,MeasureLayout:$u}};function Wo(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,o=r[i];o&&X.postRender(()=>o(t,Ns(t)))}class Y0 extends lt{mount(){const{current:t}=this.node;t&&(this.unmount=Eg(t,(s,r)=>(Wo(this.node,r,"Start"),i=>Wo(this.node,i,"End"))))}unmount(){}}class Z0 extends lt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bs(ps(this.node.current,"focus",()=>this.onFocus()),ps(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ko(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),o=r[i];o&&X.postRender(()=>o(t,Ns(t)))}class Q0 extends lt{mount(){const{current:t}=this.node;t&&(this.unmount=kg(t,(s,r)=>(Ko(this.node,r,"Start"),(i,{success:o})=>Ko(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bn=new WeakMap,Or=new WeakMap,ey=e=>{const t=Bn.get(e.target);t&&t(e)},ty=e=>{e.forEach(ey)};function sy({root:e,...t}){const s=e||document;Or.has(s)||Or.set(s,{});const r=Or.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(ty,{root:e,...t})),r[i]}function ry(e,t,s){const r=sy(t);return Bn.set(e,s),r.observe(e),()=>{Bn.delete(e),r.unobserve(e)}}const ny={some:0,all:1};class iy extends lt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:o}=t,a={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ny[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),g=d?u:m;g&&g(c)};return ry(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(ay(t,s))&&this.startObserver()}unmount(){}}function ay({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const oy={inView:{Feature:iy},tap:{Feature:Q0},focus:{Feature:Z0},hover:{Feature:Y0}},ly={layout:{ProjectionNode:Xu,MeasureLayout:$u}},zn={current:null},Ju={current:!1};function cy(){if(Ju.current=!0,!!fi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zn.current=e.matches;e.addListener(t),t()}else zn.current=!1}const uy=new WeakMap;function dy(e,t,s){for(const r in t){const i=t[r],o=s[r];if(ve(i))e.addValue(r,i);else if(ve(o))e.addValue(r,ds(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(r);e.addValue(r,ds(a!==void 0?a:i,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const Go=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class my{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ki,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=je.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,X.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=a;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=cr(s),this.isVariantNode=pu(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(s,{},this);for(const x in g){const y=g[x];c[x]!==void 0&&ve(y)&&y.set(c[x],!1)}}mount(t){this.current=t,uy.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Ju.current||cy(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),it(this.notifyUpdate),it(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=wt.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&X.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),o(),a&&a(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in It){const s=It[t];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):oe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Go.length;r++){const i=Go[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=t[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=dy(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=ds(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Tc(r)||Ec(r))?r=parseFloat(r):!Ig(r)&&at.test(s)&&(r=lu(t,s)),this.setBaseTarget(t,ve(r)?r.get():r)),ve(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var o;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const a=zi(this.props,s,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[t])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ve(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new vi),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Yu extends my{constructor(){super(...arguments),this.KeyframeResolver=Ng}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ve(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function fy(e){return window.getComputedStyle(e)}class hy extends Yu{constructor(){super(...arguments),this.type="html",this.renderInstance=Su}readValueFromInstance(t,s){if(wt.has(s))return Bp(t,s);{const r=fy(t),i=(wi(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Lu(t,s)}build(t,s,r){Ui(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return qi(t,s,r)}}class py extends Yu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=oe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Nu(this.current,this.renderState)}}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(wt.has(s)){const r=ou(s);return r&&r.default||0}return s=Tu.has(s)?s:Li(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return Cu(t,s,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&X.postRender(this.updateDimensions)}build(t,s,r){$i(t,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,s,r,i){Eu(t,s,r,i)}mount(t){this.isSVGTag=Bi(t.tagName),super.mount(t)}}const gy=(e,t)=>Vi(e)?new py(t):new hy(t,{allowProjection:e!==p.Fragment}),xy=px({...$x,...oy,...J0,...ly},gy),qn=Fg(xy),de=({title:e,children:t,className:s=""})=>n.jsxs("div",{className:`bg-white rounded-lg shadow overflow-hidden ${s}`,children:[e&&n.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e})}),n.jsx("div",{className:"px-4 py-5 sm:p-6",children:t})]}),yy=({children:e,className:t=""})=>n.jsx("div",{className:`px-4 py-5 sm:p-6 ${t}`,children:e}),L=({variant:e="primary",size:t="md",onClick:s,children:r,className:i,disabled:o,...a})=>{const l="inline-flex items-center justify-center rounded-md font-medium focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",danger:"bg-red-100 text-red-700 hover:bg-red-200 focus:ring-red-500"},d={sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return n.jsx("button",{type:"button",onClick:s,disabled:o,className:`${l} ${c[e]} ${d[t]} ${i||""}`,...a,children:r})},le=p.forwardRef(({id:e,placeholder:t,value:s,onChange:r,type:i="text",required:o,...a},l)=>n.jsx("input",{id:e,type:i,placeholder:t,value:s,onChange:r,required:o,ref:l,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${a.className||""}`,...a}));le.displayName="InputField";const gt=({label:e,error:t,className:s="",...r})=>n.jsxs("div",{children:[e&&n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),n.jsx("textarea",{className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${t?"border-red-300":""} ${s}`,...r}),t&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}),ss=({id:e,value:t,onChange:s,children:r,placeholder:i,required:o,className:a})=>n.jsxs("select",{id:e,value:t,onChange:s,required:o,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${a||""}`,children:[i&&n.jsx("option",{value:"",disabled:!0,children:i}),r]}),vy=({content:e,children:t,className:s})=>{const[r,i]=p.useState(!1);return n.jsxs("div",{className:`relative inline-block ${s||""}`,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onFocus:()=>i(!0),onBlur:()=>i(!1),children:[t,r&&n.jsx("div",{className:"absolute z-10 bg-gray-800 text-white text-sm rounded-md px-2 py-1 -top-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap",role:"tooltip",children:e})]})},by=({title:e,children:t,onClose:s,onConfirm:r,className:i})=>n.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 ${i||""}`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900 mb-4",children:e}),n.jsx("div",{className:"text-sm text-gray-600 mb-6",children:t}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx(L,{variant:"secondary",onClick:s,className:"bg-gray-100 text-gray-700 hover:bg-gray-200","aria-label":"Annuler",children:"Annuler"}),n.jsx(L,{variant:"primary",onClick:r,className:"bg-blue-600 text-white hover:bg-blue-700","aria-label":"Confirmer",children:"Confirmer"})]})]})}),me=[];for(let e=0;e<256;++e)me.push((e+256).toString(16).slice(1));function jy(e,t=0){return(me[e[t+0]]+me[e[t+1]]+me[e[t+2]]+me[e[t+3]]+"-"+me[e[t+4]]+me[e[t+5]]+"-"+me[e[t+6]]+me[e[t+7]]+"-"+me[e[t+8]]+me[e[t+9]]+"-"+me[e[t+10]]+me[e[t+11]]+me[e[t+12]]+me[e[t+13]]+me[e[t+14]]+me[e[t+15]]).toLowerCase()}let Lr;const wy=new Uint8Array(16);function Ny(){if(!Lr){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Lr=crypto.getRandomValues.bind(crypto)}return Lr(wy)}const Sy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xo={randomUUID:Sy};function Wt(e,t,s){var i;if(Xo.randomUUID&&!e)return Xo.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??Ny();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jy(r)}const Ty=e=>{const[t,s]=p.useState(e),[r,i]=p.useState({});return{values:t,errors:r,handleChange:(l,c)=>{console.log(`handleChange called for ${String(l)} with value: ${c}`),s(d=>({...d,[l]:c})),i(d=>({...d,[l]:""}))},validate:l=>{const c={};return Object.entries(l).forEach(([d,u])=>{const m=u?u(t[d]):"";m&&(c[d]=m)}),i(c),Object.keys(c).length===0},setValues:s,setErrors:i}},Ey=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"":"Email invalide",Cy=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e)?"":"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial",Py=e=>e?/^\+?[\d\s-]{10,}$/.test(e)?"":"Numéro de téléphone invalide":"",Ry=e=>{try{if(!e||typeof e!="object")return!1;const{currentStep:t,company:s,projects:r,processSteps:i,roles:o,users:a}=e;return!(typeof t!="number"||!s||!Array.isArray(r)||!Array.isArray(i)||!Array.isArray(o)||!Array.isArray(a))}catch{return!1}},ky=()=>{const e=ke(),[t,s]=p.useState(0),[r,i]=p.useState(!1),[o,a]=p.useState(null),[l,c]=p.useState(null),[d,u]=p.useState(""),m=p.useRef(null),g=Ty({companyName:"",companyDescription:""}),[x,y]=p.useState([]),[f,h]=p.useState([]),[v,b]=p.useState([]),[j,P]=p.useState([]);p.useEffect(()=>{const S=localStorage.getItem("setupWizardProgress");if(S)try{const C=JSON.parse(S);if(Ry(C)){const{currentStep:k,company:D,projects:H,processSteps:q,roles:M,users:O}=C;s(k),g.setValues(D),y(H),h(q),b(M),P(O)}else console.warn("Données sauvegardées invalides, ignorées."),localStorage.removeItem("setupWizardProgress")}catch(C){console.error("Erreur lors du chargement des progrès:",C),localStorage.removeItem("setupWizardProgress")}},[]);const w=()=>{localStorage.removeItem("setupWizardProgress")},T=S=>{if(l){switch(l){case"project":y(x.filter(C=>C.id!==S));break;case"step":h(f.filter(C=>C.id!==S));break;case"role":b(v.filter(C=>C.id!==S));break;case"user":P(j.filter(C=>C.id!==S));break}a(null),c(null)}},R=()=>{const S={currentStep:t,company:g.values,projects:x,processSteps:f,roles:v,users:j.map(({tempPassword:C,...k})=>k)};try{localStorage.setItem("setupWizardProgress",JSON.stringify(S)),e("/admin/dashboard")}catch(C){u("Erreur lors de la sauvegarde des progrès."),console.error(C)}},N=[{title:"Configuration de l'entreprise",description:"Saisissez les informations de base de votre structure.",icon:gc,content:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Entrez le nom légal et une brève description de votre entreprise."," ",n.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>alert("Aide : Utilisez le nom officiel de l'entreprise."),children:"Besoin d'aide ?"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom de l'entreprise ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:"companyName",placeholder:"Ex: Ma Société SAS",value:g.values.companyName,onChange:S=>g.handleChange("companyName",S.target.value),"aria-invalid":!!g.errors.companyName,"aria-describedby":"companyName-error",ref:m,required:!0}),g.errors.companyName&&n.jsx("p",{id:"companyName-error",className:"text-red-500 text-sm mt-1",children:g.errors.companyName})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"companyDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx(gt,{id:"companyDescription",placeholder:"Description de votre entreprise",rows:4,value:g.values.companyDescription,onChange:S=>g.handleChange("companyDescription",S.target.value)})]})]}),apiEndpoint:"/structures",validate:()=>g.validate({companyName:S=>S.trim()?"":"Le nom de l'entreprise est requis"}),formatData:()=>({NomStructure:g.values.companyName,DescriptionStructure:g.values.companyDescription})},{title:"Projets",description:"Définissez les types de projets que vous gérez.",icon:nt,content:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Types de projets"}),n.jsxs(L,{variant:"secondary",size:"sm",onClick:()=>{const S={id:Wt(),Libelle:"",Description:""};y([...x,S]),setTimeout(()=>{var C;return(C=m.current)==null?void 0:C.focus()},0)},"aria-label":"Ajouter un projet",className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:[n.jsx(Me,{className:"w-4 h-4 mr-2"}),"Ajouter un projet"]})]}),n.jsx("div",{className:"space-y-4 divide-y divide-gray-200",children:x.map((S,C)=>n.jsx("div",{className:"pt-4",children:n.jsxs("div",{className:"bg-white shadow-sm border border-gray-100 rounded-lg p-6",children:[n.jsxs("h4",{className:"text-md font-semibold text-gray-700 mb-4",children:["Projet ",C+1," ",S.Libelle&&n.jsx(Kt,{className:"w-4 h-4 text-green-500 inline-block ml-2"})]}),n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:`project-libelle-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom du projet ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:`project-libelle-${S.id}`,value:S.Libelle,onChange:k=>{console.log(`Updating project ${S.id} Libelle to: ${k.target.value}`);const D=[...x];D[C]={...D[C],Libelle:k.target.value},y(D)},placeholder:"Nom du projet",required:!0,ref:C===x.length-1?m:null})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`project-description-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx(gt,{id:`project-description-${S.id}`,value:S.Description,onChange:k=>{console.log(`Updating project ${S.id} Description to: ${k.target.value}`);const D=[...x];D[C]={...D[C],Description:k.target.value},y(D)},placeholder:"Description du projet",rows:2})]})]}),n.jsx(L,{variant:"danger",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>{a(S.id),c("project")},"aria-label":"Supprimer le projet",children:n.jsx(He,{className:"w-4 h-4"})})]})]})},S.id))})]}),apiEndpoint:"/projets",validate:()=>x.length===0?!1:x.every(S=>S.Libelle.trim()),formatData:()=>({Libelle:x[0].Libelle,Description:x[0].Description})},{title:"Configuration des étapes de processus",description:"Définissez les étapes pour chaque type de projet.",icon:os,content:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Étapes de processus"}),n.jsxs(L,{variant:"secondary",size:"sm",onClick:()=>{const S={id:Wt(),projectId:"",stepName:"",stepDescription:"",validation:"Validation par le chef de projet"};h([...f,S]),setTimeout(()=>{var C;return(C=m.current)==null?void 0:C.focus()},0)},"aria-label":"Ajouter une étape",className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:[n.jsx(Me,{className:"w-4 h-4 mr-2"}),"Ajouter une étape"]})]}),n.jsx("div",{className:"space-y-4 divide-y divide-gray-200",children:x.map(S=>n.jsx("div",{className:"pt-4",children:n.jsxs("div",{className:"bg-white shadow-sm border border-gray-100 rounded-lg p-6",children:[n.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4",children:S.Libelle}),f.filter(C=>C.projectId===S.Libelle).map(C=>{var k;return n.jsxs("div",{className:"space-y-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:`step-name-${C.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom de l'étape"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:`step-name-${C.id}`,value:C.stepName,onChange:D=>{console.log(`Updating step ${C.id} stepName to: ${D.target.value}`),h(f.map(H=>H.id===C.id?{...H,stepName:D.target.value}:H))},placeholder:"Nom de l'étape",required:!0,ref:C.id===((k=f[f.length-1])==null?void 0:k.id)?m:null})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`step-description-${C.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx(gt,{id:`step-description-${C.id}`,value:C.stepDescription,onChange:D=>{console.log(`Updating step ${C.id} stepDescription to: ${D.target.value}`),h(f.map(H=>H.id===C.id?{...H,stepDescription:D.target.value}:H))},placeholder:"Description de l'étape",rows:2})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`step-validation-${C.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Validation"}),n.jsxs(ss,{id:`step-validation-${C.id}`,value:C.validation,onChange:D=>{console.log(`Updating step ${C.id} validation to: ${D.target.value}`),h(f.map(H=>H.id===C.id?{...H,validation:D.target.value}:H))},children:[n.jsx("option",{value:"Validation par le chef de projet",children:"Chef de projet"}),n.jsx("option",{value:"Validation automatique",children:"Automatique"}),n.jsx("option",{value:"Validation manuelle",children:"Manuelle"})]})]}),n.jsx(L,{variant:"danger",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>{a(C.id),c("step")},"aria-label":"Supprimer l'étape",children:n.jsx(He,{className:"w-4 h-4"})})]},C.id)}),n.jsxs(L,{variant:"secondary",size:"sm",onClick:()=>{const C={id:Wt(),projectId:S.Libelle,stepName:"",stepDescription:"",validation:"Validation par le chef de projet"};h([...f,C]),setTimeout(()=>{var k;return(k=m.current)==null?void 0:k.focus()},0)},"aria-label":`Ajouter une étape pour ${S.Libelle}`,className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:[n.jsx(Me,{className:"w-4 h-4 mr-2"}),"Ajouter une étape"]})]})},S.id))})]}),apiEndpoint:"/etapes",validate:()=>f.length===0?!1:f.every(S=>S.stepName.trim()&&S.projectId),formatData:()=>f.map(S=>({LibelleEtape:S.stepName,Description:S.stepDescription,Validation:S.validation,typeProjetLibelle:S.projectId}))},{title:"Rôles et permissions",description:"Définissez les rôles et leurs droits d'accès.",icon:os,content:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Rôles"}),n.jsxs(L,{variant:"secondary",size:"sm",onClick:()=>{const S={id:Wt(),name:"",description:"",isSystemRole:!1,etapeName:"",permissions:[]};b([...v,S]),setTimeout(()=>{var C;return(C=m.current)==null?void 0:C.focus()},0)},"aria-label":"Ajouter un rôle",className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:[n.jsx(Me,{className:"w-4 h-4 mr-2"}),"Ajouter un rôle"]})]}),n.jsx("div",{className:"space-y-4 divide-y divide-gray-200",children:v.map((S,C)=>n.jsx("div",{className:"pt-4",children:n.jsxs("div",{className:"bg-white shadow-sm border border-gray-100 rounded-lg p-6",children:[n.jsxs("h4",{className:"text-md font-semibold text-gray-700 mb-4",children:["Rôle ",C+1," ",S.name&&S.etapeName&&S.permissions.length>0&&n.jsx(Kt,{className:"w-4 h-4 text-green-500 inline-block ml-2"})]}),n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-4 flex-1",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:`role-name-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom du rôle ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:`role-name-${S.id}`,value:S.name,onChange:k=>{console.log(`Updating role ${S.id} name to: ${k.target.value}`);const D=[...v];D[C]={...D[C],name:k.target.value},b(D)},placeholder:"Entrez le nom du rôle",required:!0,ref:C===v.length-1?m:null})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`role-description-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx(gt,{id:`role-description-${S.id}`,value:S.description,onChange:k=>{console.log(`Updating role ${S.id} description to: ${k.target.value}`);const D=[...v];D[C]={...D[C],description:k.target.value},b(D)},placeholder:"Entrez la description du rôle",rows:2})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:`role-etape-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Étape associée ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ss,{id:`role-etape-${S.id}`,value:S.etapeName,onChange:k=>{console.log(`Updating role ${S.id} etapeName to: ${k.target.value}`);const D=[...v];D[C]={...D[C],etapeName:k.target.value},b(D)},placeholder:"Sélectionner une étape",required:!0,children:f.map(k=>n.jsx("option",{value:k.stepName,children:k.stepName},k.id))})]}),n.jsxs("div",{children:[n.jsxs("h5",{id:`permissions-label-${S.id}`,className:"text-sm font-medium text-gray-700 mb-2",children:["Permissions ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("p",{id:`permissions-desc-${S.id}`,className:"text-sm text-gray-500 mb-2",children:"Sélectionnez les actions que ce rôle peut effectuer."}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2","aria-describedby":`permissions-desc-${S.id}`,children:["Valider","Rechercher","Transférer","Rejeter"].map(k=>n.jsx(vy,{content:`Permet de ${k.toLowerCase()} les éléments.`,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:`perm-${S.id}-${k}`,checked:S.permissions.includes(k),onChange:()=>U(S.id,k),className:"rounded"}),n.jsx("label",{htmlFor:`perm-${S.id}-${k}`,className:"text-sm",children:k})]})},k))})]})]}),n.jsx(L,{variant:"danger",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>{a(S.id),c("role")},"aria-label":"Supprimer le rôle",children:n.jsx(He,{className:"w-4 h-4"})})]})]})},S.id))})]}),apiEndpoint:"/roles",validate:()=>v.length===0?!1:v.every(S=>S.name.trim()&&S.etapeName&&S.permissions.length>0),formatData:()=>v.map(S=>({name:S.name,description:S.description,isSystemRole:S.isSystemRole,etapeName:S.etapeName,permissions:S.permissions}))},{title:"Utilisateurs",description:"Ajoutez les utilisateurs qui auront accès au système.",icon:ui,content:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Utilisateurs"}),n.jsxs(L,{variant:"secondary",size:"sm",onClick:()=>{const S={id:Wt(),NomUser:"",PrenomUser:"",Email:"",Telephone:"",IsActive:!0,roleNames:"",tempPassword:""};P([...j,S]),setTimeout(()=>{var C;return(C=m.current)==null?void 0:C.focus()},0)},"aria-label":"Ajouter un utilisateur",className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:[n.jsx(Me,{className:"w-4 h-4 mr-2"}),"Ajouter un utilisateur"]})]}),n.jsx("div",{className:"space-y-4 divide-y divide-gray-200",children:j.map((S,C)=>n.jsx("div",{className:"pt-4",children:n.jsxs("div",{className:"bg-white shadow-sm border border-gray-100 rounded-lg p-6",children:[n.jsxs("h4",{className:"text-md font-semibold text-gray-700 mb-4",children:["Utilisateur ",C+1," ",S.NomUser&&S.PrenomUser&&S.Email&&S.tempPassword&&S.roleNames&&n.jsx(Kt,{className:"w-4 h-4 text-green-500 inline-block ml-2"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Informations personnelles"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:`user-nom-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:`user-nom-${S.id}`,value:S.NomUser,onChange:k=>{console.log(`Updating user ${S.id} NomUser to: ${k.target.value}`);const D=[...j];D[C]={...D[C],NomUser:k.target.value},P(D)},placeholder:"Nom",required:!0,ref:C===j.length-1?m:null})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:`user-prenom-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Prénom ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:`user-prenom-${S.id}`,value:S.PrenomUser,onChange:k=>{console.log(`Updating user ${S.id} PrenomUser to: ${k.target.value}`);const D=[...j];D[C]={...D[C],PrenomUser:k.target.value},P(D)},placeholder:"Prénom",required:!0})]})]}),n.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Authentification"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:`user-email-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:`user-email-${S.id}`,value:S.Email,onChange:k=>{console.log(`Updating user ${S.id} Email to: ${k.target.value}`);const D=[...j];D[C]={...D[C],Email:k.target.value},P(D)},placeholder:"Email",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:`user-password-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Mot de passe ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(le,{id:`user-password-${S.id}`,value:S.tempPassword||"",onChange:k=>{console.log(`Updating user ${S.id} tempPassword to: ${k.target.value}`);const D=[...j];D[C]={...D[C],tempPassword:k.target.value},P(D)},placeholder:"Mot de passe",type:"password",required:!0})]})]}),n.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Coordonnées et rôle"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:`user-telephone-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Téléphone"}),n.jsx(le,{id:`user-telephone-${S.id}`,value:S.Telephone,onChange:k=>{console.log(`Updating user ${S.id} Telephone to: ${k.target.value}`);const D=[...j];D[C]={...D[C],Telephone:k.target.value},P(D)},placeholder:"Téléphone"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:`user-role-${S.id}`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Rôle ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ss,{id:`user-role-${S.id}`,value:S.roleNames,onChange:k=>{console.log(`Updating user ${S.id} roleNames to: ${k.target.value}`);const D=[...j];D[C]={...D[C],roleNames:k.target.value},P(D)},placeholder:"Sélectionner un rôle",required:!0,children:v.map(k=>n.jsx("option",{value:k.name,children:k.name},k.id))})]})]})]}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsxs(L,{variant:"danger",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>{a(S.id),c("user")},"aria-label":"Supprimer l'utilisateur",children:[n.jsx(He,{className:"w-4 h-4 mr-2"}),"Supprimer"]})})]})},S.id))})]}),apiEndpoint:"/users/register",validate:()=>j.length===0?!1:j.every(S=>S.NomUser.trim()&&S.PrenomUser.trim()&&Ey(S.Email)===""&&Cy(S.tempPassword||"")===""&&Py(S.Telephone)===""&&S.roleNames.trim()),formatData:()=>j.map(S=>({NomUser:S.NomUser,PrenomUser:S.PrenomUser,Email:S.Email,Password:S.tempPassword,Telephone:S.Telephone,IsActive:S.IsActive,roleNames:S.roleNames}))}],A=async()=>{var S,C;i(!0),u("");try{const k=N[t];if(!k.validate()){u("Veuillez remplir tous les champs requis correctement.");return}const D=k.formatData();await F.post(k.apiEndpoint,D),t<N.length-1?(s(t+1),setTimeout(()=>{var H;return(H=m.current)==null?void 0:H.focus()},0)):(w(),e("/admin/dashboard"))}catch(k){u(((C=(S=k==null?void 0:k.response)==null?void 0:S.data)==null?void 0:C.message)||"Une erreur est survenue lors de la sauvegarde.")}finally{i(!1)}},B=()=>{t>0&&(s(t-1),setTimeout(()=>{var S;return(S=m.current)==null?void 0:S.focus()},0))},U=(S,C)=>{b(k=>k.map(D=>D.id===S?{...D,permissions:D.permissions.includes(C)?D.permissions.filter(H=>H!==C):[...D.permissions,C]}:D))};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 p-4 md:p-8",children:[n.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:N.map((S,C)=>n.jsxs("div",{className:"flex-1 flex items-center justify-center md:justify-start",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${C<=t?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,"aria-current":C===t?"step":void 0,children:C<t?n.jsx(Kt,{className:"w-4 h-4"}):C+1}),n.jsx("span",{className:"hidden md:block ml-2 text-sm font-medium text-gray-700",children:S.title})]},C))}),n.jsxs("div",{className:"text-center",children:[n.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center justify-center",children:[ue.createElement(N[t].icon,{className:"w-6 h-6 text-blue-600 mr-2"}),N[t].title]}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:N[t].description})]})]}),n.jsx(de,{className:"shadow-lg border border-gray-200 bg-white",children:n.jsxs(yy,{className:"p-6",children:[n.jsx(Sn,{mode:"wait",children:n.jsx(qn.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:N[t].content},t)}),d&&n.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:d}),n.jsxs("div",{className:"mt-8 flex flex-col md:flex-row justify-between gap-4",children:[n.jsx(L,{variant:"secondary",onClick:B,disabled:t===0,"aria-label":"Étape précédente",className:"bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Précédent"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(L,{variant:"secondary",onClick:R,"aria-label":"Enregistrer et quitter",className:"bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Enregistrer et quitter"}),n.jsx(L,{variant:"primary",onClick:A,disabled:r,"aria-label":t===N.length-1?"Terminer":"Étape suivante",className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:r?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})]}),"Chargement..."]}):t===N.length-1?"Terminer":"Suivant"})]})]})]})})]}),o&&n.jsx(by,{title:"Confirmer la suppression",onClose:()=>{a(null),c(null)},onConfirm:()=>T(o),children:"Voulez-vous vraiment supprimer cet élément ?"})]})};var Ay=Object.defineProperty,Dy=(e,t,s)=>t in e?Ay(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ur=(e,t,s)=>(Dy(e,typeof t!="symbol"?t+"":t,s),s);let My=class{constructor(){Ur(this,"current",this.detect()),Ur(this,"handoffState","pending"),Ur(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},bt=new My,Re=(e,t)=>{bt.isServer?p.useEffect(e,t):p.useLayoutEffect(e,t)};function st(e){let t=p.useRef(e);return Re(()=>{t.current=e},[e]),t}let ae=function(e){let t=st(e);return ue.useCallback((...s)=>t.current(...s),[t])};function Iy(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Xe(){let e=[],t={addEventListener(s,r,i,o){return s.addEventListener(r,i,o),t.add(()=>s.removeEventListener(r,i,o))},requestAnimationFrame(...s){let r=requestAnimationFrame(...s);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...s){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...s))},setTimeout(...s){let r=setTimeout(...s);return t.add(()=>clearTimeout(r))},microTask(...s){let r={current:!0};return Iy(()=>{r.current&&s[0]()}),t.add(()=>{r.current=!1})},style(s,r,i){let o=s.style.getPropertyValue(r);return Object.assign(s.style,{[r]:i}),this.add(()=>{Object.assign(s.style,{[r]:o})})},group(s){let r=Xe();return s(r),this.add(()=>r.dispose())},add(s){return e.push(s),()=>{let r=e.indexOf(s);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let s of e.splice(0))s()}};return t}function ur(){let[e]=p.useState(Xe);return p.useEffect(()=>()=>e.dispose(),[e]),e}function _y(){let e=typeof document>"u";return"useSyncExternalStore"in ln?(t=>t.useSyncExternalStore)(ln)(()=>()=>{},()=>!1,()=>!e):!1}function Wi(){let e=_y(),[t,s]=p.useState(bt.isHandoffComplete);return t&&bt.isHandoffComplete===!1&&s(!1),p.useEffect(()=>{t!==!0&&s(!0)},[t]),p.useEffect(()=>bt.handoff(),[]),e?!1:t}var Jo;let Ki=(Jo=ue.useId)!=null?Jo:function(){let e=Wi(),[t,s]=ue.useState(e?()=>bt.nextId():null);return Re(()=>{t===null&&s(bt.nextId())},[t]),t!=null?""+t:void 0};function Se(e,t,...s){if(e in t){let i=t[e];return typeof i=="function"?i(...s):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Se),r}function dr(e){return bt.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Hn=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Wn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Wn||{}),Oy=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Oy||{}),Ly=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ly||{});function Zu(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Hn)).sort((t,s)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(s.tabIndex||Number.MAX_SAFE_INTEGER)))}var Gi=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Gi||{});function Xi(e,t=0){var s;return e===((s=dr(e))==null?void 0:s.body)?!1:Se(t,{0(){return e.matches(Hn)},1(){let r=e;for(;r!==null;){if(r.matches(Hn))return!0;r=r.parentElement}return!1}})}function Qu(e){let t=dr(e);Xe().nextFrame(()=>{t&&!Xi(t.activeElement,0)&&Fy(e)})}var Uy=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Uy||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Fy(e){e==null||e.focus({preventScroll:!0})}let Vy=["textarea","input"].join(",");function $y(e){var t,s;return(s=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Vy))!=null?s:!1}function ed(e,t=s=>s){return e.slice().sort((s,r)=>{let i=t(s),o=t(r);if(i===null||o===null)return 0;let a=i.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function By(e,t){return zy(Zu(),t,{relativeTo:e})}function zy(e,t,{sorted:s=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?s?ed(e):e:Zu(e);i.length>0&&a.length>1&&(a=a.filter(x=>!i.includes(x))),r=r??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},u=0,m=a.length,g;do{if(u>=m||u+m<=0)return 0;let x=c+u;if(t&16)x=(x+m)%m;else{if(x<0)return 3;if(x>=m)return 1}g=a[x],g==null||g.focus(d),u+=l}while(g!==o.activeElement);return t&6&&$y(g)&&g.select(),2}function qy(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Hy(){return/Android/gi.test(window.navigator.userAgent)}function Wy(){return qy()||Hy()}function Ms(e,t,s){let r=st(t);p.useEffect(()=>{function i(o){r.current(o)}return document.addEventListener(e,i,s),()=>document.removeEventListener(e,i,s)},[e,s])}function Ky(e,t,s){let r=st(t);p.useEffect(()=>{function i(o){r.current(o)}return window.addEventListener(e,i,s),()=>window.removeEventListener(e,i,s)},[e,s])}function Gy(e,t,s=!0){let r=p.useRef(!1);p.useEffect(()=>{requestAnimationFrame(()=>{r.current=s})},[s]);function i(a,l){if(!r.current||a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let d=function u(m){return typeof m=="function"?u(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let u of d){if(u===null)continue;let m=u instanceof HTMLElement?u:u.current;if(m!=null&&m.contains(c)||a.composed&&a.composedPath().includes(m))return}return!Xi(c,Gi.Loose)&&c.tabIndex!==-1&&a.preventDefault(),t(a,c)}let o=p.useRef(null);Ms("pointerdown",a=>{var l,c;r.current&&(o.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Ms("mousedown",a=>{var l,c;r.current&&(o.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Ms("click",a=>{Wy()||o.current&&(i(a,()=>o.current),o.current=null)},!0),Ms("touchend",a=>i(a,()=>a.target instanceof HTMLElement?a.target:null),!0),Ky("blur",a=>i(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Xy(...e){return p.useMemo(()=>dr(...e),[...e])}function Yo(e){var t;if(e.type)return e.type;let s=(t=e.as)!=null?t:"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function Jy(e,t){let[s,r]=p.useState(()=>Yo(e));return Re(()=>{r(Yo(e))},[e.type,e.as]),Re(()=>{s||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[s,t]),s}let Yy=Symbol();function $t(...e){let t=p.useRef(e);p.useEffect(()=>{t.current=e},[e]);let s=ae(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Yy]))?void 0:s}function Zo(e){return[e.screenX,e.screenY]}function Zy(){let e=p.useRef([-1,-1]);return{wasMoved(t){let s=Zo(t);return e.current[0]===s[0]&&e.current[1]===s[1]?!1:(e.current=s,!0)},update(t){e.current=Zo(t)}}}function Qy({container:e,accept:t,walk:s,enabled:r=!0}){let i=p.useRef(t),o=p.useRef(s);p.useEffect(()=>{i.current=t,o.current=s},[t,s]),Re(()=>{if(!e||!r)return;let a=dr(e);if(!a)return;let l=i.current,c=o.current,d=Object.assign(m=>l(m),{acceptNode:l}),u=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)c(u.currentNode)},[e,r,i,o])}function Xs(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Js=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Js||{}),Qe=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Qe||{});function Bt({ourProps:e,theirProps:t,slot:s,defaultTag:r,features:i,visible:o=!0,name:a,mergeRefs:l}){l=l??ev;let c=td(t,e);if(o)return Is(c,s,r,a,l);let d=i??0;if(d&2){let{static:u=!1,...m}=c;if(u)return Is(m,s,r,a,l)}if(d&1){let{unmount:u=!0,...m}=c;return Se(u?0:1,{0(){return null},1(){return Is({...m,hidden:!0,style:{display:"none"}},s,r,a,l)}})}return Is(c,s,r,a,l)}function Is(e,t={},s,r,i){let{as:o=s,children:a,refName:l="ref",...c}=Fr(e,["unmount","static"]),d=e.ref!==void 0?{[l]:e.ref}:{},u=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let m={};if(t){let g=!1,x=[];for(let[y,f]of Object.entries(t))typeof f=="boolean"&&(g=!0),f===!0&&x.push(y);g&&(m["data-headlessui-state"]=x.join(" "))}if(o===p.Fragment&&Object.keys(Qo(c)).length>0){if(!p.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`));let g=u.props,x=typeof(g==null?void 0:g.className)=="function"?(...f)=>Xs(g==null?void 0:g.className(...f),c.className):Xs(g==null?void 0:g.className,c.className),y=x?{className:x}:{};return p.cloneElement(u,Object.assign({},td(u.props,Qo(Fr(c,["ref"]))),m,d,{ref:i(u.ref,d.ref)},y))}return p.createElement(o,Object.assign({},Fr(c,["ref"]),o!==p.Fragment&&d,o!==p.Fragment&&m),u)}function ev(...e){return e.every(t=>t==null)?void 0:t=>{for(let s of e)s!=null&&(typeof s=="function"?s(t):s.current=t)}}function td(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},s={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(s[i]!=null||(s[i]=[]),s[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(s).map(r=>[r,void 0])));for(let r in s)Object.assign(t,{[r](i,...o){let a=s[r];for(let l of a){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;l(i,...o)}}});return t}function Nt(e){var t;return Object.assign(p.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Qo(e){let t=Object.assign({},e);for(let s in t)t[s]===void 0&&delete t[s];return t}function Fr(e,t=[]){let s=Object.assign({},e);for(let r of t)r in s&&delete s[r];return s}let Ji=p.createContext(null);Ji.displayName="OpenClosedContext";var Ne=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ne||{});function Yi(){return p.useContext(Ji)}function sd({value:e,children:t}){return ue.createElement(Ji.Provider,{value:e},t)}function tv(e){let t=e.parentElement,s=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(s=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&sv(s)?!1:r}function sv(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function rv(e){throw new Error("Unexpected object: "+e)}var Ie=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ie||{});function nv(e,t){let s=t.resolveItems();if(s.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let o=0;o<s.length;++o)if(!t.resolveDisabled(s[o],o,s))return o;return r}case 1:{for(let o=i-1;o>=0;--o)if(!t.resolveDisabled(s[o],o,s))return o;return r}case 2:{for(let o=i+1;o<s.length;++o)if(!t.resolveDisabled(s[o],o,s))return o;return r}case 3:{for(let o=s.length-1;o>=0;--o)if(!t.resolveDisabled(s[o],o,s))return o;return r}case 4:{for(let o=0;o<s.length;++o)if(t.resolveId(s[o],o,s)===e.id)return o;return r}case 5:return null;default:rv(e)}}var he=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(he||{});function Zi(){let e=p.useRef(!1);return Re(()=>(e.current=!0,()=>{e.current=!1}),[]),e}let el=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function tl(e){var t,s;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let l of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),o=!0;let a=o?(s=i.innerText)!=null?s:"":r;return el.test(a)&&(a=a.replace(el,"")),a}function iv(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let s=e.getAttribute("aria-labelledby");if(s){let r=s.split(" ").map(i=>{let o=document.getElementById(i);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():tl(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return tl(e).trim()}function av(e){let t=p.useRef(""),s=p.useRef("");return ae(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return s.current;let o=iv(r).trim().toLowerCase();return t.current=i,s.current=o,o})}var ov=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ov||{}),lv=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(lv||{}),cv=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(cv||{});function Vr(e,t=s=>s){let s=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=ed(t(e.items.slice()),o=>o.dataRef.current.domRef.current),i=s?r.indexOf(s):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let uv={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var s;let r=Vr(e),i=nv(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(s=t.trigger)!=null?s:1}},3:(e,t)=>{let s=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+s).concat(e.items.slice(0,e.activeItemIndex+s)):e.items).find(a=>{var l;return((l=a.dataRef.current.textValue)==null?void 0:l.startsWith(r))&&!a.dataRef.current.disabled}),o=i?e.items.indexOf(i):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let s=Vr(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...s}},6:(e,t)=>{let s=Vr(e,r=>{let i=r.findIndex(o=>o.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...s,activationTrigger:1}}},Qi=p.createContext(null);Qi.displayName="MenuContext";function mr(e){let t=p.useContext(Qi);if(t===null){let s=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,mr),s}return t}function dv(e,t){return Se(t.type,uv,e,t)}let mv=p.Fragment;function fv(e,t){let{__demoMode:s=!1,...r}=e,i=p.useReducer(dv,{__demoMode:s,menuState:s?0:1,buttonRef:p.createRef(),itemsRef:p.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:a,buttonRef:l},c]=i,d=$t(t);Gy([l,a],(x,y)=>{var f;c({type:1}),Xi(y,Gi.Loose)||(x.preventDefault(),(f=l.current)==null||f.focus())},o===0);let u=ae(()=>{c({type:1})}),m=p.useMemo(()=>({open:o===0,close:u}),[o,u]),g={ref:d};return ue.createElement(Qi.Provider,{value:i},ue.createElement(sd,{value:Se(o,{0:Ne.Open,1:Ne.Closed})},Bt({ourProps:g,theirProps:r,slot:m,defaultTag:mv,name:"Menu"})))}let hv="button";function pv(e,t){var s;let r=Ki(),{id:i=`headlessui-menu-button-${r}`,...o}=e,[a,l]=mr("Menu.Button"),c=$t(a.buttonRef,t),d=ur(),u=ae(f=>{switch(f.key){case he.Space:case he.Enter:case he.ArrowDown:f.preventDefault(),f.stopPropagation(),l({type:0}),d.nextFrame(()=>l({type:2,focus:Ie.First}));break;case he.ArrowUp:f.preventDefault(),f.stopPropagation(),l({type:0}),d.nextFrame(()=>l({type:2,focus:Ie.Last}));break}}),m=ae(f=>{switch(f.key){case he.Space:f.preventDefault();break}}),g=ae(f=>{if(tv(f.currentTarget))return f.preventDefault();e.disabled||(a.menuState===0?(l({type:1}),d.nextFrame(()=>{var h;return(h=a.buttonRef.current)==null?void 0:h.focus({preventScroll:!0})})):(f.preventDefault(),l({type:0})))}),x=p.useMemo(()=>({open:a.menuState===0}),[a]),y={ref:c,id:i,type:Jy(e,a.buttonRef),"aria-haspopup":"menu","aria-controls":(s=a.itemsRef.current)==null?void 0:s.id,"aria-expanded":a.menuState===0,onKeyDown:u,onKeyUp:m,onClick:g};return Bt({ourProps:y,theirProps:o,slot:x,defaultTag:hv,name:"Menu.Button"})}let gv="div",xv=Js.RenderStrategy|Js.Static;function yv(e,t){var s,r;let i=Ki(),{id:o=`headlessui-menu-items-${i}`,...a}=e,[l,c]=mr("Menu.Items"),d=$t(l.itemsRef,t),u=Xy(l.itemsRef),m=ur(),g=Yi(),x=g!==null?(g&Ne.Open)===Ne.Open:l.menuState===0;p.useEffect(()=>{let b=l.itemsRef.current;b&&l.menuState===0&&b!==(u==null?void 0:u.activeElement)&&b.focus({preventScroll:!0})},[l.menuState,l.itemsRef,u]),Qy({container:l.itemsRef.current,enabled:l.menuState===0,accept(b){return b.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:b.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(b){b.setAttribute("role","none")}});let y=ae(b=>{var j,P;switch(m.dispose(),b.key){case he.Space:if(l.searchQuery!=="")return b.preventDefault(),b.stopPropagation(),c({type:3,value:b.key});case he.Enter:if(b.preventDefault(),b.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:w}=l.items[l.activeItemIndex];(P=(j=w.current)==null?void 0:j.domRef.current)==null||P.click()}Qu(l.buttonRef.current);break;case he.ArrowDown:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:Ie.Next});case he.ArrowUp:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:Ie.Previous});case he.Home:case he.PageUp:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:Ie.First});case he.End:case he.PageDown:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:Ie.Last});case he.Escape:b.preventDefault(),b.stopPropagation(),c({type:1}),Xe().nextFrame(()=>{var w;return(w=l.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})});break;case he.Tab:b.preventDefault(),b.stopPropagation(),c({type:1}),Xe().nextFrame(()=>{By(l.buttonRef.current,b.shiftKey?Wn.Previous:Wn.Next)});break;default:b.key.length===1&&(c({type:3,value:b.key}),m.setTimeout(()=>c({type:4}),350));break}}),f=ae(b=>{switch(b.key){case he.Space:b.preventDefault();break}}),h=p.useMemo(()=>({open:l.menuState===0}),[l]),v={"aria-activedescendant":l.activeItemIndex===null||(s=l.items[l.activeItemIndex])==null?void 0:s.id,"aria-labelledby":(r=l.buttonRef.current)==null?void 0:r.id,id:o,onKeyDown:y,onKeyUp:f,role:"menu",tabIndex:0,ref:d};return Bt({ourProps:v,theirProps:a,slot:h,defaultTag:gv,features:xv,visible:x,name:"Menu.Items"})}let vv=p.Fragment;function bv(e,t){let s=Ki(),{id:r=`headlessui-menu-item-${s}`,disabled:i=!1,...o}=e,[a,l]=mr("Menu.Item"),c=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===r:!1,d=p.useRef(null),u=$t(t,d);Re(()=>{if(a.__demoMode||a.menuState!==0||!c||a.activationTrigger===0)return;let w=Xe();return w.requestAnimationFrame(()=>{var T,R;(R=(T=d.current)==null?void 0:T.scrollIntoView)==null||R.call(T,{block:"nearest"})}),w.dispose},[a.__demoMode,d,c,a.menuState,a.activationTrigger,a.activeItemIndex]);let m=av(d),g=p.useRef({disabled:i,domRef:d,get textValue(){return m()}});Re(()=>{g.current.disabled=i},[g,i]),Re(()=>(l({type:5,id:r,dataRef:g}),()=>l({type:6,id:r})),[g,r]);let x=ae(()=>{l({type:1})}),y=ae(w=>{if(i)return w.preventDefault();l({type:1}),Qu(a.buttonRef.current)}),f=ae(()=>{if(i)return l({type:2,focus:Ie.Nothing});l({type:2,focus:Ie.Specific,id:r})}),h=Zy(),v=ae(w=>h.update(w)),b=ae(w=>{h.wasMoved(w)&&(i||c||l({type:2,focus:Ie.Specific,id:r,trigger:0}))}),j=ae(w=>{h.wasMoved(w)&&(i||c&&l({type:2,focus:Ie.Nothing}))}),P=p.useMemo(()=>({active:c,disabled:i,close:x}),[c,i,x]);return Bt({ourProps:{id:r,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:y,onFocus:f,onPointerEnter:v,onMouseEnter:v,onPointerMove:b,onMouseMove:b,onPointerLeave:j,onMouseLeave:j},theirProps:o,slot:P,defaultTag:vv,name:"Menu.Item"})}let jv=Nt(fv),wv=Nt(pv),Nv=Nt(yv),Sv=Nt(bv),xe=Object.assign(jv,{Button:wv,Items:Nv,Item:Sv});function Tv(e=0){let[t,s]=p.useState(e),r=Zi(),i=p.useCallback(c=>{r.current&&s(d=>d|c)},[t,r]),o=p.useCallback(c=>!!(t&c),[t]),a=p.useCallback(c=>{r.current&&s(d=>d&~c)},[s,r]),l=p.useCallback(c=>{r.current&&s(d=>d^c)},[s]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:a,toggleFlag:l}}function Ev(e){let t={called:!1};return(...s)=>{if(!t.called)return t.called=!0,e(...s)}}function $r(e,...t){e&&t.length>0&&e.classList.add(...t)}function Br(e,...t){e&&t.length>0&&e.classList.remove(...t)}function Cv(e,t){let s=Xe();if(!e)return s.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[o,a]=[r,i].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,m)=>m-u);return d}),l=o+a;if(l!==0){s.group(d=>{d.setTimeout(()=>{t(),d.dispose()},l),d.addEventListener(e,"transitionrun",u=>{u.target===u.currentTarget&&d.dispose()})});let c=s.addEventListener(e,"transitionend",d=>{d.target===d.currentTarget&&(t(),c())})}else t();return s.add(()=>t()),s.dispose}function Pv(e,t,s,r){let i=s?"enter":"leave",o=Xe(),a=r!==void 0?Ev(r):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=Se(i,{enter:()=>t.enter,leave:()=>t.leave}),c=Se(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),d=Se(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Br(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),$r(e,...t.base,...l,...d),o.nextFrame(()=>{Br(e,...t.base,...l,...d),$r(e,...t.base,...l,...c),Cv(e,()=>(Br(e,...t.base,...l),$r(e,...t.base,...t.entered),a()))}),o.dispose}function Rv({immediate:e,container:t,direction:s,classes:r,onStart:i,onStop:o}){let a=Zi(),l=ur(),c=st(s);Re(()=>{e&&(c.current="enter")},[e]),Re(()=>{let d=Xe();l.add(d.dispose);let u=t.current;if(u&&c.current!=="idle"&&a.current)return d.dispose(),i.current(c.current),d.add(Pv(u,r.current,c.current==="enter",()=>{d.dispose(),o.current(c.current)})),d.dispose},[s])}function Je(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let fr=p.createContext(null);fr.displayName="TransitionContext";var kv=(e=>(e.Visible="visible",e.Hidden="hidden",e))(kv||{});function Av(){let e=p.useContext(fr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Dv(){let e=p.useContext(hr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let hr=p.createContext(null);hr.displayName="NestingContext";function pr(e){return"children"in e?pr(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function rd(e,t){let s=st(e),r=p.useRef([]),i=Zi(),o=ur(),a=ae((x,y=Qe.Hidden)=>{let f=r.current.findIndex(({el:h})=>h===x);f!==-1&&(Se(y,{[Qe.Unmount](){r.current.splice(f,1)},[Qe.Hidden](){r.current[f].state="hidden"}}),o.microTask(()=>{var h;!pr(r)&&i.current&&((h=s.current)==null||h.call(s))}))}),l=ae(x=>{let y=r.current.find(({el:f})=>f===x);return y?y.state!=="visible"&&(y.state="visible"):r.current.push({el:x,state:"visible"}),()=>a(x,Qe.Unmount)}),c=p.useRef([]),d=p.useRef(Promise.resolve()),u=p.useRef({enter:[],leave:[],idle:[]}),m=ae((x,y,f)=>{c.current.splice(0),t&&(t.chains.current[y]=t.chains.current[y].filter(([h])=>h!==x)),t==null||t.chains.current[y].push([x,new Promise(h=>{c.current.push(h)})]),t==null||t.chains.current[y].push([x,new Promise(h=>{Promise.all(u.current[y].map(([v,b])=>b)).then(()=>h())})]),y==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>f(y)):f(y)}),g=ae((x,y,f)=>{Promise.all(u.current[y].splice(0).map(([h,v])=>v)).then(()=>{var h;(h=c.current.shift())==null||h()}).then(()=>f(y))});return p.useMemo(()=>({children:r,register:l,unregister:a,onStart:m,onStop:g,wait:d,chains:u}),[l,a,r,m,g,u,d])}function Mv(){}let Iv=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function sl(e){var t;let s={};for(let r of Iv)s[r]=(t=e[r])!=null?t:Mv;return s}function _v(e){let t=p.useRef(sl(e));return p.useEffect(()=>{t.current=sl(e)},[e]),t}let Ov="div",nd=Js.RenderStrategy;function Lv(e,t){var s,r;let{beforeEnter:i,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:d,enterTo:u,entered:m,leave:g,leaveFrom:x,leaveTo:y,...f}=e,h=p.useRef(null),v=$t(h,t),b=(s=f.unmount)==null||s?Qe.Unmount:Qe.Hidden,{show:j,appear:P,initial:w}=Av(),[T,R]=p.useState(j?"visible":"hidden"),N=Dv(),{register:A,unregister:B}=N;p.useEffect(()=>A(h),[A,h]),p.useEffect(()=>{if(b===Qe.Hidden&&h.current){if(j&&T!=="visible"){R("visible");return}return Se(T,{hidden:()=>B(h),visible:()=>A(h)})}},[T,h,A,B,j,b]);let U=st({base:Je(f.className),enter:Je(c),enterFrom:Je(d),enterTo:Je(u),entered:Je(m),leave:Je(g),leaveFrom:Je(x),leaveTo:Je(y)}),S=_v({beforeEnter:i,afterEnter:o,beforeLeave:a,afterLeave:l}),C=Wi();p.useEffect(()=>{if(C&&T==="visible"&&h.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[h,T,C]);let k=w&&!P,D=P&&j&&w,H=!C||k?"idle":j?"enter":"leave",q=Tv(0),M=ae(G=>Se(G,{enter:()=>{q.addFlag(Ne.Opening),S.current.beforeEnter()},leave:()=>{q.addFlag(Ne.Closing),S.current.beforeLeave()},idle:()=>{}})),O=ae(G=>Se(G,{enter:()=>{q.removeFlag(Ne.Opening),S.current.afterEnter()},leave:()=>{q.removeFlag(Ne.Closing),S.current.afterLeave()},idle:()=>{}})),K=rd(()=>{R("hidden"),B(h)},N),ee=p.useRef(!1);Rv({immediate:D,container:h,classes:U,direction:H,onStart:st(G=>{ee.current=!0,K.onStart(h,G,M)}),onStop:st(G=>{ee.current=!1,K.onStop(h,G,O),G==="leave"&&!pr(K)&&(R("hidden"),B(h))})});let te=f,Be={ref:v};return D?te={...te,className:Xs(f.className,...U.current.enter,...U.current.enterFrom)}:ee.current&&(te.className=Xs(f.className,(r=h.current)==null?void 0:r.className),te.className===""&&delete te.className),ue.createElement(hr.Provider,{value:K},ue.createElement(sd,{value:Se(T,{visible:Ne.Open,hidden:Ne.Closed})|q.flags},Bt({ourProps:Be,theirProps:te,defaultTag:Ov,features:nd,visible:T==="visible",name:"Transition.Child"})))}function Uv(e,t){let{show:s,appear:r=!1,unmount:i=!0,...o}=e,a=p.useRef(null),l=$t(a,t);Wi();let c=Yi();if(s===void 0&&c!==null&&(s=(c&Ne.Open)===Ne.Open),![!0,!1].includes(s))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,u]=p.useState(s?"visible":"hidden"),m=rd(()=>{u("hidden")}),[g,x]=p.useState(!0),y=p.useRef([s]);Re(()=>{g!==!1&&y.current[y.current.length-1]!==s&&(y.current.push(s),x(!1))},[y,s]);let f=p.useMemo(()=>({show:s,appear:r,initial:g}),[s,r,g]);p.useEffect(()=>{if(s)u("visible");else if(!pr(m))u("hidden");else{let j=a.current;if(!j)return;let P=j.getBoundingClientRect();P.x===0&&P.y===0&&P.width===0&&P.height===0&&u("hidden")}},[s,m]);let h={unmount:i},v=ae(()=>{var j;g&&x(!1),(j=e.beforeEnter)==null||j.call(e)}),b=ae(()=>{var j;g&&x(!1),(j=e.beforeLeave)==null||j.call(e)});return ue.createElement(hr.Provider,{value:m},ue.createElement(fr.Provider,{value:f},Bt({ourProps:{...h,as:p.Fragment,children:ue.createElement(id,{ref:l,...h,...o,beforeEnter:v,beforeLeave:b})},theirProps:{},defaultTag:p.Fragment,features:nd,visible:d==="visible",name:"Transition"})))}function Fv(e,t){let s=p.useContext(fr)!==null,r=Yi()!==null;return ue.createElement(ue.Fragment,null,!s&&r?ue.createElement(Kn,{ref:t,...e}):ue.createElement(id,{ref:t,...e}))}let Kn=Nt(Uv),id=Nt(Lv),Vv=Nt(Fv),ea=Object.assign(Kn,{Child:Vv,Root:Kn});const $v=()=>{const e=ke(),[t,s]=p.useState(!1),r=[{icon:yc,label:"Tableau de bord",path:"/admin/dashboard"},{icon:gc,label:"Entreprise",path:"/admin/company"},{icon:nt,label:"Projets",path:"/admin/projects"},{icon:Ah,label:"Étapes des Projets",path:"/admin/process-steps"},{icon:wc,label:"Rôles et permissions",path:"/admin/roles"},{icon:ui,label:"Utilisateurs",path:"/admin/users"},{icon:os,label:"Paramètres",path:"/admin/settings"}];return n.jsxs("nav",{className:"bg-white shadow",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16",children:[n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0 flex items-center",children:n.jsx(De,{to:"/admin/dashboard",className:"text-xl font-bold text-blue-600",children:"ProcessFlow Admin"})}),n.jsx("div",{className:"flex sm:hidden",children:n.jsxs("button",{onClick:()=>s(!t),className:"inline-flex items-center justify-center p-2 text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-controls":"mobile-menu","aria-expanded":t,children:[n.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),n.jsx(bc,{className:"h-6 w-6"})]})}),n.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:r.map(i=>n.jsxs(De,{to:i.path,className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-900",children:[n.jsx(i.icon,{className:"h-4 w-4 mr-2"}),i.label]},i.path))})]}),n.jsx("div",{className:"flex items-center",children:n.jsxs(xe,{as:"div",className:"ml-3 relative",children:[n.jsxs(xe.Button,{className:"flex rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx("span",{className:"sr-only",children:"Open user menu"}),n.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx(We,{className:"h-5 w-5 text-gray-500"})})]}),n.jsx(ea,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:n.jsx(xe.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:n.jsx(xe.Item,{children:({active:i})=>n.jsxs("button",{onClick:()=>e("/login"),className:`${i?"bg-gray-100":""} flex w-full px-4 py-2 text-sm text-gray-700`,children:[n.jsx(oi,{className:"h-5 w-5 mr-2"}),"Déconnexion"]})})})})]})})]})}),n.jsx("div",{className:`${t?"block":"hidden"} sm:hidden`,id:"mobile-menu",children:n.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:r.map(i=>n.jsxs(De,{to:i.path,className:"block px-3 py-2 text-base font-medium text-gray-500 hover:text-gray-900",onClick:()=>s(!1),children:[n.jsx(i.icon,{className:"h-4 w-4 mr-2 inline"}),i.label]},i.path))})})]})},Bv=()=>n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx($v,{}),n.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:n.jsx(ei,{})})]}),ad=p.createContext(null),zv=({children:e})=>{const[t,s]=p.useState({});return n.jsx(ad.Provider,{value:{permissions:t,setPermissions:s},children:e})},od=()=>{const e=p.useContext(ad);if(!e)throw new Error("useRolePermissions doit être utilisé dans un RolePermissionsProvider");return e},qv=()=>{var y;const e=ke(),[t,s]=p.useState([]),[r,i]=p.useState(!1),[o,a]=p.useState(!1),{permissions:l}=od(),c=ne.get("roleUser")||"Guest",d=(y=l[c])==null?void 0:y.includes("Rechercher");p.useEffect(()=>{s([]);const f=setInterval(()=>{s([])},6e4);return()=>clearInterval(f)},[]);const u=[{icon:yc,label:"Tableau de bord",path:"/dashboard"},...d?[{icon:li,label:"Recherche",path:"/search"}]:[]],m=t.filter(f=>!f.read).length,g=async f=>{try{await F.put(`/notifications/${f.id}/read`),s(h=>h.map(v=>v.id===f.id?{...v,read:!0}:v)),e(`/process/${f.processId}`)}catch(h){console.error("Erreur lors du marquage de la notification comme lue:",h)}},x=async()=>{try{ne.remove("token"),ne.remove("refreshToken"),await F.post("/logout"),e("/login")}catch(f){console.error("Erreur lors de la déconnexion:",f),e("/login")}};return n.jsx("nav",{className:"bg-white shadow",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(De,{to:"/dashboard",className:"text-xl font-bold text-blue-600",children:"ProcessFlow"}),n.jsx("div",{className:"hidden sm:flex sm:ml-6 sm:space-x-8",children:u.map(f=>n.jsxs(De,{to:f.path,className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-900",children:[n.jsx(f.icon,{className:"h-4 w-4 mr-2"}),f.label]},f.path))}),n.jsx("button",{className:"sm:hidden ml-4 p-1 text-gray-500 hover:text-gray-700",onClick:()=>a(!o),children:n.jsx(bc,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>i(!r),className:"relative p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx("span",{className:"sr-only",children:"Voir les notifications"}),n.jsx(ii,{className:"h-6 w-6"}),m>0&&n.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white"})]}),n.jsx(Sn,{children:r&&n.jsx(qn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"}),t.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:[m," non lu",m>1?"s":""]})]}),n.jsx("div",{className:"mt-2 divide-y divide-gray-100",children:t.length===0?n.jsx("p",{className:"text-sm text-gray-500 py-2",children:"Aucune notification"}):t.map(f=>n.jsxs("div",{onClick:()=>g(f),className:`py-3 flex items-start cursor-pointer hover:bg-gray-50 ${f.read?"":"bg-blue-50"}`,children:[n.jsx("div",{className:"flex-shrink-0 pt-0.5",children:n.jsx(yt,{className:"h-5 w-5 text-gray-400"})}),n.jsxs("div",{className:"ml-3 w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.title}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:f.message}),n.jsx("p",{className:"mt-1 text-xs text-gray-400",children:new Date(f.timestamp).toLocaleString()})]})]},f.id))})]})})})]}),n.jsxs(xe,{as:"div",className:"relative",children:[n.jsxs(xe.Button,{className:"flex rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx("span",{className:"sr-only",children:"Ouvrir le menu utilisateur"}),n.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx(We,{className:"h-5 w-5 text-gray-500"})})]}),n.jsx(ea,{as:ue.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:n.jsxs(xe.Items,{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[n.jsx(xe.Item,{children:({active:f})=>n.jsxs(De,{to:"/profile",className:`${f?"bg-gray-100":""} flex px-4 py-2 text-sm text-gray-700`,children:[n.jsx(We,{className:"h-5 w-5 mr-2"}),"Mon profil"]})}),n.jsx(xe.Item,{children:({active:f})=>n.jsxs(De,{to:"/settings",className:`${f?"bg-gray-100":""} flex px-4 py-2 text-sm text-gray-700`,children:[n.jsx(os,{className:"h-5 w-5 mr-2"}),"Paramètres"]})}),n.jsx(xe.Item,{children:({active:f})=>n.jsxs("button",{onClick:x,className:`${f?"bg-gray-100":""} flex w-full px-4 py-2 text-sm text-gray-700 items-center`,children:[n.jsx(oi,{className:"h-5 w-5 mr-2"}),"Déconnexion"]})})]})})]})]})]}),n.jsx(Sn,{children:o&&n.jsx(qn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"absolute top-16 left-0 w-full bg-white shadow-md rounded-b-lg sm:hidden z-50",children:n.jsx("div",{className:"flex flex-col p-4",children:u.map(f=>n.jsxs(De,{to:f.path,className:"flex items-center py-2 text-gray-700 hover:bg-gray-100 rounded-md px-3",onClick:()=>a(!1),children:[n.jsx(f.icon,{className:"h-5 w-5 mr-3"}),f.label]},f.path))})})})]})})},Hv=()=>(console.log("UserLayout rendered"),n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx(qv,{}),n.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:n.jsx(ei,{})})]})),rl=new Map,Wv=5*60*1e3,ld=async(e,t=3,s=1e3)=>{var r;for(let i=1;i<=t;i++)try{return await e()}catch(o){if(i===t)throw o;if(o instanceof rt){const a=(r=o.response)==null?void 0:r.status;if(a!==429&&a!==503)throw o}await new Promise(a=>setTimeout(a,s*i))}throw new Error("Max retries reached")},zr=async e=>{var i,o;if(!e)throw new Error("Role name is required");const t=`/etapes/role/${e}`,s=rl.get(t),r=Date.now();if(s&&r-s.timestamp<Wv)return s.data;try{const{data:a}=await ld(()=>F.get(t,{timeout:1e4,headers:{"Accept-Encoding":"gzip, deflate"}}));if(!a.success)throw new Error("API returned unsuccessful response");return rl.set(t,{data:a,timestamp:r}),a}catch(a){const l=a instanceof rt?a:new Error(String(a));throw console.error(`Error fetching etapes for role ${e}:`,l),new Error(l instanceof rt?`Failed to fetch etapes: ${((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.message)||l.message}`:`Failed to fetch etapes: ${l.message}`)}},nl=(e,t)=>({id:e.idEtape,name:e.LibelleEtape,title:e.LibelleEtape,description:e.Description,currentStep:e.sequenceNumber,status:"pending",createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),initiatedBy:"Inconnu",steps:[],totalSteps:t}),Kv=e=>({id:e.idEtape,processName:e.LibelleEtape,stepName:e.Description,status:"pending",priority:"normal",createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}),il={searchDocuments:async(e,t,s)=>{var r,i;if(!e||!t)throw new Error("Document name and search term are required");try{const o=s?{etapeName:s}:{},{data:a}=await ld(()=>F.get(`/documents/${e}/${t}`,{params:o,responseType:"blob",timeout:1e4,headers:{"Accept-Encoding":"gzip, deflate"}}));return a}catch(o){const a=o instanceof rt?o:new Error(String(o));throw console.error("Error searching documents:",a),new Error(a instanceof rt?`Failed to search documents: ${((i=(r=a.response)==null?void 0:r.data)==null?void 0:i.message)||a.message}`:`Failed to search documents: ${a.message}`)}},getProcesses:async()=>{const e=ne.get("roleUser");if(!e)throw new Error("User role not found in cookies");try{const t=await zr(e);return t.data.filter(r=>r.hasTransfer||!r.hasTransfer&&r.sequenceNumber===1).map(r=>nl(r,t.totalEtapes))}catch(t){throw console.error("Error fetching processes:",t),t}},getMyTasks:async()=>{const e=ne.get("roleUser");if(!e)throw new Error("User role not found in cookies");try{return(await zr(e)).data.filter(r=>r.hasTransfer||!r.hasTransfer&&r.sequenceNumber===1).map(Kv)}catch(t){throw console.error("Error fetching tasks:",t),t}},getMyProcesses:async()=>{const e=ne.get("roleUser");if(!e)throw new Error("User role not found in cookies");try{const t=await zr(e);return t.data.map(s=>nl(s,t.totalEtapes))}catch(t){throw console.error("Error fetching processes:",t),t}}},Gv=()=>{const e=ke(),[t,s]=p.useState([]),[r,i]=p.useState([]),[o,a]=p.useState(!0),[l,c]=p.useState(null),[d,u]=p.useState(null);p.useEffect(()=>{(async()=>{a(!0);try{const[f,h]=await Promise.all([il.getMyTasks(),il.getMyProcesses()]);console.log("Fetched tasks:",f),console.log("Fetched processes:",h),s(f),i(h),c(null),u(null)}catch(f){console.error("Error fetching dashboard data:",f);const h=f instanceof Error?f.message:String(f);h.includes("tasks")?c("Erreur lors de la récupération des tâches."):h.includes("processes")?u("Erreur lors de la récupération des processus."):(c("Erreur lors de la récupération des données."),u("Erreur lors de la récupération des données."))}finally{a(!1)}})()},[]);const m=y=>{const f=r.find(h=>h.id===y);f?e(`${W.USER.PROCESSES}/${y}`,{state:{process:f}}):console.warn(`Process with id ${y} not found`)},g=y=>{switch(y){case"approved":return n.jsx(wn,{className:"h-5 w-5 text-green-500"});case"rejected":return n.jsx(Jt,{className:"h-5 w-5 text-red-500"});case"in_progress":return n.jsx(yt,{className:"h-5 w-5 text-blue-500"});default:return n.jsx(yt,{className:"h-5 w-5 text-yellow-500"})}},x=y=>{switch(y){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"normal":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"space-y-6 p-4 md:p-6 lg:p-8",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mon tableau de bord"})}),(l||d)&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-sm text-red-600",children:l||d}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(de,{children:[n.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Mes tâches à traiter"})}),n.jsxs("div",{className:"divide-y divide-gray-200",children:[o?n.jsx("div",{className:"p-4 text-center text-gray-500",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mx-auto"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mx-auto"})]})}):t.map(y=>n.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>m(y.id),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[g(y.status),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:y.processName}),n.jsx("p",{className:"text-sm text-gray-500",children:y.stepName})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(y.priority)}`,children:y.priority.charAt(0).toUpperCase()+y.priority.slice(1)}),n.jsx(ka,{className:"h-5 w-5 text-gray-400"})]})]})},y.id)),t.length===0&&!o&&n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucune tâche en attente"})]})]}),n.jsxs(de,{children:[n.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Mes processus en cours"})}),n.jsxs("div",{className:"divide-y divide-gray-200",children:[o?n.jsx("div",{className:"p-4 text-center text-gray-500",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mx-auto"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mx-auto"})]})}):r.map(y=>n.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>e("#",{state:{process:y}}),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:y.title}),n.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[n.jsx(yt,{className:"h-4 w-4 mr-1.5"}),"Étape ",y.currentStep,"/",y.totalSteps]})]}),n.jsx(ka,{className:"h-5 w-5 text-gray-400"})]}),n.jsx("div",{className:"mt-2",children:n.jsx("div",{className:"relative pt-1",children:n.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-gray-100",children:n.jsx("div",{style:{width:`${y.currentStep/y.totalSteps*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"})})})})]},y.id)),r.length===0&&!o&&n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucun processus en cours"})]})]})]}),n.jsx(de,{children:n.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Actions rapides"}),n.jsxs("div",{className:"mt-4 flex justify-between",children:[n.jsx("button",{onClick:()=>e(W.USER.NEW_PROCESS),className:"relative rounded-lg p-4 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 flex-1 mr-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(nt,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Nouveau Processus"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Créer un nouveau processus"})]})]})}),n.jsx("button",{onClick:()=>e(W.SEARCH.INTERFACE),className:"relative rounded-lg p-4 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 flex-1 ml-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(li,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Rechercher"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Consulter les Archives"})]})]})})]})]})})]})},dt=({children:e,className:t=""})=>n.jsx("div",{className:`bg-white rounded-lg shadow ${t}`,children:e}),Xv=()=>{const[e,t]=p.useState("week"),s={totalUsers:24,activeUsers:18,totalProcesses:23,pendingProcesses:7,completedProcesses:25,averageCompletionTime:2.5,userGrowth:12.5,processGrowth:8.3},r=[{id:"1",type:"process_created",user:"Marie Madeleine",process:"Projet Alpha - Design Phase",timestamp:"2023-06-15T10:30:00",status:"En cours"},{id:"2",type:"process_completed",user:"Thomas Ngono",process:"Projet Beta - Development",timestamp:"2023-06-15T09:45:00",status:"Terminé"},{id:"3",type:"user_added",user:"Admin",process:"N/A",timestamp:"2023-06-15T09:30:00"},{id:"4",type:"process_rejected",user:"Tamo bertrand",process:"Projet Gamma - Testing",timestamp:"2023-06-15T08:15:00",status:"Rejeté"}],i=l=>{switch(l){case"process_created":return n.jsx(nt,{className:"h-5 w-5 text-blue-500"});case"process_completed":return n.jsx(Kt,{className:"h-5 w-5 text-green-500"});case"process_rejected":return n.jsx(pc,{className:"h-5 w-5 text-red-500"});case"user_added":return n.jsx(ui,{className:"h-5 w-5 text-purple-500"});default:return n.jsx(yt,{className:"h-5 w-5 text-gray-500"})}},o=l=>{if(!l)return"bg-gray-200";switch(l.toLowerCase()){case"en cours":return"bg-blue-100 text-blue-800";case"terminé":return"bg-green-100 text-green-800";case"en attente":return"bg-yellow-100 text-yellow-800";case"rejeté":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=l=>{const c=new Date(l);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(c)};return n.jsx("div",{className:"flex h-full bg-gray-50",children:n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tableau de bord administrateur"}),n.jsx("p",{className:"text-gray-500",children:"Vue d'ensemble de l'activité de la plateforme"})]}),n.jsx("div",{className:"flex items-center mt-4 sm:mt-0",children:n.jsx("div",{className:"relative",children:n.jsxs("select",{className:"w-full sm:w-40 border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:e,onChange:l=>t(l.target.value),children:[n.jsx("option",{value:"day",children:"Aujourd'hui"}),n.jsx("option",{value:"week",children:"Cette semaine"}),n.jsx("option",{value:"month",children:"Ce mois"}),n.jsx("option",{value:"quarter",children:"Ce trimestre"}),n.jsx("option",{value:"year",children:"Cette année"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs(dt,{className:"p-4",children:[n.jsx("div",{className:"pb-2",children:n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Utilisateurs"})}),n.jsxs("div",{className:"flex justify-between items-end",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:s.totalUsers}),n.jsxs("p",{className:"text-xs text-gray-500",children:[s.activeUsers," actifs"]})]}),n.jsxs("div",{className:"flex items-center text-green-500",children:[n.jsx(Nr,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{className:"text-sm font-medium",children:[s.userGrowth,"%"]})]})]})]}),n.jsxs(dt,{className:"p-4",children:[n.jsx("div",{className:"pb-2",children:n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Processus"})}),n.jsxs("div",{className:"flex justify-between items-end",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold",children:s.totalProcesses}),n.jsxs("p",{className:"text-xs text-gray-500",children:[s.pendingProcesses," en attente"]})]}),n.jsxs("div",{className:"flex items-center text-green-500",children:[n.jsx(Nr,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{className:"text-sm font-medium",children:[s.processGrowth,"%"]})]})]})]}),n.jsxs(dt,{className:"p-4",children:[n.jsx("div",{className:"pb-2",children:n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Taux de complétion"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(s.completedProcesses/s.totalProcesses*100),"%"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.completedProcesses/s.totalProcesses*100}%`}})}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[s.completedProcesses," terminés sur"," ",s.totalProcesses]})]})]}),n.jsxs(dt,{className:"p-4",children:[n.jsx("div",{className:"pb-2",children:n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Temps moyen"})}),n.jsxs("div",{className:"flex justify-between items-end",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[s.averageCompletionTime," jours"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Durée moyenne de traitement"})]}),n.jsx(yt,{className:"h-5 w-5 text-gray-400"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs(dt,{className:"p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Évolution des processus"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Nombre de processus créés et terminés"})]}),n.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(Sh,{className:"h-8 w-8 mx-auto mb-2"}),n.jsx("p",{children:"Graphique d'évolution des processus"})]})})]}),n.jsxs(dt,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Répartition des processus"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Distribution par statut"})]}),n.jsxs("div",{className:"inline-flex rounded-md shadow-sm",children:[n.jsx("button",{className:"px-2 py-1 text-xs font-medium bg-blue-50 text-blue-700 rounded-l-md",children:"Par statut"}),n.jsx("button",{className:"px-2 py-1 text-xs font-medium text-gray-700 bg-white rounded-r-md border-l",children:"Par département"})]})]}),n.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{children:"Graphique de répartition des processus"})]})})]})]}),n.jsxs(dt,{className:"p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Activité récente"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Dernières actions sur la plateforme"})]}),n.jsx("div",{className:"space-y-4",children:r.map(l=>n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 mr-3",children:i(l.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[l.user,l.type==="process_created"&&" a créé un nouveau processus",l.type==="process_completed"&&" a terminé un processus",l.type==="process_rejected"&&" a rejeté un processus",l.type==="user_added"&&" a ajouté un nouvel utilisateur"]}),n.jsx("p",{className:"text-sm text-gray-500",children:l.process!=="N/A"&&`Processus: ${l.process}`}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a(l.timestamp)})]}),l.status&&n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o(l.status)}`,children:l.status})]},l.id))}),n.jsx("div",{className:"border-t mt-4 pt-4",children:n.jsxs("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:["Voir toute l'activité",n.jsx(Nr,{className:"ml-1 h-4 w-4"})]})})]})]})})})},Jv=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Paramètres système"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsx(de,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:n.jsx(ii,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:"Notifications"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Notifications par email"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Notifications système"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),n.jsx(de,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:n.jsx(Nn,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:"Sécurité"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Authentification à deux facteurs"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Connexions simultanées"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),n.jsx(de,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:n.jsx(xc,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:"Général"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Langue par défaut"}),n.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{children:"Français"}),n.jsx("option",{children:"English"}),n.jsx("option",{children:"Español"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fuseau horaire"}),n.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{children:"Europe/Paris"}),n.jsx("option",{children:"UTC"}),n.jsx("option",{children:"America/New_York"})]})]})]})]})})]})]}),cd=e=>{const[t,s]=p.useState(null),[r,i]=p.useState(!0),[o,a]=p.useState(null),[l,c]=p.useState(null),d=p.useCallback(async()=>{var g,x,y;i(!0),a(null);try{const{data:f}=await F.get("/latest-document");f.success&&f.data?(s(f.data),c(((g=f.data.etape)==null?void 0:g.idEtape)||null)):a("Aucun document récent trouvé")}catch(f){const h=f instanceof rt?((y=(x=f.response)==null?void 0:x.data)==null?void 0:y.message)||"Erreur lors du chargement du dernier document":"Erreur inconnue lors du chargement du dernier document";a(h)}finally{i(!1)}},[]),u=p.useCallback(async()=>{var x,y;i(!0),a(null);const g=ne.get("roleName");try{let f=null;if(e||l){const h=e||l,[v,b]=await Promise.all([F.get(`/etapes/${h}`),F.get(`/etapes/${h}/next-users`)]);f={...v.data.data,nextEtape:b.data.data.nextEtape}}else if(g){const{data:h}=await F.get(`/etapes/role/${g}`);f=h.data}else{const{data:h}=await F.get("/etapes/all");f=h.data}s(h=>JSON.stringify(h)===JSON.stringify(f)?h:f)}catch(f){const h=f instanceof rt?((y=(x=f.response)==null?void 0:x.data)==null?void 0:y.message)||"Erreur lors du chargement des processus":"Erreur inconnue lors du chargement des processus";a(h)}finally{i(!1)}},[e,l]);return p.useEffect(()=>{e?u():d().then(()=>{l&&u()})},[e,u,d,l]),p.useMemo(()=>({process:t,loading:r,error:o,latestEtapeId:l}),[t,r,o,l])},et={getUsers:async()=>{try{const{data:e}=await F.get("/users");if(!Array.isArray(e))throw new Error("La réponse de l'API n'est pas un tableau.");return e.map(t=>({id:t.id||t.idUser,email:t.email||t.Email,Nom:t.nomUser||t.NomUser,Prenom:t.prenomUser||t.PrenomUser,roles:t.roles||t.Roles||[],IsActive:t.IsActive??!0,Telephone:t.Telephone||null}))}catch(e){throw console.error("Erreur lors de la récupération des utilisateurs :",e),e}},createUser:async e=>{try{const{data:t}=await F.post("/users/register",e);return{id:t.id||t.idUser,email:t.email||t.Email,NomUser:t.NomUser||t.NomUser,Prenom:t.prenomUser||t.PrenomUser,roles:t.roles||t.Roles||[],IsActive:t.IsActive??!0,Telephone:t.Telephone||null}}catch(t){throw console.error("Erreur lors de la création de l'utilisateur :",t),t}},updateUser:async(e,t)=>{try{const{data:s}=await F.put(`/users/${e}`,t);return{id:s.id||s.idUser,email:s.email||s.Email,Nom:s.nomUser||s.NomUser,Prenom:s.prenomUser||s.PrenomUser,roles:s.roles||s.Roles||[],IsActive:s.IsActive??!0,Telephone:s.Telephone||null}}catch(s){throw console.error("Erreur lors de la mise à jour de l'utilisateur :",s),s}},deleteUser:async e=>{try{await F.delete(`/users/${e}`)}catch(t){throw console.error("Erreur lors de la suppression de l'utilisateur :",t),t}},getUserById:async e=>{try{const{data:t}=await F.get(`/users/${e}`);if(!t||!t.id)throw new Error("Utilisateur non trouvé ou données invalides.");return{id:t.id||t.idUser,email:t.email||t.Email,Nom:t.nomUser||t.NomUser,Prenom:t.prenomUser||t.PrenomUser,roles:t.roles||t.Roles||[],IsActive:t.IsActive??!0,Telephone:t.Telephone||null}}catch(t){throw console.error("Erreur lors de la récupération de l'utilisateur par ID :",t),t}}},al=e=>new Date(e).toLocaleString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),Yv=()=>{var U,S,C,k,D,H,q;const{id:e}=Zd(),{process:t,loading:s,error:r}=cd(e),[i,o]=p.useState({initiatorName:"",initiatorId:"",receivedDocuments:[],transferError:null}),[a,l]=p.useState(""),[c,d]=p.useState([]),u=p.useRef(null),m=localStorage.getItem("idDocument"),{permissions:g}=od(),x=ne.get("roleUser")||"Guest";(U=g[x])==null||U.includes("Rechercher");const y=(S=g[x])==null?void 0:S.includes("Valider"),f=(C=g[x])==null?void 0:C.includes("Rejeter"),h=(k=g[x])==null?void 0:k.includes("Transférer");ke(),p.useEffect(()=>(console.log("ProcessDetails mounted"),(async()=>{try{const O=await et.getUserById("me"),K=`${O.Nom} ${O.Prenom}`.trim(),{data:ee}=await F.get(`/received-documents/${O.id}`);o(te=>te.initiatorName===K&&te.initiatorId===O.id?(console.log("useEffect: state unchanged, skipping setState"),te):(console.log("useEffect: updating state"),{...te,initiatorName:K,initiatorId:O.id,receivedDocuments:ee.data}))}catch(O){console.error("Erreur lors du chargement des informations utilisateur ou des documents reçus:",O)}})(),()=>console.log("ProcessDetails unmounted")),[]);const v=p.useRef(0);p.useEffect(()=>{v.current+=1,console.log(`ProcessDetails rendered ${v.current} times`)},[i,a,c,t,s,r]);const b=M=>new Promise((O,K)=>{const ee=new FileReader;ee.readAsDataURL(M),ee.onload=()=>O(ee.result.split(",")[1]),ee.onerror=te=>K(te)}),j=M=>{M.target.files&&d(Array.from(M.target.files))},P=M=>{d(O=>O.filter((K,ee)=>ee!==M))},w=async()=>{var M,O;try{const K=await Promise.all(c.map(async te=>({name:te.name,content:await b(te)}))),ee=await F.post("/approve-document",{documentId:m,userId:i.initiatorId,etapeId:(O=(M=t==null?void 0:t.typeProjets[0])==null?void 0:M.EtapeTypeProjet)==null?void 0:O.etapeId,comments:[{content:a}],files:K});ee.data.success?(console.log("Document approuvé avec succès",ee.data),l(""),d([])):console.error("Erreur lors de l'approbation du document",ee.data)}catch(K){console.error("Erreur lors de l'approbation du document",K)}},T=async()=>{var M,O,K,ee,te,Be;try{if((((M=t==null?void 0:t.nextEtape)==null?void 0:M.users)??[]).length>0){const G=(K=(O=t==null?void 0:t.nextEtape)==null?void 0:O.users)==null?void 0:K[0],ze=await Promise.all(c.map(async qe=>({name:qe.name,content:await b(qe)}))),St={documentId:m,userId:i.initiatorId,comments:[{content:a}],files:ze,etapeId:(te=(ee=t==null?void 0:t.typeProjets[0])==null?void 0:ee.EtapeTypeProjet)==null?void 0:te.etapeId,nextEtapeName:(Be=t==null?void 0:t.nextEtape)==null?void 0:Be.name,UserDestinatorName:G==null?void 0:G.name};console.log("Transfer payload:",St);const ct=await F.post("/etapes/affect",St);ct.data.success?(console.log("Processus transféré avec succès",ct.data),l(""),d([]),o(qe=>({...qe,transferError:null}))):(console.error("Erreur lors du transfert du processus",ct.data),o(qe=>({...qe,transferError:ct.data.message||"Erreur lors du transfert"})))}else console.error("Aucun utilisateur disponible pour l'étape suivante."),o(G=>({...G,transferError:"Aucun utilisateur disponible pour l'étape suivante."}))}catch(G){console.error("Erreur lors du transfert du processus",G);const ze=G instanceof Error?G.message:String(G);o(St=>({...St,transferError:`Erreur lors du transfert: ${ze}`}))}},R=async()=>{try{const M=await F.post(`/documents/${m}/reject`,{documentId:m,userId:i.initiatorId,comments:[{content:a}]});M.data.success?(console.log("Document rejeté avec succès",M.data),l("")):console.error("Erreur lors du rejet du document",M.data.message)}catch(M){console.error("Erreur lors du rejet du document",M)}};if(s)return n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(r)return n.jsxs("div",{className:"text-center p-8 bg-red-50 rounded-lg",children:[n.jsx(jn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600",children:r})]});if(!t||!t.typeProjets)return n.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:[n.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Processus non trouvé"})]});const N=t.typeProjets[0],A=N.EtapeTypeProjet;return n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:N.Libelle}),n.jsx("p",{className:"mt-2 text-gray-600",children:N.Description})]}),n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:[n.jsx(yt,{className:"h-4 w-4 mr-2"}),"pending".replace("_"," ")]})]}),n.jsxs("div",{className:"mt-6 flex items-center space-x-6 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(We,{className:"h-4 w-4 mr-2"}),i.initiatorName]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Eh,{className:"h-4 w-4 mr-2"}),al(t.createdAt)]})]}),n.jsx("div",{className:"mt-8",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-between",children:t.typeProjets.map((M,O)=>n.jsxs("div",{className:`flex flex-col items-center ${O===0?"text-blue-600":t.Validation==="approved"?"text-green-600":t.Validation==="rejected"?"text-red-600":"text-gray-400"}`,children:[n.jsx("div",{className:`relative flex h-12 w-12 items-center justify-center rounded-full border-2 bg-white ${O===0?"border-blue-600":t.Validation==="approved"?"border-green-600":t.Validation==="rejected"?"border-red-600":"border-gray-200"}`,children:t.Validation==="approved"?n.jsx(wn,{className:"h-6 w-6"}):t.Validation==="rejected"?n.jsx(Jt,{className:"h-6 w-6"}):n.jsx("span",{className:"text-sm font-medium",children:t.sequenceNumber})}),n.jsx("p",{className:"mt-2 text-sm font-medium",children:t.LibelleEtape}),n.jsx("p",{className:"mt-1 text-xs",children:t.Description}),n.jsx("p",{className:"mt-1 text-xs",children:i.initiatorName})]},M.idType))})]})})]})}),A&&n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Action requise"}),i.transferError&&n.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4 text-sm text-red-600",children:i.transferError}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("textarea",{value:a,onChange:M=>l(M.target.value),placeholder:"Ajouter un commentaire...",rows:4,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"}),n.jsxs("div",{children:[n.jsx("input",{type:"file",ref:u,onChange:j,multiple:!0,className:"hidden"}),n.jsx(L,{variant:"secondary",size:"sm",icon:Sr,onClick:()=>{var M;return(M=u.current)==null?void 0:M.click()},children:"Ajouter des fichiers"}),c.length>0&&n.jsx("div",{className:"mt-3 space-y-2",children:c.map((M,O)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:M.name}),n.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",(M.size/1024).toFixed(1)," KB)"]})]}),n.jsx("button",{onClick:()=>P(O),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Jt,{className:"h-4 w-4"})})]},O))})]}),n.jsxs("div",{className:"flex space-x-3",children:[y&&n.jsx(L,{variant:"primary",icon:wn,onClick:w,children:"Approuver"}),f&&n.jsx(L,{variant:"danger",icon:Jt,onClick:R,children:"Rejeter"}),h&&(((D=t==null?void 0:t.nextEtape)==null?void 0:D.users)??[]).length>0&&n.jsx(L,{variant:"secondary",icon:Mh,onClick:T,children:"Transférer"})]}),c.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Prévisualisation des fichiers"}),n.jsx("div",{className:"mt-2 space-y-2",children:c.map((M,O)=>n.jsxs("div",{className:"p-2 bg-gray-100 rounded-md",children:[n.jsx("p",{className:"text-gray-600",children:M.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Taille : ",(M.size/1024).toFixed(1)," KB"]}),M.type.startsWith("image/")&&n.jsx("img",{src:URL.createObjectURL(M),alt:M.name,className:"mt-2 max-h-40"})]},O))})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents reçus"}),i.receivedDocuments.length>0?i.receivedDocuments.map(M=>n.jsxs("div",{className:"mb-6",children:[n.jsx("a",{href:M.url||"#",target:"_blank",rel:"noopener noreferrer",className:`text-lg font-medium ${M.url?"text-blue-600 hover:underline":"text-gray-500"}`,children:M.title}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Transféré le :"," ",M.transferTimestamp?new Date(M.transferTimestamp).toLocaleString():"N/A"]}),M.files.length>0&&n.jsx("div",{className:"mt-4 space-y-2",children:M.files.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:O.fileName}),n.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",(O.fileSize/1024).toFixed(1)," KB)"]})]}),n.jsx("a",{href:O.filePath,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"Visualiser"})]},O.idFile))})]},M.documentId)):n.jsx("p",{className:"text-gray-500",children:"Aucun document reçu disponible."})]})})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historique des commentaires"}),n.jsx("div",{className:"space-y-4",children:(q=(H=i.receivedDocuments[0])==null?void 0:H.comments)==null?void 0:q.filter(M=>{var O;return((O=M.user)==null?void 0:O.id)!==i.initiatorId}).map(M=>{var O;return n.jsxs("div",{className:"flex space-x-3 p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(Dh,{className:"h-5 w-5 text-blue-600"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:((O=M.user)==null?void 0:O.name)||"Utilisateur inconnu"}),n.jsx("p",{className:"text-sm text-gray-500",children:al(M.createdAt)}),n.jsx("p",{className:"mt-2 text-sm text-gray-700",children:M.content})]})]},M.id)})})]})})]})},Zv=p.memo(Yv),Qv=()=>{const e=ke(),[t,s]=p.useState({templateId:"",title:"",description:"",priority:"normal"}),r=[{id:"1",name:"Demande de congés"},{id:"2",name:"Note de frais"},{id:"3",name:"Demande d'achat"}],i=o=>{o.preventDefault(),e("/processes")};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nouveau processus"})}),n.jsx(de,{children:n.jsxs("form",{onSubmit:i,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modèle de processus"}),n.jsxs("select",{value:t.templateId,onChange:o=>s({...t,templateId:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Sélectionnez un modèle"}),r.map(o=>n.jsx("option",{value:o.id,children:o.name},o.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titre"}),n.jsx("input",{type:"text",value:t.title,onChange:o=>s({...t,title:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),n.jsx(gt,{label:"Description",value:t.description,onChange:o=>s({...t,description:o.target.value}),rows:4}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priorité"}),n.jsxs("select",{value:t.priority,onChange:o=>s({...t,priority:o.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{value:"low",children:"Basse"}),n.jsx("option",{value:"normal",children:"Normale"}),n.jsx("option",{value:"high",children:"Haute"}),n.jsx("option",{value:"urgent",children:"Urgente"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(L,{type:"button",variant:"secondary",onClick:()=>e("/processes"),children:"Annuler"}),n.jsx(L,{type:"submit",variant:"primary",icon:Me,children:"Créer le processus"})]})]})})]})},eb=()=>{const[e,t]=p.useState(null),[s,r]=p.useState(""),[i,o]=p.useState(""),[a,l]=p.useState(""),[c,d]=p.useState("");p.useEffect(()=>{(async()=>{try{const g=await et.getUserById("me");t(g),r(g.email);const x=ne.get("roleUser");x&&d(x)}catch(g){console.error("Erreur lors du chargement des informations utilisateur:",g)}})()},[]);const u=async m=>{if(m.preventDefault(),i!==a){alert("Les mots de passe ne correspondent pas");return}try{const g=await et.updateUser(e.id,{email:s,password:i||void 0});t(g),alert("Profil mis à jour avec succès")}catch(g){console.error("Erreur lors de la mise à jour du profil:",g),alert("Erreur lors de la mise à jour du profil")}};return e?n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mon profil"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsx(de,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx(We,{className:"h-10 w-10 text-gray-500"})}),n.jsx("div",{className:"ml-6",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[e.Nom," ",e.Prenom]})})]}),n.jsx("div",{className:"border-t border-gray-200 pt-6",children:n.jsxs("dl",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("dt",{className:"flex items-center text-sm font-medium text-gray-500 w-1/3",children:[n.jsx(vc,{className:"h-5 w-5 mr-2"}),"Email"]}),n.jsx("dd",{className:"text-sm text-gray-900",children:e.email})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("dt",{className:"flex items-center text-sm font-medium text-gray-500 w-1/3",children:[n.jsx(Th,{className:"h-5 w-5 mr-2"}),"Poste"]}),n.jsx("dd",{className:"text-sm text-gray-900",children:c||"Rôle non défini"})]})]})})]})}),n.jsx(de,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Modifier le profil"}),n.jsxs("form",{className:"space-y-4",onSubmit:u,children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsx("input",{type:"email",value:e.email,onChange:m=>r(m.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nouveau mot de passe"}),n.jsx("input",{type:"password",value:i,onChange:m=>o(m.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),n.jsx("input",{type:"password",value:a,onChange:m=>l(m.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(L,{type:"submit",variant:"primary",children:"Enregistrer les modifications"})})]})]})})]})]}):n.jsx("div",{children:"Chargement..."})},tb=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Paramètres"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[n.jsx(de,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:n.jsx(ii,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:"Notifications"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Notifications par email"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Notifications de bureau"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),n.jsx(de,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:n.jsx(wc,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:"Sécurité"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Authentification à deux facteurs"}),n.jsx(L,{variant:"secondary",size:"sm",children:"Configurer"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Sessions actives"}),n.jsx(L,{variant:"secondary",size:"sm",children:"Gérer"})]})]})]})}),n.jsx(de,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:n.jsx(xc,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:"Préférences"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Langue"}),n.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{children:"Français"}),n.jsx("option",{children:"English"}),n.jsx("option",{children:"Español"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fuseau horaire"}),n.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{children:"Europe/Paris"}),n.jsx("option",{children:"UTC"}),n.jsx("option",{children:"America/New_York"})]})]})]})]})})]})]}),sb=()=>{const[e,t]=p.useState(""),[s,r]=p.useState(""),[i,o]=p.useState(!1),[a,l]=p.useState(""),[c,d]=p.useState(""),[u,m]=p.useState("+237"),[g,x]=p.useState(""),[y,f]=p.useState(!1),[h,v]=p.useState(""),[b,j]=p.useState(""),P=ke(),w=[{code:"+237",flag:"🇨🇲",country:"Cameroun"},{code:"+33",flag:"🇫🇷",country:"France"},{code:"+1",flag:"🇺🇸",country:"États-Unis/Canada"},{code:"+44",flag:"🇬🇧",country:"Royaume-Uni"},{code:"+49",flag:"🇩🇪",country:"Allemagne"},{code:"+39",flag:"🇮🇹",country:"Italie"},{code:"+34",flag:"🇪🇸",country:"Espagne"},{code:"+32",flag:"🇧🇪",country:"Belgique"},{code:"+41",flag:"🇨🇭",country:"Suisse"},{code:"+212",flag:"🇲🇦",country:"Maroc"},{code:"+213",flag:"🇩🇿",country:"Algérie"},{code:"+216",flag:"🇹🇳",country:"Tunisie"},{code:"+221",flag:"🇸🇳",country:"Sénégal"},{code:"+225",flag:"🇨🇮",country:"Côte d'Ivoire"},{code:"+243",flag:"🇨🇩",country:"RD Congo"}],T=()=>{o(!i)},R=A=>{const B=A.length>=8,U=/[a-zA-Z]/.test(A),S=/\d/.test(A),C=/[!@#$%^&*(),.?":{}|<>]/.test(A);return[B,U,S,C].filter(Boolean).length>=2},N=async A=>{if(A.preventDefault(),f(!0),v(""),j(""),!R(s)){v("Le mot de passe doit contenir au moins 8 caractères, dont au moins une lettre, un chiffre et un caractère spécial."),f(!1);return}const B=`${u}${g}`;try{(await F.post("/init/admin",{email:e,password:s,nomUser:a,prenomUser:c,telephone:B})).status===201?(j("Administrateur créé avec succès"),ne.remove("token"),ne.remove("role"),P("/login"),t(""),r(""),l(""),d(""),x(""),m("+237")):v("Erreur lors de la création de l'administrateur. Veuillez réessayer.")}catch(U){U instanceof Error?v(U.message||"Une erreur est survenue."):typeof U=="object"&&U!==null&&"response"in U?v(U.response.data.message||"Une erreur est survenue."):v("Erreur lors de la création de l'administrateur. Veuillez réessayer.")}finally{f(!1)}};return n.jsxs("div",{className:"max-w-md mx-auto mt-8 bg-white p-8 rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Créer un Administrateur"}),n.jsxs("form",{onSubmit:N,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:e,onChange:A=>t(A.target.value),placeholder:"email@exemple.com",required:!0,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 mb-2",children:"Mot de passe"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:i?"text":"password",value:s,onChange:A=>r(A.target.value),placeholder:"••••••••",required:!0,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 pr-10"}),n.jsx("button",{type:"button",onClick:T,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700",children:i?n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),n.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]}):n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cliquez sur l'icône pour afficher/masquer le mot de passe"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 mb-2",children:"Nom"}),n.jsx("input",{type:"text",value:a,onChange:A=>l(A.target.value),placeholder:"Timnou Tchuinte",required:!0,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 mb-2",children:"Prénom"}),n.jsx("input",{type:"text",value:c,onChange:A=>d(A.target.value),placeholder:"Yvan Steeve",required:!0,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-700 mb-2",children:"Téléphone"}),n.jsxs("div",{className:"flex",children:[n.jsx("select",{value:u,onChange:A=>m(A.target.value),className:"min-w-24 px-3 py-2 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-600 bg-white text-gray-700",children:w.map(A=>n.jsxs("option",{value:A.code,children:[A.flag," ",A.code]},A.code))}),n.jsx("input",{type:"text",value:g,onChange:A=>x(A.target.value),placeholder:"612345678",required:!0,className:"flex-grow px-4 py-2 border border-l-0 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format attendu: Indicatif + Numéro sans le premier zéro"})]}),h&&n.jsx("p",{className:"text-red-500 mb-4 p-2 bg-red-50 border border-red-100 rounded",children:h}),b&&n.jsx("p",{className:"text-green-500 mb-4 p-2 bg-green-50 border border-green-100 rounded",children:b}),n.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-all duration-300 flex items-center justify-center",children:y?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Création en cours..."]}):"Créer"})]})]})},rb=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(null);p.useEffect(()=>{(async()=>{try{const l=await F.get("/structures/all");t(l.data)}catch(l){console.error("Erreur lors de la récupération des entreprises:",l)}})()},[]);const i=async()=>{if(s)try{const a=await F.put(`/structures/${s.idStructure}`,{NomStructure:s.NomStructure,DescriptionStructure:s.DescriptionStructure});console.log("Données de l'entreprise mises à jour:",a.data);const l=e.map(c=>c.idStructure===s.idStructure?a.data:c);t(l),r(null)}catch(a){console.error("Erreur lors de la mise à jour des données de l'entreprise:",a)}},o=a=>{r(a)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des entreprises"})}),n.jsx(de,{children:n.jsx("ul",{className:"space-y-4",children:e.map(a=>n.jsxs("li",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:a.NomStructure}),n.jsx("p",{className:"text-sm text-gray-600",children:a.DescriptionStructure})]}),n.jsx(L,{onClick:()=>o(a),variant:"primary",children:"Modifier"})]},a.idStructure))})}),s&&n.jsx(de,{children:n.jsxs("form",{onSubmit:a=>{a.preventDefault(),i()},className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Modifier l'entreprise"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom de l'entreprise"}),n.jsx("input",{type:"text",value:s.NomStructure,onChange:a=>r({...s,NomStructure:a.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx(gt,{value:s.DescriptionStructure,onChange:a=>r({...s,DescriptionStructure:a.target.value}),rows:4,placeholder:"Description de l'entreprise..."})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(L,{type:"submit",variant:"primary",icon:jc,children:"Enregistrer les modifications"})})]})})]})},nb=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(!0),[i,o]=p.useState(null),[a,l]=p.useState(!1),[c,d]=p.useState({idType:"",Libelle:"",Description:"",createdAt:"",updatedAt:""});p.useEffect(()=>{(async()=>{try{const v=await F.get("/projets/all");t(v.data)}catch(v){o("Erreur lors du chargement des projets"),console.error(v)}finally{r(!1)}})()},[]);const u=()=>{d({idType:Date.now().toString(),Libelle:"",Description:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),l(!0)},m=()=>{l(!1)},g=async()=>{if(!c.Libelle.trim()||!c.Description.trim()){alert("Veuillez remplir tous les champs obligatoires.");return}try{const h=await F.post("/projets",c);t([...e,h.data]),l(!1)}catch(h){console.error("Erreur lors de la création du projet",h),alert("Erreur lors de la création du projet.")}},x=async h=>{try{await F.delete(`/projets/${h}`),t(e.filter(v=>v.idType!==h))}catch(v){console.error("Erreur lors de la suppression du projet",v)}},y=async h=>{try{await F.put(`/projets/${h.idType}`,h),t(e.map(v=>v.idType===h.idType?h:v))}catch(v){console.error("Erreur lors de la mise à jour du projet",v)}},f=h=>{const v=prompt("Nom du projet:",h.Libelle),b=prompt("Description du projet:",h.Description);v!==null&&b!==null&&y({...h,Libelle:v,Description:b,updatedAt:new Date().toISOString()})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des projets"}),n.jsx(L,{variant:"primary",icon:Me,onClick:u,children:"Ajouter un projet"})]}),s?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(ai,{className:"animate-spin w-8 h-8 text-blue-500"})}):i?n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:i}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Nom"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Description"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:e.map(h=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:h.Libelle}),n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:h.Description}),n.jsxs("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:[n.jsx("button",{type:"button",onClick:()=>f(h),className:"text-blue-600 hover:text-blue-700 mr-4",children:n.jsx(ci,{className:"h-5 w-5"})}),n.jsx("button",{type:"button",onClick:()=>x(h.idType),className:"text-red-600 hover:text-red-700",children:n.jsx(He,{className:"h-5 w-5"})})]})]},h.idType))})]})}),a&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Ajouter un projet"}),n.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Dt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom du projet"}),n.jsx(le,{value:c.Libelle,onChange:h=>d({...c,Libelle:h.target.value}),placeholder:"Nom du projet",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx(gt,{value:c.Description,onChange:h=>d({...c,Description:h.target.value}),placeholder:"Description du projet",rows:4})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(L,{variant:"secondary",onClick:m,children:"Annuler"}),n.jsx(L,{variant:"primary",onClick:g,children:"Enregistrer"})]})]})})]})},ib=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(!0),[i,o]=p.useState(!1),[a,l]=p.useState(null),[c,d]=p.useState(null),[u,m]=p.useState(!1),[g,x]=p.useState({LibelleEtape:"",Description:"",Validation:"pending",roleId:null});p.useEffect(()=>{(async()=>{try{const T=await F.get("/etapes/all");if(console.log("Fetched steps:",T.data),Array.isArray(T.data))t(T.data);else throw new Error("La réponse de l'API n'est pas un tableau")}catch(T){const R=T instanceof Error?T.message:String(T);l(`Erreur lors du chargement des étapes: ${R}`),console.error("Fetch steps error:",T)}finally{r(!1)}})()},[]);const y=()=>{console.log("Bouton 'Ajouter une étape' cliqué, showModal avant:",u),m(!0),console.log("showModal après:",u)},f=async()=>{var w,T;if(!((w=g.LibelleEtape)!=null&&w.trim())||!((T=g.Description)!=null&&T.trim())){l("Veuillez remplir tous les champs obligatoires.");return}o(!0);try{const R=await F.post("/etapes",{...g,idEtape:Date.now().toString(),sequenceNumber:e.length+1,Validation:g.Validation||"pending"});console.log("Created step:",R.data),t([...e,R.data]),d("Étape ajoutée avec succès !"),m(!1),x({LibelleEtape:"",Description:"",Validation:"pending",roleId:null})}catch(R){const N=R instanceof Error?R.message:String(R);l(`Erreur lors de l'ajout de l'étape: ${N}`),console.error("Add step error:",R)}finally{o(!1)}},h=async w=>{o(!0);try{await F.delete(`/etapes/delete/${w}`),t(e.filter(T=>T.idEtape!==w)),d("Étape supprimée avec succès !")}catch(T){const R=T instanceof Error?T.message:String(T);l(`Erreur lors de la suppression de l'étape: ${R}`),console.error("Delete step error:",T)}finally{o(!1)}},v=(w,T,R)=>{t(e.map(N=>N.idEtape===w?{...N,[T]:R}:N))},b=async w=>{w.preventDefault(),o(!0);try{await F.post("/etapes/update",{steps:e}),d("Étapes mises à jour avec succès !")}catch(T){const R=T instanceof Error?T.message:String(T);l(`Erreur lors de la mise à jour des étapes: ${R}`),console.error("Update steps error:",T)}finally{o(!1)}},j=()=>{m(!1),x({LibelleEtape:"",Description:"",Validation:"pending",roleId:null}),l(null)},P=()=>{m(!1),f()};return p.useEffect(()=>{console.log("showModal changé:",u)},[u]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuration des étapes"}),n.jsxs("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center",children:[n.jsx(Me,{className:"h-5 w-5 mr-2"}),"Ajouter une étape (natif)"]})]}),a&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a}),c&&n.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:c}),s?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(ai,{className:"animate-spin w-8 h-8 text-blue-500"})}):e.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune étape disponible"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Nom"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Description"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Ordre"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Rôle requis"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:e.map(w=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:n.jsx("input",{type:"text",value:w.LibelleEtape,onChange:T=>v(w.idEtape,"LibelleEtape",T.target.value),className:"w-full border-none bg-transparent focus:ring-0"})}),n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:n.jsx("input",{type:"text",value:w.Description,onChange:T=>v(w.idEtape,"Description",T.target.value),className:"w-full border-none bg-transparent focus:ring-0"})}),n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:w.sequenceNumber}),n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:n.jsx("input",{type:"text",value:w.roleId||"",onChange:T=>v(w.idEtape,"roleId",T.target.value||null),className:"w-full border-none bg-transparent focus:ring-0"})}),n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:n.jsx("button",{type:"button",onClick:()=>h(w.idEtape),className:"text-red-600 hover:text-red-700",disabled:i,children:n.jsx(He,{className:"h-5 w-5"})})})]},w.idEtape))})]})}),n.jsx("form",{onSubmit:b,children:n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx(L,{type:"submit",variant:"primary",icon:jc,disabled:i||e.length===0,children:i?"Enregistrement...":"Enregistrer les modifications"})})}),u&&n.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Ajouter une étape"}),n.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Dt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom de l'étape"}),n.jsx("input",{type:"text",value:g.LibelleEtape||"",onChange:w=>x({...g,LibelleEtape:w.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{value:g.Description||"",onChange:w=>x({...g,Description:w.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rôle requis"}),n.jsx("input",{type:"text",value:g.roleId||"",onChange:w=>x({...g,roleId:w.target.value||null}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Validation"}),n.jsxs("select",{value:g.Validation||"pending",onChange:w=>x({...g,Validation:w.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{value:"pending",children:"En attente"}),n.jsx("option",{value:"approved",children:"Approuvé"}),n.jsx("option",{value:"rejected",children:"Rejeté"})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(L,{variant:"secondary",onClick:j,disabled:i,children:"Annuler"}),n.jsx(L,{variant:"primary",onClick:P,disabled:i,children:i?"Ajout...":"Ajouter"})]})]})})]})},ab=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(null);p.useEffect(()=>{(async()=>{try{const l=await F.get("/etapes/all");t(l.data.data)}catch(l){r("Erreur lors du chargement des étapes"),console.error(l)}})()},[]);const i=a=>{t(e.filter(l=>l.idEtape!==a))},o=a=>{var d,u;const l=prompt("Nom de l'étape:",(d=e.find(m=>m.idEtape===a))==null?void 0:d.LibelleEtape),c=prompt("Description de l'étape:",(u=e.find(m=>m.idEtape===a))==null?void 0:u.Description);l!==null&&c!==null&&t(e.map(m=>m.idEtape===a?{...m,LibelleEtape:l,Description:c}:m))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des étapes"}),n.jsx(L,{variant:"primary",icon:nt,children:"Ajouter une étape"})]}),n.jsx(de,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Validation"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Projet"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(nt,{className:"h-5 w-5 text-blue-600"})}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.LibelleEtape})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.Description}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.Validation}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.typeProjets.map(l=>l.Libelle).join(", ")}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-4",onClick:()=>o(a.idEtape),children:n.jsx(ci,{className:"h-5 w-5"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>i(a.idEtape),children:n.jsx(He,{className:"h-5 w-5"})})]})]},a.idEtape))})]})})})]})},ob=[{id:"create_process",name:"Créer un processus",description:"Permet de créer de nouveaux processus"},{id:"edit_process",name:"Modifier un processus",description:"Permet de modifier les processus existants"},{id:"delete_process",name:"Supprimer un processus",description:"Permet de supprimer des processus"},{id:"approve_step",name:"Approuver une étape",description:"Permet d'approuver les étapes d'un processus"},{id:"reject_step",name:"Rejeter une étape",description:"Permet de rejeter les étapes d'un processus"},{id:"manage_users",name:"Gérer les utilisateurs",description:"Permet de gérer les utilisateurs"},{id:"view_reports",name:"Voir les rapports",description:"Permet de consulter les rapports"}],lb=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(!0),[i,o]=p.useState(null),[a,l]=p.useState(!1),[c,d]=p.useState({idRole:"",name:"",description:"",isSystemRole:!1,permissions:[],createdAt:"",updatedAt:""});p.useEffect(()=>{(async()=>{try{const y=await F.get("/rolesss");t(y.data)}catch(y){o("Erreur lors du chargement des rôles"),console.error(y)}finally{r(!1)}})()},[]);const u=()=>{d({idRole:Date.now().toString(),name:"",description:"",isSystemRole:!1,permissions:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),l(!0)},m=()=>{l(!1)},g=()=>{if(!c.name.trim()||!c.description.trim()){alert("Veuillez remplir tous les champs obligatoires.");return}t([...e,c]),l(!1)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des rôles"}),n.jsx(L,{variant:"primary",icon:Me,onClick:u,children:"Ajouter un rôle"})]}),s?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(ai,{className:"animate-spin w-8 h-8 text-blue-500"})}):i?n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:i}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Nom"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Description"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Rôle Système"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Permissions"}),n.jsx("th",{className:"px-6 py-3 border-b-2 border-gray-300 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:e.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:x.name}),n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:x.description}),n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:x.isSystemRole?"Oui":"Non"}),n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:x.permissions?x.permissions.join(", "):"Aucune"}),n.jsx("td",{className:"px-6 py-4 border-b border-gray-200 text-sm text-gray-900",children:n.jsx("button",{type:"button",onClick:()=>t(e.filter(y=>y.idRole!==x.idRole)),className:"text-red-600 hover:text-red-700",children:n.jsx(He,{className:"h-5 w-5"})})})]},x.idRole))})]})}),a&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Ajouter un rôle"}),n.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Dt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom du rôle"}),n.jsx("input",{type:"text",value:c.name,onChange:x=>d({...c,name:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{value:c.description,onChange:x=>d({...c,description:x.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:ob.map(x=>{var y;return n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex items-center h-5",children:n.jsx("input",{type:"checkbox",checked:((y=c.permissions)==null?void 0:y.includes(x.id))||!1,onChange:()=>{var h;const f=(h=c.permissions)!=null&&h.includes(x.id)?c.permissions.filter(v=>v!==x.id):[...c.permissions||[],x.id];d({...c,permissions:f})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),n.jsxs("div",{className:"ml-3 text-sm",children:[n.jsx("label",{className:"font-medium text-gray-700",children:x.name}),n.jsx("p",{className:"text-gray-500",children:x.description})]})]},x.id)})})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(L,{variant:"secondary",onClick:m,children:"Annuler"}),n.jsx(L,{variant:"primary",onClick:g,children:"Ajouter"})]})]})})]})},cb=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(["admin","user","manager"]),[i,o]=p.useState(null),[a,l]=p.useState(null),[c,d]=p.useState(!1),[u,m]=p.useState(!1),[g,x]=p.useState(!1),[y,f]=p.useState(null),[h,v]=p.useState({nomUser:"",prenomUser:"",email:"",password:"",Telephone:"",IsActive:!0,roles:[]});p.useEffect(()=>{b(),j()},[]);const b=async()=>{try{const N=await et.getUsers();t(N)}catch(N){const A=N instanceof Error?N.message:"Une erreur est survenue lors du chargement des utilisateurs.";o(A),console.error("Erreur lors du chargement des utilisateurs:",A)}},j=async()=>{try{const N=await F.get("/roles");r(N.data.map(A=>A.name))}catch(N){console.error("Erreur lors du chargement des rôles, utilisation de la liste statique:",N),r(["admin","user","manager"])}},P=async()=>{try{await et.createUser({Email:h.email,Password:h.password||"",NomUser:h.nomUser,prenomUser:h.prenomUser,roles:h.roles,IsActive:h.IsActive,Telephone:h.Telephone||""}),l("Utilisateur créé avec succès !"),d(!1),v({nomUser:"",prenomUser:"",email:"",password:"",Telephone:"",IsActive:!0,roles:[]}),await b()}catch(N){const A=N instanceof Error?N.message:"Une erreur est survenue lors de la création de l'utilisateur.";o(A),console.error("Erreur lors de la création de l'utilisateur:",A)}},w=async()=>{if(y)try{await et.updateUser(y.id,{email:h.email,nomUser:h.nomUser,prenomUser:h.prenomUser,roles:h.roles,IsActive:h.IsActive,Telephone:h.Telephone||"",password:h.password||void 0}),l("Utilisateur mis à jour avec succès !"),m(!1),f(null),v({nomUser:"",prenomUser:"",email:"",password:"",Telephone:"",IsActive:!0,roles:[]}),await b()}catch(N){const A=N instanceof Error?N.message:"Une erreur est survenue lors de la mise à jour de l'utilisateur.";o(A),console.error("Erreur lors de la mise à jour de l'utilisateur:",A)}},T=async()=>{if(y)try{await et.deleteUser(y.id),l("Utilisateur supprimé avec succès !"),x(!1),f(null),await b()}catch(N){const A=N instanceof Error?N.message:"Une erreur est survenue lors de la suppression de l'utilisateur.";o(A),console.error("Erreur lors de la suppression de l'utilisateur:",A)}},R=N=>{f(N),v({nomUser:N.Nom,prenomUser:N.Prenom,email:N.email,password:"",Telephone:N.Telephone||"",IsActive:N.IsActive??!1,roles:N.roles||[]}),m(!0)};return n.jsxs("div",{className:"space-y-6",children:[a&&n.jsx("div",{className:"text-green-500",children:a}),i&&n.jsx("div",{className:"text-red-500",children:i}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des utilisateurs"}),n.jsx(L,{variant:"primary",icon:Me,onClick:()=>d(!0),children:"Ajouter un utilisateur"})]}),n.jsx(de,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Téléphone"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(N=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx(We,{className:"h-5 w-5 text-gray-500"})}),n.jsx("div",{className:"ml-4",children:n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[N.Prenom," ",N.Nom]})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.Telephone}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[n.jsx("button",{onClick:()=>R(N),className:"text-blue-600 hover:text-blue-900 mr-4",children:n.jsx(ci,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>{f(N),x(!0)},className:"text-red-600 hover:text-red-900",children:n.jsx(He,{className:"h-5 w-5"})})]})]},N.id))})]})})}),c&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Ajouter un utilisateur"}),n.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Dt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Nom",n.jsx(le,{value:h.nomUser,onChange:N=>v({...h,nomUser:N.target.value}),placeholder:"Entrez le nom"})]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Prénom",n.jsx(le,{value:h.prenomUser,onChange:N=>v({...h,prenomUser:N.target.value}),placeholder:"Entrez le prénom"})]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Email",n.jsx(le,{value:h.email,onChange:N=>v({...h,email:N.target.value}),placeholder:"Entrez l'email"})]}),n.jsx(le,{type:"password",value:h.password,onChange:N=>v({...h,password:N.target.value}),placeholder:"Entrez le mot de passe"}),n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),"/",n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Téléphone"}),n.jsx(le,{value:h.Telephone,onChange:N=>v({...h,Telephone:N.target.value}),placeholder:"Entrez le téléphone"})]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Rôles",n.jsxs(ss,{value:h.roles[0]||"",onChange:N=>v({...h,roles:[N.target.value]}),children:[n.jsx("option",{value:"",children:"Sélectionnez un rôle"}),s.map(N=>n.jsx("option",{value:N,children:N},N))]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(L,{variant:"secondary",onClick:()=>d(!1),children:"Annuler"}),n.jsx(L,{variant:"primary",onClick:P,children:"Ajouter"})]})]})}),u&&y&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Modifier l'utilisateur"}),n.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Dt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Nom",n.jsx(le,{value:h.nomUser,onChange:N=>v({...h,nomUser:N.target.value}),placeholder:"Entrez le nom"})]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Prénom",n.jsx(le,{value:h.prenomUser,onChange:N=>v({...h,prenomUser:N.target.value}),placeholder:"Entrez le prénom"})]}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Email",n.jsx(le,{value:h.email,onChange:N=>v({...h,email:N.target.value}),placeholder:"Entrez l'email"})]}),n.jsx(le,{label:"Mot de passe (laisser vide pour ne pas modifier)",type:"password",value:h.password,onChange:N=>v({...h,password:N.target.value}),placeholder:"Entrez un nouveau mot de passe"}),n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Téléphone",n.jsx(le,{value:h.Telephone,onChange:N=>v({...h,Telephone:N.target.value}),placeholder:"Entrez le téléphone"})]}),n.jsxs(ss,{label:"Rôles",value:h.roles[0]||"",onChange:N=>v({...h,roles:[N.target.value]}),children:[n.jsx("option",{value:"",children:"Sélectionnez un rôle"}),s.map(N=>n.jsx("option",{value:N,children:N},N))]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(L,{variant:"secondary",onClick:()=>m(!1),children:"Annuler"}),n.jsx(L,{variant:"primary",onClick:w,children:"Enregistrer"})]})]})}),g&&y&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Confirmer la suppression"}),n.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Dt,{className:"h-5 w-5"})})]}),n.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer l'utilisateur"," ",n.jsxs("strong",{children:[y.Prenom," ",y.Nom]}),"?"]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(L,{variant:"secondary",onClick:()=>x(!1),children:"Annuler"}),n.jsx(L,{variant:"danger",onClick:T,children:"Supprimer"})]})]})})]})};function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Gn.apply(null,arguments)}function ol(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xn(e,t){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},Xn(e,t)}function ub(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xn(e,t)}var ll=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function db(e,t){return!!(e===t||ll(e)&&ll(t))}function mb(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!db(e[s],t[s]))return!1;return!0}function qr(e,t){t===void 0&&(t=mb);var s,r=[],i,o=!1;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return o&&s===this&&t(l,r)||(i=e.apply(this,l),o=!0,s=this,r=l),i}return a}var fb=typeof performance=="object"&&typeof performance.now=="function",cl=fb?function(){return performance.now()}:function(){return Date.now()};function ul(e){cancelAnimationFrame(e.id)}function hb(e,t){var s=cl();function r(){cl()-s>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var Hr=-1;function dl(e){if(e===void 0&&(e=!1),Hr===-1||e){var t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",document.body.appendChild(t),Hr=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Hr}var Tt=null;function ml(e){if(e===void 0&&(e=!1),Tt===null||e){var t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",s.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Tt="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Tt="negative":Tt="positive-ascending"),document.body.removeChild(t),Tt}return Tt}var pb=150,gb=function(t,s){return t};function xb(e){var t,s=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,a=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,c=e.initInstanceProps,d=e.shouldResetStyleCacheOnItemSizeChange,u=e.validateProps;return t=function(m){ub(g,m);function g(y){var f;return f=m.call(this,y)||this,f._instanceProps=c(f.props,ol(f)),f._outerRef=void 0,f._resetIsScrollingTimeoutId=null,f.state={instance:ol(f),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof f.props.initialScrollOffset=="number"?f.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},f._callOnItemsRendered=void 0,f._callOnItemsRendered=qr(function(h,v,b,j){return f.props.onItemsRendered({overscanStartIndex:h,overscanStopIndex:v,visibleStartIndex:b,visibleStopIndex:j})}),f._callOnScroll=void 0,f._callOnScroll=qr(function(h,v,b){return f.props.onScroll({scrollDirection:h,scrollOffset:v,scrollUpdateWasRequested:b})}),f._getItemStyle=void 0,f._getItemStyle=function(h){var v=f.props,b=v.direction,j=v.itemSize,P=v.layout,w=f._getItemStyleCache(d&&j,d&&P,d&&b),T;if(w.hasOwnProperty(h))T=w[h];else{var R=s(f.props,h,f._instanceProps),N=i(f.props,h,f._instanceProps),A=b==="horizontal"||P==="horizontal",B=b==="rtl",U=A?R:0;w[h]=T={position:"absolute",left:B?void 0:U,right:B?U:void 0,top:A?0:R,height:A?"100%":N,width:A?N:"100%"}}return T},f._getItemStyleCache=void 0,f._getItemStyleCache=qr(function(h,v,b){return{}}),f._onScrollHorizontal=function(h){var v=h.currentTarget,b=v.clientWidth,j=v.scrollLeft,P=v.scrollWidth;f.setState(function(w){if(w.scrollOffset===j)return null;var T=f.props.direction,R=j;if(T==="rtl")switch(ml()){case"negative":R=-j;break;case"positive-descending":R=P-b-j;break}return R=Math.max(0,Math.min(R,P-b)),{isScrolling:!0,scrollDirection:w.scrollOffset<R?"forward":"backward",scrollOffset:R,scrollUpdateWasRequested:!1}},f._resetIsScrollingDebounced)},f._onScrollVertical=function(h){var v=h.currentTarget,b=v.clientHeight,j=v.scrollHeight,P=v.scrollTop;f.setState(function(w){if(w.scrollOffset===P)return null;var T=Math.max(0,Math.min(P,j-b));return{isScrolling:!0,scrollDirection:w.scrollOffset<T?"forward":"backward",scrollOffset:T,scrollUpdateWasRequested:!1}},f._resetIsScrollingDebounced)},f._outerRefSetter=function(h){var v=f.props.outerRef;f._outerRef=h,typeof v=="function"?v(h):v!=null&&typeof v=="object"&&v.hasOwnProperty("current")&&(v.current=h)},f._resetIsScrollingDebounced=function(){f._resetIsScrollingTimeoutId!==null&&ul(f._resetIsScrollingTimeoutId),f._resetIsScrollingTimeoutId=hb(f._resetIsScrolling,pb)},f._resetIsScrolling=function(){f._resetIsScrollingTimeoutId=null,f.setState({isScrolling:!1},function(){f._getItemStyleCache(-1,null)})},f}g.getDerivedStateFromProps=function(f,h){return yb(f,h),u(f),null};var x=g.prototype;return x.scrollTo=function(f){f=Math.max(0,f),this.setState(function(h){return h.scrollOffset===f?null:{scrollDirection:h.scrollOffset<f?"forward":"backward",scrollOffset:f,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},x.scrollToItem=function(f,h){h===void 0&&(h="auto");var v=this.props,b=v.itemCount,j=v.layout,P=this.state.scrollOffset;f=Math.max(0,Math.min(f,b-1));var w=0;if(this._outerRef){var T=this._outerRef;j==="vertical"?w=T.scrollWidth>T.clientWidth?dl():0:w=T.scrollHeight>T.clientHeight?dl():0}this.scrollTo(o(this.props,f,h,P,this._instanceProps,w))},x.componentDidMount=function(){var f=this.props,h=f.direction,v=f.initialScrollOffset,b=f.layout;if(typeof v=="number"&&this._outerRef!=null){var j=this._outerRef;h==="horizontal"||b==="horizontal"?j.scrollLeft=v:j.scrollTop=v}this._callPropsCallbacks()},x.componentDidUpdate=function(){var f=this.props,h=f.direction,v=f.layout,b=this.state,j=b.scrollOffset,P=b.scrollUpdateWasRequested;if(P&&this._outerRef!=null){var w=this._outerRef;if(h==="horizontal"||v==="horizontal")if(h==="rtl")switch(ml()){case"negative":w.scrollLeft=-j;break;case"positive-ascending":w.scrollLeft=j;break;default:var T=w.clientWidth,R=w.scrollWidth;w.scrollLeft=R-T-j;break}else w.scrollLeft=j;else w.scrollTop=j}this._callPropsCallbacks()},x.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ul(this._resetIsScrollingTimeoutId)},x.render=function(){var f=this.props,h=f.children,v=f.className,b=f.direction,j=f.height,P=f.innerRef,w=f.innerElementType,T=f.innerTagName,R=f.itemCount,N=f.itemData,A=f.itemKey,B=A===void 0?gb:A,U=f.layout,S=f.outerElementType,C=f.outerTagName,k=f.style,D=f.useIsScrolling,H=f.width,q=this.state.isScrolling,M=b==="horizontal"||U==="horizontal",O=M?this._onScrollHorizontal:this._onScrollVertical,K=this._getRangeToRender(),ee=K[0],te=K[1],Be=[];if(R>0)for(var G=ee;G<=te;G++)Be.push(p.createElement(h,{data:N,key:B(G,N),index:G,isScrolling:D?q:void 0,style:this._getItemStyle(G)}));var ze=r(this.props,this._instanceProps);return p.createElement(S||C||"div",{className:v,onScroll:O,ref:this._outerRefSetter,style:Gn({position:"relative",height:j,width:H,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:b},k)},p.createElement(w||T||"div",{children:Be,ref:P,style:{height:M?"100%":ze,pointerEvents:q?"none":void 0,width:M?ze:"100%"}}))},x._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var f=this.props.itemCount;if(f>0){var h=this._getRangeToRender(),v=h[0],b=h[1],j=h[2],P=h[3];this._callOnItemsRendered(v,b,j,P)}}if(typeof this.props.onScroll=="function"){var w=this.state,T=w.scrollDirection,R=w.scrollOffset,N=w.scrollUpdateWasRequested;this._callOnScroll(T,R,N)}},x._getRangeToRender=function(){var f=this.props,h=f.itemCount,v=f.overscanCount,b=this.state,j=b.isScrolling,P=b.scrollDirection,w=b.scrollOffset;if(h===0)return[0,0,0,0];var T=a(this.props,w,this._instanceProps),R=l(this.props,T,w,this._instanceProps),N=!j||P==="backward"?Math.max(1,v):1,A=!j||P==="forward"?Math.max(1,v):1;return[Math.max(0,T-N),Math.max(0,Math.min(h-1,R+A)),T,R]},g}(p.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var yb=function(t,s){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,s.instance},vb=xb({getItemOffset:function(t,s){var r=t.itemSize;return s*r},getItemSize:function(t,s){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var s=t.itemCount,r=t.itemSize;return r*s},getOffsetForIndexAndAlignment:function(t,s,r,i,o,a){var l=t.direction,c=t.height,d=t.itemCount,u=t.itemSize,m=t.layout,g=t.width,x=l==="horizontal"||m==="horizontal",y=x?g:c,f=Math.max(0,d*u-y),h=Math.min(f,s*u),v=Math.max(0,s*u-y+u+a);switch(r==="smart"&&(i>=v-y&&i<=h+y?r="auto":r="center"),r){case"start":return h;case"end":return v;case"center":{var b=Math.round(v+(h-v)/2);return b<Math.ceil(y/2)?0:b>f+Math.floor(y/2)?f:b}case"auto":default:return i>=v&&i<=h?i:i<v?v:h}},getStartIndexForOffset:function(t,s){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(s/i)))},getStopIndexForStartIndex:function(t,s,r){var i=t.direction,o=t.height,a=t.itemCount,l=t.itemSize,c=t.layout,d=t.width,u=i==="horizontal"||c==="horizontal",m=s*l,g=u?d:o,x=Math.ceil((g+r-m)/l);return Math.max(0,Math.min(a-1,s+x-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}}),Wr,fl;function ud(){if(fl)return Wr;fl=1;function e(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}return Wr=e,Wr}var Kr,hl;function bb(){if(hl)return Kr;hl=1;var e=typeof Es=="object"&&Es&&Es.Object===Object&&Es;return Kr=e,Kr}var Gr,pl;function dd(){if(pl)return Gr;pl=1;var e=bb(),t=typeof self=="object"&&self&&self.Object===Object&&self,s=e||t||Function("return this")();return Gr=s,Gr}var Xr,gl;function jb(){if(gl)return Xr;gl=1;var e=dd(),t=function(){return e.Date.now()};return Xr=t,Xr}var Jr,xl;function wb(){if(xl)return Jr;xl=1;var e=/\s/;function t(s){for(var r=s.length;r--&&e.test(s.charAt(r)););return r}return Jr=t,Jr}var Yr,yl;function Nb(){if(yl)return Yr;yl=1;var e=wb(),t=/^\s+/;function s(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Yr=s,Yr}var Zr,vl;function md(){if(vl)return Zr;vl=1;var e=dd(),t=e.Symbol;return Zr=t,Zr}var Qr,bl;function Sb(){if(bl)return Qr;bl=1;var e=md(),t=Object.prototype,s=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var l=s.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch{}var u=r.call(a);return d&&(l?a[i]=c:delete a[i]),u}return Qr=o,Qr}var en,jl;function Tb(){if(jl)return en;jl=1;var e=Object.prototype,t=e.toString;function s(r){return t.call(r)}return en=s,en}var tn,wl;function Eb(){if(wl)return tn;wl=1;var e=md(),t=Sb(),s=Tb(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(l){return l==null?l===void 0?i:r:o&&o in Object(l)?t(l):s(l)}return tn=a,tn}var sn,Nl;function Cb(){if(Nl)return sn;Nl=1;function e(t){return t!=null&&typeof t=="object"}return sn=e,sn}var rn,Sl;function Pb(){if(Sl)return rn;Sl=1;var e=Eb(),t=Cb(),s="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==s}return rn=r,rn}var nn,Tl;function Rb(){if(Tl)return nn;Tl=1;var e=Nb(),t=ud(),s=Pb(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(s(d))return r;if(t(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=t(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=e(d);var m=o.test(d);return m||a.test(d)?l(d.slice(2),m?2:8):i.test(d)?r:+d}return nn=c,nn}var an,El;function kb(){if(El)return an;El=1;var e=ud(),t=jb(),s=Rb(),r="Expected a function",i=Math.max,o=Math.min;function a(l,c,d){var u,m,g,x,y,f,h=0,v=!1,b=!1,j=!0;if(typeof l!="function")throw new TypeError(r);c=s(c)||0,e(d)&&(v=!!d.leading,b="maxWait"in d,g=b?i(s(d.maxWait)||0,c):g,j="trailing"in d?!!d.trailing:j);function P(C){var k=u,D=m;return u=m=void 0,h=C,x=l.apply(D,k),x}function w(C){return h=C,y=setTimeout(N,c),v?P(C):x}function T(C){var k=C-f,D=C-h,H=c-k;return b?o(H,g-D):H}function R(C){var k=C-f,D=C-h;return f===void 0||k>=c||k<0||b&&D>=g}function N(){var C=t();if(R(C))return A(C);y=setTimeout(N,T(C))}function A(C){return y=void 0,j&&u?P(C):(u=m=void 0,x)}function B(){y!==void 0&&clearTimeout(y),h=0,u=f=m=y=void 0}function U(){return y===void 0?x:A(t())}function S(){var C=t(),k=R(C);if(u=arguments,m=this,f=C,k){if(y===void 0)return w(f);if(b)return clearTimeout(y),y=setTimeout(N,c),P(f)}return y===void 0&&(y=setTimeout(N,c)),x}return S.cancel=B,S.flush=U,S}return an=a,an}var Ab=kb();const Db=Pl(Ab),Mb={search:async e=>{const{data:t}=await F.get(`/search1Highligth/${encodeURIComponent(e)}`);return t},getDocumentPreview:async(e,t)=>{try{const{data:s}=await F.get(`/highlightera2/${encodeURIComponent(e)}/${encodeURIComponent(t)}`);return s}catch(s){throw console.error("Erreur lors de l'obtention de l'aperçu du document :",s),new Error("Échec de l'obtention de l'aperçu. Veuillez réessayer.")}}},Ib=({onClose:e,children:t})=>n.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"✕"})}),t]})}),_b=()=>{const e=ke(),t=async()=>{try{ne.remove("token"),ne.remove("refreshToken"),e("/login")}catch(s){console.error("Erreur lors de la déconnexion:",s),e("/login")}};return n.jsx("nav",{className:"bg-white shadow",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx(De,{to:"/search/interface",className:"text-xl font-bold text-blue-600",children:"Recherche"})}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs(xe,{as:"div",className:"relative",children:[n.jsx(xe.Button,{className:"flex rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx(We,{className:"h-5 w-5 text-gray-500"})})}),n.jsx(ea,{as:ue.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:n.jsxs(xe.Items,{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[n.jsx(xe.Item,{children:({active:s})=>n.jsxs(De,{to:"/profile",className:`${s?"bg-gray-100":""} flex px-4 py-2 text-sm text-gray-700`,children:[n.jsx(We,{className:"h-5 w-5 mr-2"}),"Mon profil"]})}),n.jsx(xe.Item,{children:({active:s})=>n.jsxs(De,{to:"/settings",className:`${s?"bg-gray-100":""} flex px-4 py-2 text-sm text-gray-700`,children:[n.jsx(os,{className:"h-5 w-5 mr-2"}),"Paramètres"]})}),n.jsx(xe.Item,{children:({active:s})=>n.jsxs("button",{onClick:t,className:`${s?"bg-gray-100":""} flex w-full px-4 py-2 text-sm text-gray-700 items-center`,children:[n.jsx(oi,{className:"h-5 w-5 mr-2"}),"Déconnexion"]})})]})})]})})]})})})},Ob=()=>{const[e,t]=p.useState(""),[s,r]=p.useState([]),[i,o]=p.useState(!1),[a,l]=p.useState(null),[c,d]=p.useState(null),[u,m]=p.useState(null),[g,x]=p.useState(""),[y,f]=p.useState(!1),[h,v]=p.useState(null),[b,j]=p.useState(!1),[P,w]=p.useState([]),[T,R]=p.useState(null),{process:N}=cd(),[A,B]=p.useState(null),[U,S]=p.useState(null),[C,k]=p.useState([]),[D,H]=p.useState({}),[q,M]=p.useState(null);p.useEffect(()=>{(async()=>{try{const[z,Q,se]=await Promise.all([et.getUserById("me"),F.get("/etapes/all"),F.get("/latest-document")]);R(z.id),Q.data.success?k(Q.data.data):l("Erreur lors de la récupération des étapes"),se.data.success?m(se.data.data):l("Erreur lors de la récupération du dernier document")}catch(z){console.error("Erreur lors de la récupération des données initiales",z),l(z instanceof Error?z.message:"Erreur inconnue")}})()},[]),p.useEffect(()=>{u!=null&&u.etape?M(u.etape):N!=null&&N.etape?M(N.etape):M(null)},[u,N]),p.useEffect(()=>{if(N!=null&&N.nextEtape)S({id:N.nextEtape.id,name:N.nextEtape.name}),N.nextEtape.users&&N.nextEtape.users.length>0&&B(N.nextEtape.users[0].name);else if(q&&C.length>0){const I=[...C].sort((se,pe)=>se.sequenceNumber-pe.sequenceNumber),z=I.findIndex(se=>se.idEtape===q.idEtape),Q=I[z+1];Q?(S({id:Q.idEtape,name:Q.LibelleEtape}),B(null)):(S(null),B(null))}else S(null),B(null)},[q,C,N]);const O=p.useCallback(Db(async I=>{if(I.trim()){o(!0),l(null);try{const z=await Mb.search(I);z.success&&z.data.hits&&z.data.hits.total.value>0?r(z.data.hits.hits):r([])}catch(z){l(z instanceof Error?z.message:"Une erreur est survenue")}finally{o(!1)}}},500),[]),K=p.useCallback(()=>{O(e)},[e]),ee=p.useCallback(I=>{const z=e,Q=`${F.defaults.baseURL}/highlightera2/${encodeURIComponent(I)}/${encodeURIComponent(z)}`;window.open(Q,"_blank")},[e]),te=p.useCallback(I=>{d(I),f(!0)},[]),Be=p.useCallback(I=>{I.target.files&&w(Array.from(I.target.files))},[]),G=p.useCallback(I=>{w(z=>z.filter((Q,se)=>se!==I))},[]),ze=p.useCallback(I=>new Promise((z,Q)=>{const se=new FileReader;se.readAsDataURL(I),se.onload=()=>{if(typeof se.result=="string"){const pe=se.result.split(",")[1];z(pe)}else Q(new Error("Erreur lors de la lecture du fichier"))},se.onerror=()=>Q(new Error("Erreur lors de la lecture du fichier"))}),[]),St=p.useCallback(async()=>{var z,Q,se;const I={};if(U!=null&&U.name||(I.etape="Aucune étape suivante disponible."),T||(I.userId="Utilisateur non identifié."),u!=null&&u.idDocument||(I.document="Document non sélectionné."),A||(I.userDestinatorName="Destinataire non spécifié."),Object.keys(I).length>0){H(I);return}H({}),j(!0);try{const pe=await Promise.all(P.map(async Ts=>({name:Ts.name,content:await ze(Ts)}))),gr={documentId:u!=null&&u.idDocument?String(u.idDocument):"",userId:T||"",comments:g.trim()?[{content:g}]:[],etapeId:((z=u==null?void 0:u.etape)==null?void 0:z.idEtape)||"",UserDestinatorName:A||"",nextEtapeName:(U==null?void 0:U.name)||"",files:pe},xr=await F.post("/etapes/affect",gr,{headers:{"Content-Type":"application/json"}});if(xr.data.success){const Ts=xr.data.data.document.idDocument;localStorage.setItem("idDocument",Ts),v("Document affecté avec succès."),f(!1),x(""),w([]),setTimeout(()=>v(null),3e3)}else l(xr.data.message||"Erreur lors de l'affectation.")}catch(pe){pe instanceof rt?l(((se=(Q=pe.response)==null?void 0:Q.data)==null?void 0:se.message)||"Erreur lors de l'affectation du document"):l("Erreur inattendue lors de l'affectation du document"),setTimeout(()=>l(null),9e3)}finally{j(!1)}},[U,T,u,g,P,A,ze]),ct=p.useCallback(I=>I.replace(/<strong style="font-weight:bold;color:black;">(.*?)<\/strong>/g,'<span style="background-color: #fef08a; font-weight: bold;">$1</span>'),[]),qe=p.useCallback((I,z)=>{if(!I||!z.trim())return I;const Q=z.split(/\s+/).filter(pe=>pe.length>0).map(pe=>pe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));let se=I;return Q.forEach(pe=>{const gr=new RegExp(`(${pe})`,"gi");se=se.replace(gr,'<span style="background-color: #fef08a; font-weight: bold;">$1</span>')}),se},[]),Ss=p.useMemo(()=>s.map(I=>{var z;return{...I,highlightedContent:(z=I.highlight)!=null&&z.content&&I.highlight.content.length>0?I.highlight.content.map(ct):[qe(I._source.content||"Aucun contenu disponible",e)]}}),[s,e,ct,qe]),fd=({index:I,style:z})=>{const Q=Ss[I];return n.jsx("div",{style:z,className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(nt,{className:"h-6 w-6 text-gray-500"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-blue-600 hover:underline",children:n.jsx("a",{href:"#",onClick:()=>ee(Q._source.file.filename),children:Q._source.file.filename})}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Q._source.file.filename," (",Q._source.file.extension,")"]}),n.jsx("div",{className:"text-sm text-gray-700 mt-1",children:Q.highlightedContent.map((se,pe)=>n.jsx("div",{dangerouslySetInnerHTML:{__html:se}},pe))})]})]}),n.jsx(L,{variant:"secondary",size:"sm",icon:Me,className:"text-sm px-4 py-2",onClick:()=>te(Q),children:"Affecter"})]})})};return n.jsxs("div",{className:"space-y-6 p-6 bg-gray-100 min-h-screen",children:[n.jsx("style",{children:`
          strong[style*="font-weight:bold;color:black;"] {
            background-color: #fef08a !important;
            font-weight: bold !important;
            color: black !important;
          }
        `}),n.jsx(_b,{}),n.jsxs(de,{className:"shadow-lg p-6 bg-white rounded-xl",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center mb-4",children:"Recherche de documents"}),n.jsxs("div",{className:"flex space-x-4 items-center",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("input",{type:"text",value:e,onChange:I=>t(I.target.value),onKeyPress:I=>I.key==="Enter"&&K(),placeholder:"Rechercher dans les documents...",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg shadow-sm"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(li,{className:"h-6 w-6 text-gray-400"})})]}),n.jsx(L,{variant:"primary",onClick:K,loading:i,className:"text-lg px-6 py-3",children:"Rechercher"})]}),e.trim()&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.split(/\s+/).map((I,z)=>I.length>0&&n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:I},z))}),a&&n.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-4 text-sm text-red-600 text-center",children:a}),h&&n.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-md p-4 text-sm text-green-600 text-center",children:h}),Ss.length>0&&n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:["Résultats (",Ss.length,")"]}),n.jsx(vb,{height:400,itemCount:Ss.length,itemSize:150,width:"100%",children:fd})]})]}),y&&n.jsxs(Ib,{onClose:()=>f(!1),children:[n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Étape suivante"}),U?n.jsx("p",{className:"mt-2 text-sm text-gray-900 border border-gray-300 rounded-md px-3 py-2 bg-gray-50",children:U.name}):n.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Aucune étape suivante disponible. Il s'agit peut-être de la dernière étape."}),D.etape&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:D.etape})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Commentaire"}),n.jsx("textarea",{value:g,onChange:I=>x(I.target.value),placeholder:"Ajouter un commentaire...",rows:4,className:"w-full border p-2 mt-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joindre des fichiers"}),n.jsx("input",{type:"file",multiple:!0,onChange:Be,className:"mt-2 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),P.length>0&&n.jsx("div",{className:"mt-3 space-y-2",children:P.map((I,z)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[n.jsxs("div",{className:"flex items-center",children:[I.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(I),alt:I.name,className:"h-8 w-8 mr-2 object-cover rounded"}):n.jsx(nt,{className:"h-8 w-8 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:I.name}),n.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",(I.size/1024).toFixed(1)," KB)"]})]}),n.jsx("button",{onClick:()=>G(z),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Jt,{className:"h-4 w-4"})})]},z))})]}),D.userId&&n.jsx("p",{className:"text-sm text-red-600 mt-2",children:D.userId}),D.document&&n.jsx("p",{className:"text-sm text-red-600 mt-2",children:D.document}),D.userDestinatorName&&n.jsx("p",{className:"text-sm text-red-600 mt-2",children:D.userDestinatorName}),n.jsxs("div",{className:"flex justify-end mt-4 space-x-2",children:[n.jsx(L,{variant:"secondary",onClick:()=>f(!1),children:"Annuler"}),n.jsx(L,{variant:"primary",onClick:St,disabled:b||!U||!A,loading:b,children:"Affecter"})]})]})]})},Lb=({error:e,resetError:t})=>{const s=ke();return n.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsx("div",{className:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100",children:n.jsx(jn,{className:"h-10 w-10 text-red-600"})}),n.jsx("h1",{className:"mt-5 text-2xl font-bold text-gray-900",role:"alert",children:"Une erreur est survenue"}),n.jsx("p",{className:"mt-3 text-gray-600 text-sm",children:(e==null?void 0:e.message)||"Nous rencontrons actuellement des difficultés techniques. Nos équipes travaillent à résoudre le problème."}),e&&n.jsx("div",{className:"mt-4 p-4 bg-red-50 rounded-md",children:n.jsx("pre",{className:"text-xs text-red-700 overflow-auto","aria-hidden":!(e!=null&&e.stack),children:e.stack})}),n.jsxs("div",{className:"mt-8 space-y-3",children:[t&&n.jsx(L,{variant:"primary",icon:Ih,onClick:t,className:"w-full",children:"Réessayer"}),n.jsx(L,{variant:"secondary",icon:Rh,onClick:()=>s("/"),className:"w-full",children:"Retour à l'accueil"})]}),n.jsx("p",{className:"mt-6 text-xs text-gray-500",children:"Si le problème persiste, veuillez contacter le support technique"})]})})})})};class Ub extends p.Component{constructor(s){super(s);ta(this,"resetError",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("Error caught by boundary:",s,r)}render(){return this.state.hasError?n.jsx(Lb,{error:this.state.error||void 0,resetError:this.resetError}):this.props.children}}const Fb=()=>{const[e,t]=p.useState({x:50,y:50}),[s,r]=p.useState(!1),[i,o]=p.useState(!1);return p.useEffect(()=>{o(!0);const a=l=>{s&&t({x:l.clientX*100/window.innerWidth,y:l.clientY*100/window.innerHeight})};return window.addEventListener("mousemove",a),()=>window.removeEventListener("mousemove",a)},[s]),n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(12)].map((a,l)=>n.jsx("div",{className:`absolute rounded-full opacity-20 bg-blue-500 ${i?"animate-pulse":""}`,style:{width:`${Math.random()*10+2}rem`,height:`${Math.random()*10+2}rem`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${l*.2}s`,animationDuration:`${Math.random()*5+3}s`}},l))}),n.jsx("div",{className:"absolute text-9xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 cursor-move transform -translate-x-1/2 -translate-y-1/2 select-none z-10",style:{left:`${e.x}%`,top:`${e.y}%`,textShadow:"0 0 15px rgba(156, 39, 176, 0.5)"},onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onMouseLeave:()=>r(!1),children:"404"}),n.jsxs("div",{className:"relative z-20 text-center px-4",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Page Not Found"}),n.jsx("p",{className:"text-xl mb-8 text-gray-300",children:"Oops! The page you're looking for seems to have wandered off."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 rounded-lg text-lg transition-colors duration-300",children:"Go Back"}),n.jsx("a",{href:"/",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 rounded-lg text-lg transition-all duration-300",children:"Return Home"})]})]}),n.jsx("div",{className:"absolute bottom-6 text-sm text-gray-400",children:n.jsx("span",{className:"animate-pulse",children:'Psst! Try dragging the "404" around'})})]})},on=({roles:e})=>{const t=ne.get("token"),s=ne.get("roleUser");return t?e&&s&&!e.includes(s)?(console.log("Redirecting to login: Role not authorized"),n.jsx(un,{to:W.AUTH.LOGIN})):(console.log("ProtectedRoute: rendering Outlet"),n.jsx(ei,{})):(console.log("Redirecting to login: No token"),n.jsx(un,{to:W.AUTH.LOGIN}))},Vb=()=>n.jsx(Ub,{children:n.jsx(zv,{children:n.jsx(wm,{children:n.jsxs(pm,{children:[n.jsx(J,{path:"/",element:n.jsx(un,{to:W.AUTH.LOGIN})}),n.jsx(J,{path:W.AUTH.LOGIN,element:n.jsx(_h,{})}),n.jsx(J,{path:W.AUTH.SETUP,element:n.jsx(ky,{})}),n.jsx(J,{element:n.jsx(on,{roles:["superadmin","admin"]}),children:n.jsxs(J,{path:W.ADMIN.ROOT,element:n.jsx(Bv,{}),children:[n.jsx(J,{path:W.ADMIN.DASHBOARD,element:n.jsx(Xv,{})}),n.jsx(J,{path:W.ADMIN.CREATE_ADMIN,element:n.jsx(sb,{})}),n.jsx(J,{path:W.ADMIN.COMPANY,element:n.jsx(rb,{})}),n.jsx(J,{path:W.ADMIN.PROCESS_STEPS,element:n.jsx(ab,{})}),n.jsx(J,{path:W.ADMIN.PROJECTS,element:n.jsx(nb,{})}),n.jsx(J,{path:W.ADMIN.PROCESS_STEPS,element:n.jsx(ib,{})}),n.jsx(J,{path:W.ADMIN.ROLES,element:n.jsx(lb,{})}),n.jsx(J,{path:W.ADMIN.USERS,element:n.jsx(cb,{})}),n.jsx(J,{path:W.ADMIN.SETTINGS,element:n.jsx(Jv,{})})]})}),n.jsx(J,{element:n.jsx(on,{}),children:n.jsxs(J,{path:W.USER.ROOT,element:n.jsx(Hv,{}),children:[n.jsx(J,{path:W.USER.DASHBOARD,element:n.jsx(Gv,{})}),n.jsx(J,{path:W.USER.NEW_PROCESS,element:n.jsx(Qv,{})}),n.jsx(J,{path:W.USER.PROCESS_DETAILS,element:n.jsx(Zv,{})}),n.jsx(J,{path:W.USER.PROFILE,element:n.jsx(eb,{})}),n.jsx(J,{path:W.USER.SETTINGS,element:n.jsx(tb,{})})]})}),n.jsx(J,{element:n.jsx(on,{}),children:n.jsx(J,{path:W.SEARCH.INTERFACE,element:n.jsx(Ob,{})})}),n.jsx(J,{path:"*",element:n.jsx(Fb,{})})]})})})});bd.createRoot(document.getElementById("root")).render(n.jsx(p.StrictMode,{children:n.jsx(Vb,{})}));
